/*! For license information please see instantsearch-chat.umd.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("InstantSearchChat",[],t):"object"==typeof exports?exports.InstantSearchChat=t():e.InstantSearchChat=t()}("undefined"!=typeof self?self:this,()=>(()=>{var e={110:(e,t)=>{!function(e){var t=/\S/,n=/\"/g,r=/\n/g,a=/\r/g,o=/\\/g,i=/\u2028/,s=/\u2029/;function c(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function u(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function l(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var r=1,a=e.length;r<a;r++)if(t.charAt(n+r)!=e.charAt(r))return!1;return!0}e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},e.scan=function(n,r){var a=n.length,o=0,i=null,s=null,d="",p=[],f=!1,h=0,m=0,v="{{",g="}}";function y(){d.length>0&&(p.push({tag:"_t",text:new String(d)}),d="")}function _(n,r){if(y(),n&&function(){for(var n=!0,r=m;r<p.length;r++)if(!(n=e.tags[p[r].tag]<e.tags._v||"_t"==p[r].tag&&null===p[r].text.match(t)))return!1;return n}())for(var a,o=m;o<p.length;o++)p[o].text&&((a=p[o+1])&&">"==a.tag&&(a.indent=p[o].text.toString()),p.splice(o,1));else r||p.push({tag:"\n"});f=!1,m=p.length}function b(e,t){var n="="+g,r=e.indexOf(n,t),a=u(e.substring(e.indexOf("=",t)+1,r)).split(" ");return v=a[0],g=a[a.length-1],r+n.length-1}for(r&&(r=r.split(" "),v=r[0],g=r[1]),h=0;h<a;h++)0==o?l(v,n,h)?(--h,y(),o=1):"\n"==n.charAt(h)?_(f):d+=n.charAt(h):1==o?(h+=v.length-1,"="==(i=(s=e.tags[n.charAt(h+1)])?n.charAt(h+1):"_v")?(h=b(n,h),o=0):(s&&h++,o=2),f=h):l(g,n,h)?(p.push({tag:i,n:u(d),otag:v,ctag:g,i:"/"==i?f-v.length:h+g.length}),d="",h+=g.length-1,o=0,"{"==i&&("}}"==g?h++:c(p[p.length-1]))):d+=n.charAt(h);return _(f,!0),p};var d={_t:!0,"\n":!0,$:!0,"/":!0};function p(t,n,r,a){var o,i=[],s=null,c=null;for(o=r[r.length-1];t.length>0;){if(c=t.shift(),o&&"<"==o.tag&&!(c.tag in d))throw new Error("Illegal content in < super tag.");if(e.tags[c.tag]<=e.tags.$||f(c,a))r.push(c),c.nodes=p(t,c.tag,r,a);else{if("/"==c.tag){if(0===r.length)throw new Error("Closing tag without opener: /"+c.n);if(s=r.pop(),c.n!=s.n&&!h(c.n,s.n,a))throw new Error("Nesting error: "+s.n+" vs. "+c.n);return s.end=c.i,i}"\n"==c.tag&&(c.last=0==t.length||"\n"==t[0].tag)}i.push(c)}if(r.length>0)throw new Error("missing closing tag: "+r.pop().n);return i}function f(e,t){for(var n=0,r=t.length;n<r;n++)if(t[n].o==e.n)return e.tag="#",!0}function h(e,t,n){for(var r=0,a=n.length;r<a;r++)if(n[r].c==e&&n[r].o==t)return!0}function m(e){var t=[];for(var n in e.partials)t.push('"'+g(n)+'":{name:"'+g(e.partials[n].name)+'", '+m(e.partials[n])+"}");return"partials: {"+t.join(",")+"}, subs: "+function(e){var t=[];for(var n in e)t.push('"'+g(n)+'": function(c,p,t,i) {'+e[n]+"}");return"{ "+t.join(",")+" }"}(e.subs)}e.stringify=function(t,n,r){return"{code: function (c,p,i) { "+e.wrapMain(t.code)+" },"+m(t)+"}"};var v=0;function g(e){return e.replace(o,"\\\\").replace(n,'\\"').replace(r,"\\n").replace(a,"\\r").replace(i,"\\u2028").replace(s,"\\u2029")}function y(e){return~e.indexOf(".")?"d":"f"}function _(e,t){var n="<"+(t.prefix||"")+e.n+v++;return t.partials[n]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+g(n)+'",c,p,"'+(e.indent||"")+'"));',n}function b(e,t){t.code+="t.b(t.t(t."+y(e.n)+'("'+g(e.n)+'",c,p,0)));'}function w(e){return"t.b("+e+");"}e.generate=function(t,n,r){v=0;var a={code:"",subs:{},partials:{}};return e.walk(t,a),r.asString?this.stringify(a,n,r):this.makeTemplate(a,n,r)},e.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},e.template=e.Template,e.makeTemplate=function(e,t,n){var r=this.makePartials(e);return r.code=new Function("c","p","i",this.wrapMain(e.code)),new this.template(r,t,this,n)},e.makePartials=function(e){var t,n={subs:{},partials:e.partials,name:e.name};for(t in n.partials)n.partials[t]=this.makePartials(n.partials[t]);for(t in e.subs)n.subs[t]=new Function("c","p","t","i",e.subs[t]);return n},e.codegen={"#":function(t,n){n.code+="if(t.s(t."+y(t.n)+'("'+g(t.n)+'",c,p,1),c,p,0,'+t.i+","+t.end+',"'+t.otag+" "+t.ctag+'")){t.rs(c,p,function(c,p,t){',e.walk(t.nodes,n),n.code+="});c.pop();}"},"^":function(t,n){n.code+="if(!t.s(t."+y(t.n)+'("'+g(t.n)+'",c,p,1),c,p,1,0,0,"")){',e.walk(t.nodes,n),n.code+="};"},">":_,"<":function(t,n){var r={partials:{},code:"",subs:{},inPartial:!0};e.walk(t.nodes,r);var a=n.partials[_(t,n)];a.subs=r.subs,a.partials=r.partials},$:function(t,n){var r={subs:{},code:"",partials:n.partials,prefix:t.n};e.walk(t.nodes,r),n.subs[t.n]=r.code,n.inPartial||(n.code+='t.sub("'+g(t.n)+'",c,p,i);')},"\n":function(e,t){t.code+=w('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+y(e.n)+'("'+g(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=w('"'+g(e.text)+'"')},"{":b,"&":b},e.walk=function(t,n){for(var r,a=0,o=t.length;a<o;a++)(r=e.codegen[t[a].tag])&&r(t[a],n);return n},e.parse=function(e,t,n){return p(e,0,[],(n=n||{}).sectionTags||[])},e.cache={},e.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda,t.delimiters,!!t.modelGet].join("||")},e.compile=function(t,n){n=n||{};var r=e.cacheKey(t,n),a=this.cache[r];if(a){var o=a.partials;for(var i in o)delete o[i].instance;return a}return a=this.generate(this.parse(this.scan(t,n.delimiters),t,n),t,n),this.cache[r]=a}}(t)},540:(e,t,n)=>{"use strict";e.exports=n(869)},549:(e,t)=>{!function(e){function t(e,t,n){var r;return t&&"object"==typeof t&&(void 0!==t[e]?r=t[e]:n&&t.get&&"function"==typeof t.get&&(r=t.get(e))),r}e.Template=function(e,t,n,r){e=e||{},this.r=e.code||this.r,this.c=n,this.options=r||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(e,t,n){return""},v:function(e){return e=c(e),s.test(e)?e.replace(n,"&amp;").replace(r,"&lt;").replace(a,"&gt;").replace(o,"&#39;").replace(i,"&quot;"):e},t:c,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},ep:function(e,t){var n=this.partials[e],r=t[n.name];if(n.instance&&n.base==r)return n.instance;if("string"==typeof r){if(!this.c)throw new Error("No compiler available.");r=this.c.compile(r,this.options)}if(!r)return null;if(this.partials[e].base=r,n.subs){for(key in t.stackText||(t.stackText={}),n.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);r=function(e,t,n,r,a,o){function i(){}function s(){}var c;i.prototype=e,s.prototype=e.subs;var u=new i;for(c in u.subs=new s,u.subsText={},u.buf="",r=r||{},u.stackSubs=r,u.subsText=o,t)r[c]||(r[c]=t[c]);for(c in r)u.subs[c]=r[c];for(c in a=a||{},u.stackPartials=a,n)a[c]||(a[c]=n[c]);for(c in a)u.partials[c]=a[c];return u}(r,n.subs,n.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=r,r},rp:function(e,t,n,r){var a=this.ep(e,n);return a?a.ri(t,n,r):""},rs:function(e,t,n){var r=e[e.length-1];if(u(r))for(var a=0;a<r.length;a++)e.push(r[a]),n(e,t,this),e.pop();else n(e,t,this)},s:function(e,t,n,r,a,o,i){var s;return(!u(e)||0!==e.length)&&("function"==typeof e&&(e=this.ms(e,t,n,r,a,o,i)),s=!!e,!r&&s&&t&&t.push("object"==typeof e?e:t[t.length-1]),s)},d:function(e,n,r,a){var o,i=e.split("."),s=this.f(i[0],n,r,a),c=this.options.modelGet,l=null;if("."===e&&u(n[n.length-2]))s=n[n.length-1];else for(var d=1;d<i.length;d++)void 0!==(o=t(i[d],s,c))?(l=s,s=o):s="";return!(a&&!s)&&(a||"function"!=typeof s||(n.push(l),s=this.mv(s,n,r),n.pop()),s)},f:function(e,n,r,a){for(var o=!1,i=!1,s=this.options.modelGet,c=n.length-1;c>=0;c--)if(void 0!==(o=t(e,n[c],s))){i=!0;break}return i?(a||"function"!=typeof o||(o=this.mv(o,n,r)),o):!a&&""},ls:function(e,t,n,r,a){var o=this.options.delimiters;return this.options.delimiters=a,this.b(this.ct(c(e.call(t,r)),t,n)),this.options.delimiters=o,!1},ct:function(e,t,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,n)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,n,r,a,o,i){var s,c=t[t.length-1],u=e.call(c);return"function"==typeof u?!!r||(s=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(u,c,n,s.substring(a,o),i)):u},mv:function(e,t,n){var r=t[t.length-1],a=e.call(r);return"function"==typeof a?this.ct(c(a.call(r)),r,n):a},sub:function(e,t,n,r){var a=this.subs[e];a&&(this.activeSub=e,a(t,n,this,r),this.activeSub=!1)}};var n=/&/g,r=/</g,a=/>/g,o=/\'/g,i=/\"/g,s=/[&<>\"\']/;function c(e){return String(null==e?"":e)}var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}(t)},714:(e,t,n)=>{var r=n(110);r.Template=n(549).Template,r.template=r.Template,e.exports=r},869:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=(Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.consumer"),Symbol.for("react.context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.activity"),Symbol.iterator,{isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}}),a=Object.assign,o={};function i(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||r}function s(){}function c(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||r}i.prototype.isReactComponent={},i.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},s.prototype=i.prototype;var u=c.prototype=new s;u.constructor=c,a(u,i.prototype),u.isPureReactComponent=!0;Array.isArray;var l=Object.prototype.hasOwnProperty;function d(e,t,r){var a=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==a?a:null,props:r}}"function"==typeof reportError&&reportError;t.createElement=function(e,t,n){var r,a={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)l.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var i=arguments.length-2;if(1===i)a.children=n;else if(1<i){for(var s=Array(i),c=0;c<i;c++)s[c]=arguments[c+2];a.children=s}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===a[r]&&(a[r]=i[r]);return d(e,o,a)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};return(()=>{"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.apply(null,arguments)}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function a(e,n,r){return(n=function(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return Array.isArray(t)?e.concat(t):e.concat([t])},[]).filter(Boolean).join(" ")}n.d(r,{default:()=>Jf});var s=["variant","size","iconOnly","className","children"];function c(t){var n=t.createElement;return function(t){var r=t.variant,a=void 0===r?"primary":r,c=t.size,u=void 0===c?"md":c,l=t.iconOnly,d=void 0!==l&&l,p=t.className,f=t.children,h=o(t,s);return n("button",e({type:"button",className:i("ais-Button","ais-Button--".concat(a),"ais-Button--".concat(u),d&&"ais-Button--icon-only",p)},h),f)}}function u(e){var t=e.createElement,n=e.width,r=void 0===n?20:n,a=e.height;return t("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:void 0===a?20:a,fill:"none",viewBox:"0 0 20 20"},t("path",{fill:"currentColor",fillRule:"evenodd",d:"M10 1.875c.27 0 .51.173.594.43l1.593 4.844a1.043 1.043 0 0 0 .664.664l4.844 1.593a.625.625 0 0 1 0 1.188l-4.844 1.593a1.043 1.043 0 0 0-.664.664l-1.593 4.844a.625.625 0 0 1-1.188 0l-1.593-4.844a1.042 1.042 0 0 0-.664-.664l-4.844-1.593a.625.625 0 0 1 0-1.188l4.844-1.593a1.042 1.042 0 0 0 .664-.664l1.593-4.844a.625.625 0 0 1 .594-.43ZM9 7.539A2.292 2.292 0 0 1 7.54 9L4.5 10l3.04 1A2.292 2.292 0 0 1 9 12.46l1 3.04 1-3.04A2.293 2.293 0 0 1 12.46 11l3.04-1-3.04-1A2.292 2.292 0 0 1 11 7.54L10 4.5 9 7.54ZM4.167 1.875c.345 0 .625.28.625.625v3.333a.625.625 0 0 1-1.25 0V2.5c0-.345.28-.625.625-.625ZM15.833 13.542c.345 0 .625.28.625.625V17.5a.625.625 0 1 1-1.25 0v-3.333c0-.345.28-.625.625-.625Z",clipRule:"evenodd"}),t("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.875 4.167c0-.346.28-.625.625-.625h3.333a.625.625 0 1 1 0 1.25H2.5a.625.625 0 0 1-.625-.625ZM13.542 15.833c0-.345.28-.625.625-.625H17.5a.625.625 0 0 1 0 1.25h-3.333a.625.625 0 0 1-.625-.625Z",clipRule:"evenodd"}))}function l(e){var t=e.createElement,n=e.width,r=void 0===n?16:n,a=e.height;return t("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:void 0===a?16:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"m5 12 7-7 7 7"}),t("path",{d:"M12 19V5"}))}function d(e){var t=e.createElement,n=e.width,r=void 0===n?16:n,a=e.height;return t("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:void 0===a?16:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"m18 15-6-6-6 6"}))}function p(e){var t=e.createElement,n=e.width,r=void 0===n?16:n,a=e.height;return t("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:void 0===a?16:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"m6 9 6 6 6-6"}))}function f(e){var t=e.createElement,n=e.width,r=void 0===n?16:n,a=e.height;return t("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:void 0===a?16:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"M18 6 6 18"}),t("path",{d:"m6 6 12 12"}))}function h(e){var t=e.createElement,n=e.width,r=void 0===n?16:n,a=e.height;return t("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:void 0===a?16:a,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"M15 3h6v6"}),t("path",{d:"m21 3-7 7"}),t("path",{d:"m3 21 7-7"}),t("path",{d:"M9 21H3v-6"}))}function m(e){var t=e.createElement,n=e.width,r=void 0===n?16:n,a=e.height;return t("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:void 0===a?16:a,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"m14 10 7-7"}),t("path",{d:"M20 10h-6V4"}),t("path",{d:"m3 21 7-7"}),t("path",{d:"M4 14h6v6"}))}function v(e){var t=e.createElement,n=e.width,r=void 0===n?16:n,a=e.height;return t("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:void 0===a?16:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t("circle",{cx:"12",cy:"12",r:"10"}),t("rect",{x:"9",y:"9",width:"6",height:"6",rx:"1"}))}function g(e){var t=e.createElement,n=e.width,r=void 0===n?16:n,a=e.height;return t("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:void 0===a?16:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),t("path",{d:"M21 3v5h-5"}),t("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),t("path",{d:"M3 21v-5h5"}))}function y(e){var t=e.createElement,n=e.width,r=void 0===n?16:n,a=e.height;return t("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:void 0===a?16:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),t("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}))}function _(e){var t=e.createElement,n=e.width,r=void 0===n?16:n,a=e.height;return t("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:void 0===a?16:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t("circle",{cx:"12",cy:"12",r:"1"}),t("circle",{cx:"12",cy:"5",r:"1"}),t("circle",{cx:"12",cy:"19",r:"1"}))}function b(e){var t=e.createElement,n=e.width,r=void 0===n?24:n,a=e.height;return t("svg",{viewBox:"12 12 24 24",width:r,height:void 0===a?24:a,role:"status","aria-busy":"true","aria-live":"polite"},t("title",null,"Loading spinner"),t("circle",{cx:"24",cy:"24",r:"11",fill:"none",strokeWidth:"2",stroke:"currentColor"}))}var w=["maximized","onToggleMaximize","onClose","onClear","canClear","closeIconComponent","minimizeIconComponent","maximizeIconComponent","titleIconComponent","classNames","translations"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){if(e){if("string"==typeof e)return x(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}var S=n(540);function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}const T=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((e,t)=>(e[t.toLowerCase()]=t,e),{class:"className",for:"htmlFor"}),C={amp:"&",apos:"'",gt:">",lt:"<",nbsp:" ",quot:"“"},j=["style","script","pre"],I=["src","href","data","formAction","srcDoc","action"],P=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,N=/\n{2,}$/,A=/^(\s*>[\s\S]*?)(?=\n\n|$)/,z=/^ *> ?/gm,R=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,M=/^ {2,}\n/,$=/^(?:([-*_])( *\1){2,}) *(?:\n *)+\n/,Z=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,L=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,D=/^(`+)((?:\\`|(?!\1)`|[^`])+)\1/,F=/^(?:\n *)*\n/,U=/\r\n?/g,B=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,H=/^\[\^([^\]]+)]/,V=/\f/g,W=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,K=/^\s*?\[(x|\s)\]/,q=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,J=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,Y=/^([^\n]+)\n *(=|-)\2{2,} *\n/,G=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,X=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,Q=/^<!--[\s\S]*?(?:-->)/,ee=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,te=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,ne=/^\{.*\}$/,re=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,ae=/^<([^ >]+[:@\/][^ >]+)>/,oe=/-([a-z])?/gi,ie=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,se=/^[^\n]+(?:  \n|\n{2,})/,ce=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,ue=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,le=/^\[([^\]]*)\] ?\[([^\]]*)\]/,de=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,pe=/\t/g,fe=/(^ *\||\| *$)/g,he=/^ *:-+: *$/,me=/^ *:-+ *$/,ve=/^ *-+: *$/,ge=e=>`(?=[\\s\\S]+?\\1${e?"\\1":""})`,ye="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|\\\\\\1|[\\s\\S])+?)",_e=RegExp(`^([*_])\\1${ge(1)}${ye}\\1\\1(?!\\1)`),be=RegExp(`^([*_])${ge(0)}${ye}\\1(?!\\1)`),we=RegExp(`^(==)${ge(0)}${ye}\\1`),ke=RegExp(`^(~~)${ge(0)}${ye}\\1`),xe=/^(:[a-zA-Z0-9-_]+:)/,Oe=/^\\([^0-9A-Za-z\s])/,Se=/\\([^0-9A-Za-z\s])/g,Ee=/^[\s\S](?:(?!  \n|[0-9]\.|http)[^=*_~\-\n:<`\\\[!])*/,Te=/^\n+/,Ce=/^([ \t]*)/,je=/(?:^|\n)( *)$/,Ie="(?:\\d+\\.)",Pe="(?:[*+-])";function Ne(e){return"( *)("+(1===e?Ie:Pe)+") +"}const Ae=Ne(1),ze=Ne(2);function Re(e){return RegExp("^"+(1===e?Ae:ze))}const Me=Re(1),$e=Re(2);function Ze(e){return RegExp("^"+(1===e?Ae:ze)+"[^\\n]*(?:\\n(?!\\1"+(1===e?Ie:Pe)+" )[^\\n]*)*(\\n|$)","gm")}const Le=Ze(1),De=Ze(2);function Fe(e){const t=1===e?Ie:Pe;return RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}const Ue=Fe(1),Be=Fe(2);function He(e,t){const n=1===t,r=n?Ue:Be,a=n?Le:De,o=n?Me:$e;return{t:e=>o.test(e),o:nt(function(e,t){const n=je.exec(t.prevCapture);return n&&(t.list||!t.inline&&!t.simple)?r.exec(e=n[1]+e):null}),i:1,u(e,t,r){const i=n?+e[2]:void 0,s=e[0].replace(N,"\n").match(a);let c=!1;return{items:s.map(function(e,n){const a=o.exec(e)[0].length,i=RegExp("^ {1,"+a+"}","gm"),u=e.replace(i,"").replace(o,""),l=n===s.length-1,d=-1!==u.indexOf("\n\n")||l&&c;c=d;const p=r.inline,f=r.list;let h;r.list=!0,d?(r.inline=!1,h=qe(u)+"\n\n"):(r.inline=!0,h=qe(u));const m=t(h,r);return r.inline=p,r.list=f,m}),ordered:n,start:i}},l:(t,n,r)=>e(t.ordered?"ol":"ul",{key:r.key,start:"20"===t.type?t.start:void 0},t.items.map(function(t,a){return e("li",{key:a},n(t,r))}))}}const Ve=RegExp("^\\[((?:\\[[^\\[\\]]*(?:\\[[^\\[\\]]*\\][^\\[\\]]*)*\\]|[^\\[\\]])*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)"),We=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/;function Ke(e){return"string"==typeof e}function qe(e){let t=e.length;for(;t>0&&e[t-1]<=" ";)t--;return e.slice(0,t)}function Je(e,t){return e.startsWith(t)}function Ye(e,t,n){if(Array.isArray(n)){for(let t=0;t<n.length;t++)if(Je(e,n[t]))return!0;return!1}return n(e,t)}function Ge(e){return e.replace(/[ÀÁÂÃÄÅàáâãäåæÆ]/g,"a").replace(/[çÇ]/g,"c").replace(/[ðÐ]/g,"d").replace(/[ÈÉÊËéèêë]/g,"e").replace(/[ÏïÎîÍíÌì]/g,"i").replace(/[Ññ]/g,"n").replace(/[øØœŒÕõÔôÓóÒò]/g,"o").replace(/[ÜüÛûÚúÙù]/g,"u").replace(/[ŸÿÝý]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function Xe(e){return ve.test(e)?"right":he.test(e)?"center":me.test(e)?"left":null}function Qe(e,t,n,r){const a=n.inTable;n.inTable=!0;let o=[[]],i="";function s(){if(!i)return;const e=o[o.length-1];e.push.apply(e,t(i,n)),i=""}return e.trim().split(/(`[^`]*`|\\\||\|)/).filter(Boolean).forEach((e,t,n)=>{"|"===e.trim()&&(s(),r)?0!==t&&t!==n.length-1&&o.push([]):i+=e}),s(),n.inTable=a,o}function et(e,t,n){n.inline=!0;const r=e[2]?e[2].replace(fe,"").split("|").map(Xe):[],a=e[3]?function(e,t,n){return e.trim().split("\n").map(function(e){return Qe(e,t,n,!0)})}(e[3],t,n):[],o=Qe(e[1],t,n,!!a.length);return n.inline=!1,a.length?{align:r,cells:a,header:o,type:"25"}:{children:o,type:"21"}}function tt(e,t){return null==e.align[t]?{}:{textAlign:e.align[t]}}function nt(e){return e.inline=1,e}function rt(e){return nt(function(t,n){return n.inline?e.exec(t):null})}function at(e){return nt(function(t,n){return n.inline||n.simple?e.exec(t):null})}function ot(e){return function(t,n){return n.inline||n.simple?null:e.exec(t)}}function it(e){return nt(function(t){return e.exec(t)})}const st=/(javascript|vbscript|data(?!:image)):/i;function ct(e){try{const t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"");if(st.test(t))return null}catch(e){return null}return e}function ut(e){return e?e.replace(Se,"$1"):e}function lt(e,t,n){const r=n.inline||!1,a=n.simple||!1;n.inline=!0,n.simple=!0;const o=e(t,n);return n.inline=r,n.simple=a,o}function dt(e,t,n){const r=n.inline||!1,a=n.simple||!1;n.inline=!1,n.simple=!0;const o=e(t,n);return n.inline=r,n.simple=a,o}function pt(e,t,n){const r=n.inline||!1;n.inline=!1;const a=e(t,n);return n.inline=r,a}const ft=(e,t,n)=>({children:lt(t,e[2],n)});function ht(){return{}}function mt(){return null}function vt(...e){return e.filter(Boolean).join(" ")}function gt(e,t,n){let r=e;const a=t.split(".");for(;a.length&&(r=r[a[0]],void 0!==r);)a.shift();return r||n}var yt=["classNames","message","side","variant","actions","autoHideActions","leadingComponent","actionsComponent","footerComponent","tools","indexUiState","setIndexUiState","onClose","translations"];function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bt(t){var n=t.createElement,r=c({createElement:n});return function(t){var s=t.classNames,c=void 0===s?{}:s,u=t.message,l=t.side,d=void 0===l?"left":l,p=t.variant,f=void 0===p?"subtle":p,h=t.actions,m=void 0===h?[]:h,v=t.autoHideActions,g=void 0!==v&&v,y=t.leadingComponent,b=t.actionsComponent,w=t.footerComponent,k=t.tools,x=void 0===k?{}:k,O=t.indexUiState,N=t.setIndexUiState,fe=t.onClose,he=t.translations,me=o(t,yt),ve=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({messageLabel:"Message",actionsLabel:"Message actions"},he),ge=Boolean(y),ye=Boolean(m.length>0||b),Se={root:i("ais-ChatMessage","ais-ChatMessage--".concat(d),"ais-ChatMessage--".concat(f),g&&"ais-ChatMessage--auto-hide-actions",c.root),container:i("ais-ChatMessage-container",c.container),leading:i("ais-ChatMessage-leading",c.leading),content:i("ais-ChatMessage-content",c.content),message:i("ais-ChatMessage-message",c.message),actions:i("ais-ChatMessage-actions",c.actions),footer:i("ais-ChatMessage-footer",c.footer)};return n("article",e({},me,{className:i(Se.root,me.className),"aria-label":ve.messageLabel}),n("div",{className:i(Se.container)},ge&&n("div",{className:i(Se.leading)},y&&n(y,null)),n("div",{className:i(Se.content)},n("div",{className:i(Se.message)},u.parts.map(function(e,t){if("step-start"===e.type)return null;if("text"===e.type){var r=function(e="",t={}){t.overrides=t.overrides||{},t.namedCodesToUnicode=t.namedCodesToUnicode?E({},C,t.namedCodesToUnicode):C;const n=t.slugify||Ge,r=t.sanitizer||ct,a=t.createElement||S.createElement,o=[A,Z,L,t.enforceAtxHeadings?J:q,Y,ie,Ue,Be],i=[...o,se,G,Q,te];function s(e,t){for(let n=0;n<e.length;n++)if(e[n].test(t))return!0;return!1}function c(e,n,...r){const o=gt(t.overrides,e+".props",{});return a(function(e,t){const n=gt(t,e);return n?"function"==typeof n||"object"==typeof n&&"render"in n?n:gt(t,e+".component",e):e}(e,t.overrides),E({},n,o,{className:vt(null==n?void 0:n.className,o.className)||void 0}),...r)}function u(e){e=e.replace(W,"");let n=!1;t.forceInline?n=!0:t.forceBlock||(n=!1===de.test(e));const r=m(h(n?e:qe(e).replace(Te,"")+"\n\n",{inline:n}));for(;Ke(r[r.length-1])&&!r[r.length-1].trim();)r.pop();if(null===t.wrapper)return r;const o=t.wrapper||(n?"span":"div");let i;if(r.length>1||t.forceWrapper)i=r;else{if(1===r.length)return i=r[0],"string"==typeof i?c("span",{key:"outer"},i):i;i=null}return a(o,{key:"outer"},i)}function l(e,t){if(!t||!t.trim())return null;const n=t.match(P);return n?n.reduce(function(t,n){const a=n.indexOf("=");if(-1!==a){const o=function(e){return-1!==e.indexOf("-")&&null===e.match(ee)&&(e=e.replace(oe,function(e,t){return t.toUpperCase()})),e}(n.slice(0,a)).trim(),i=function(e){const t=e[0];return('"'===t||"'"===t)&&e.length>=2&&e[e.length-1]===t?e.slice(1,-1):e}(n.slice(a+1).trim()),s=T[o]||o;if("ref"===s)return t;const c=t[s]=function(e,t,n,r){return"style"===t?function(e){const t=[];let n="",r=!1,a=!1,o="";if(!e)return t;for(let i=0;i<e.length;i++){const s=e[i];if('"'!==s&&"'"!==s||r||(a?s===o&&(a=!1,o=""):(a=!0,o=s)),"("===s&&n.endsWith("url")?r=!0:")"===s&&r&&(r=!1),";"!==s||a||r)n+=s;else{const e=n.trim();if(e){const n=e.indexOf(":");if(n>0){const r=e.slice(0,n).trim(),a=e.slice(n+1).trim();t.push([r,a])}}n=""}}const i=n.trim();if(i){const e=i.indexOf(":");if(e>0){const n=i.slice(0,e).trim(),r=i.slice(e+1).trim();t.push([n,r])}}return t}(n).reduce(function(t,[n,a]){return t[n.replace(/(-[a-z])/g,e=>e[1].toUpperCase())]=r(a,e,n),t},{}):-1!==I.indexOf(t)?r(ut(n),e,t):(n.match(ne)&&(n=ut(n.slice(1,n.length-1))),"true"===n||"false"!==n&&n)}(e,o,i,r);"string"==typeof c&&(G.test(c)||te.test(c))&&(t[s]=u(c.trim()))}else"style"!==n&&(t[T[n]||n]=!0);return t},{}):null}const d=[],p={},f={0:{t:[">"],o:ot(A),i:1,u(e,t,n){const[,r,a]=e[0].replace(z,"").match(R);return{alert:r,children:t(a,n)}},l(e,t,r){const a={key:r.key};return e.alert&&(a.className="markdown-alert-"+n(e.alert.toLowerCase(),Ge),e.children.unshift({attrs:{},children:[{type:"27",text:e.alert}],noInnerParse:!0,type:"11",tag:"header"})),c("blockquote",a,t(e.children,r))}},1:{t:["  "],o:it(M),i:1,u:ht,l:(e,t,n)=>c("br",{key:n.key})},2:{t:["--","__","**","- ","* ","_ "],o:ot($),i:1,u:ht,l:(e,t,n)=>c("hr",{key:n.key})},3:{t:["    "],o:ot(L),i:0,u:e=>({lang:void 0,text:ut(qe(e[0].replace(/^ {4}/gm,"")))}),l:(e,t,n)=>c("pre",{key:n.key},c("code",E({},e.attrs,{className:e.lang?"lang-"+e.lang:""}),e.text))},4:{t:["```","~~~"],o:ot(Z),i:0,u:e=>({attrs:l("code",e[3]||""),lang:e[2]||void 0,text:e[4],type:"3"})},5:{t:["`"],o:at(D),i:3,u:e=>({text:ut(e[2])}),l:(e,t,n)=>c("code",{key:n.key},e.text)},6:{t:["[^"],o:ot(B),i:0,u:e=>(d.push({footnote:e[2],identifier:e[1]}),{}),l:mt},7:{t:["[^"],o:rt(H),i:1,u:e=>({target:"#"+n(e[1],Ge),text:e[1]}),l:(e,t,n)=>c("a",{key:n.key,href:r(e.target,"a","href")},c("sup",{key:n.key},e.text))},8:{t:["[ ]","[x]"],o:rt(K),i:1,u:e=>({completed:"x"===e[1].toLowerCase()}),l:(e,t,n)=>c("input",{checked:e.completed,key:n.key,readOnly:!0,type:"checkbox"})},9:{t:["#"],o:ot(t.enforceAtxHeadings?J:q),i:1,u:(e,t,r)=>({children:lt(t,e[2],r),id:n(e[2],Ge),level:e[1].length}),l:(e,t,n)=>c("h"+e.level,{id:e.id,key:n.key},t(e.children,n))},10:{t:e=>{const t=e.indexOf("\n");return t>0&&t<e.length-1&&("="===e[t+1]||"-"===e[t+1])},o:ot(Y),i:1,u:(e,t,n)=>({children:lt(t,e[1],n),level:"="===e[2]?1:2,type:"9"})},11:{t:["<"],o:it(G),i:1,u(e,t,n){const[,r]=e[3].match(Ce),a=RegExp("^"+r,"gm"),o=e[3].replace(a,""),c=s(i,o)?pt:lt,u=e[1].toLowerCase(),d=-1!==j.indexOf(u),p=(d?u:e[1]).trim(),f={attrs:l(p,e[2]),noInnerParse:d,tag:p};if(n.inAnchor=n.inAnchor||"a"===u,d)f.text=e[3];else{const e=n.inHTML;n.inHTML=!0,f.children=c(t,o,n),n.inHTML=e}return n.inAnchor=!1,f},l:(e,t,n)=>c(e.tag,E({key:n.key},e.attrs),e.text||(e.children?t(e.children,n):""))},13:{t:["<"],o:it(te),i:1,u(e){const t=e[1].trim();return{attrs:l(t,e[2]||""),tag:t}},l:(e,t,n)=>c(e.tag,E({},e.attrs,{key:n.key}))},12:{t:["\x3c!--"],o:it(Q),i:1,u:()=>({}),l:mt},14:{t:["!["],o:at(We),i:1,u:e=>({alt:ut(e[1]),target:ut(e[2]),title:ut(e[3])}),l:(e,t,n)=>c("img",{key:n.key,alt:e.alt||void 0,title:e.title||void 0,src:r(e.target,"img","src")})},15:{t:["["],o:rt(Ve),i:3,u:(e,t,n)=>({children:dt(t,e[1],n),target:ut(e[2]),title:ut(e[3])}),l:(e,t,n)=>c("a",{key:n.key,href:r(e.target,"a","href"),title:e.title},t(e.children,n))},16:{t:["<"],o:rt(ae),i:0,u(e){let t=e[1],n=!1;return-1!==t.indexOf("@")&&-1===t.indexOf("//")&&(n=!0,t=t.replace("mailto:","")),{children:[{text:t,type:"27"}],target:n?"mailto:"+t:t,type:"15"}}},17:{t:(e,n)=>!n.inAnchor&&!t.disableAutoLink&&(Je(e,"http://")||Je(e,"https://")),o:rt(re),i:0,u:e=>({children:[{text:e[1],type:"27"}],target:e[1],title:void 0,type:"15"})},20:He(c,1),33:He(c,2),19:{t:["\n"],o:ot(F),i:3,u:ht,l:()=>"\n"},21:{o:nt(function(e,t){if(t.inline||t.simple||t.inHTML&&-1===e.indexOf("\n\n")&&-1===t.prevCapture.indexOf("\n\n"))return null;let n="",r=0;for(;;){const t=e.indexOf("\n",r),a=e.slice(r,-1===t?void 0:t+1);if(s(o,a))break;if(n+=a,-1===t||!a.trim())break;r=t+1}const a=qe(n);return""===a?null:[n,,a]}),i:3,u:ft,l:(e,t,n)=>c("p",{key:n.key},t(e.children,n))},22:{t:["["],o:rt(ce),i:0,u:e=>(p[e[1]]={target:e[2],title:e[4]},{}),l:mt},23:{t:["!["],o:at(ue),i:0,u:e=>({alt:e[1]?ut(e[1]):void 0,ref:e[2]}),l:(e,t,n)=>p[e.ref]?c("img",{key:n.key,alt:e.alt,src:r(p[e.ref].target,"img","src"),title:p[e.ref].title}):null},24:{t:e=>"["===e[0]&&-1===e.indexOf("]("),o:rt(le),i:0,u:(e,t,n)=>({children:t(e[1],n),fallbackChildren:e[0],ref:e[2]}),l:(e,t,n)=>p[e.ref]?c("a",{key:n.key,href:r(p[e.ref].target,"a","href"),title:p[e.ref].title},t(e.children,n)):c("span",{key:n.key},e.fallbackChildren)},25:{t:["|"],o:ot(ie),i:1,u:et,l(e,t,n){const r=e;return c("table",{key:n.key},c("thead",null,c("tr",null,r.header.map(function(e,a){return c("th",{key:a,style:tt(r,a)},t(e,n))}))),c("tbody",null,r.cells.map(function(e,a){return c("tr",{key:a},e.map(function(e,a){return c("td",{key:a,style:tt(r,a)},t(e,n))}))})))}},27:{o:nt(function(e,t){let n;return Je(e,":")&&(n=xe.exec(e)),n||Ee.exec(e)}),i:4,u(e){const n=e[0];return{text:-1===n.indexOf("&")?n:n.replace(X,(e,n)=>t.namedCodesToUnicode[n]||e)}},l:e=>e.text},28:{t:["**","__"],o:at(_e),i:2,u:(e,t,n)=>({children:t(e[2],n)}),l:(e,t,n)=>c("strong",{key:n.key},t(e.children,n))},29:{t:e=>{const t=e[0];return("*"===t||"_"===t)&&e[1]!==t},o:at(be),i:3,u:(e,t,n)=>({children:t(e[2],n)}),l:(e,t,n)=>c("em",{key:n.key},t(e.children,n))},30:{t:["\\"],o:at(Oe),i:1,u:e=>({text:e[1],type:"27"})},31:{t:["=="],o:at(we),i:3,u:ft,l:(e,t,n)=>c("mark",{key:n.key},t(e.children,n))},32:{t:["~~"],o:at(ke),i:3,u:ft,l:(e,t,n)=>c("del",{key:n.key},t(e.children,n))}};!0===t.disableParsingRawHTML&&(delete f[11],delete f[13]);const h=function(e){var t=Object.keys(e);function n(r,a){var o=[];if(a.prevCapture=a.prevCapture||"",r.trim())for(;r;)for(var i=0;i<t.length;){var s=t[i],c=e[s];if(!c.t||Ye(r,a,c.t)){var u=c.o(r,a);if(u&&u[0]){r=r.substring(u[0].length);var l=c.u(u,n,a);a.prevCapture+=u[0],l.type||(l.type=s),o.push(l);break}i++}else i++}return a.prevCapture="",o}return t.sort(function(t,n){return e[t].i-e[n].i||(t<n?-1:1)}),function(e,t){return n(function(e){return e.replace(U,"\n").replace(V,"").replace(pe,"    ")}(e),t)}}(f),m=function(e,t){return function n(r,a={}){if(Array.isArray(r)){const e=a.key,t=[];let o=!1;for(let e=0;e<r.length;e++){a.key=e;const i=n(r[e],a),s=Ke(i);s&&o?t[t.length-1]+=i:null!==i&&t.push(i),o=s}return a.key=e,t}return function(n,r,a){const o=e[n.type].l;return t?t(()=>o(n,r,a),n,r,a):o(n,r,a)}(r,n,a)}}(f,t.renderRule),v=u(e);return d.length?c("div",null,v,c("footer",{key:"footer"},d.map(function(e){return c("div",{id:n(e.identifier,Ge),key:e.identifier},e.identifier,m(h(e.footnote,{inline:!0})))}))):v}(e.text,{createElement:n,disableParsingRawHTML:!0});return n("span",{key:"".concat(u.id,"-").concat(t)},r)}if(c="tool-",e.type.slice(0,5)===c){var a=e.type.replace("tool-",""),o=x[a];if(o){var i=o.layoutComponent,s=e;return n("div",{key:"".concat(u.id,"-").concat(t),className:"ais-ChatMessage-tool"},n(i,{message:s,indexUiState:O,setIndexUiState:N,addToolResult:function(t){var n;return null===(n=o.addToolResult)||void 0===n?void 0:n.call(o,{output:t.output,tool:e.type,toolCallId:s.toolCallId})},onClose:fe}))}}var c;return null})),ye&&n("div",{className:i(Se.actions),"aria-label":ve.actionsLabel},b?n(b,{actions:m,message:u}):m.map(function(e,t){return n(r,{key:t,variant:"ghost",size:"sm",iconOnly:!0,className:"ais-ChatMessage-action",disabled:e.disabled,"aria-label":e.title,onClick:function(){var t;return null===(t=e.onClick)||void 0===t?void 0:t.call(e,u)}},e.icon?n(e.icon,null):n(_,{createElement:n}))})),w&&n("div",{className:i(Se.footer)},n(w,null)))))}}var wt=["onReload","actions","translations"];function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var xt=["translations"];function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var St=["classNames","messages","messageComponent","loaderComponent","errorComponent","actionsComponent","tools","indexUiState","setIndexUiState","status","hideScrollToBottom","onReload","onClose","translations","userMessageProps","assistantMessageProps","isClearing","onClearTransitionEnd","isScrollAtBottom","scrollRef","contentRef","onScrollToBottom"];function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Tt=function(e){return e.parts.map(function(e){return"text"in e?e.text:""}).join("")},Ct=function(e){navigator.clipboard.writeText(Tt(e))};function jt(t){var n=t.createElement,r=t.Fragment,a=bt({createElement:n,Fragment:r});return function(t){var r,o=t.message,i=t.userMessageProps,s=t.assistantMessageProps,c=t.tools,u=t.indexUiState,l=t.setIndexUiState,d=t.onReload,p=t.onClose,f=t.translations,h=t.actionsComponent,m=[].concat((r=function(e){return""!==Tt(e).trim()}(o)?[{title:f.copyToClipboardLabel,icon:function(){return n(y,{createElement:n})},onClick:Ct}]:[],function(e){if(Array.isArray(e))return x(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||O(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{title:f.regenerateLabel,icon:function(){return n(g,{createElement:n})},onClick:function(e){return d(e.id)}}]),v="user"===o.role?i:s,_="user"===o.role?void 0:m;return n(a,e({side:"user"===o.role?"right":"left",variant:"user"===o.role?"neutral":"subtle",message:o,tools:c,indexUiState:u,setIndexUiState:l,onClose:p,actions:_,actionsComponent:h,"data-role":o.role},v))}}function It(t){var n=t.createElement,r=t.Fragment,s=c({createElement:n}),u=jt({createElement:n,Fragment:r}),l=function(t){var n=t.createElement;return function(t){var r=t.translations,i=o(t,xt),s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({loaderText:"Thinking..."},r);return n("article",e({className:"ais-ChatMessageLoader ais-ChatMessage ais-ChatMessage--left ais-ChatMessage--subtle"},i),n("div",{className:"ais-ChatMessage-container"},n("div",{className:"ais-ChatMessage-leading"},n("div",{className:"ais-ChatMessageLoader-spinner"},n(b,{createElement:n}))),n("div",{className:"ais-ChatMessage-content"},n("div",{className:"ais-ChatMessage-message"},s.loaderText&&n("div",{className:"ais-ChatMessageLoader-text"},s.loaderText),n("div",{className:"ais-ChatMessageLoader-skeletonWrapper"},n("div",{className:"ais-ChatMessageLoader-skeletonItem"}),n("div",{className:"ais-ChatMessageLoader-skeletonItem"}))))))}}({createElement:n}),d=function(t){var n=t.createElement,r=c({createElement:n});return function(t){var i=t.onReload,s=t.actions,c=t.translations,u=o(t,wt),l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({errorMessage:"Sorry, we are not able to generate a response at the moment. Please retry or contact support.",retryText:"Retry"},c);return n("article",e({className:"ais-ChatMessageError ais-ChatMessage ais-ChatMessage--left ais-ChatMessage--subtle"},u),n("div",{className:"ais-ChatMessage-container"},n("div",{className:"ais-ChatMessage-content"},n("div",{className:"ais-ChatMessage-message"},l.errorMessage),(s||i)&&n("div",{className:"ais-ChatMessage-actions"},s?s.map(function(t,a){return n(r,e({key:a,variant:"ghost",className:"ais-ChatMessage-action"},t),t.children)}):n(r,{variant:"primary",size:"md",className:"ais-ChatMessage-errorAction",onClick:function(){return null==i?void 0:i()}},n(g,{createElement:n}),l.retryText)))))}}({createElement:n});return function(t){var r=t.classNames,c=void 0===r?{}:r,f=t.messages,h=void 0===f?[]:f,m=t.messageComponent,v=t.loaderComponent,g=t.errorComponent,y=t.actionsComponent,_=t.tools,b=t.indexUiState,w=t.setIndexUiState,k=t.status,x=void 0===k?"ready":k,O=t.hideScrollToBottom,S=void 0!==O&&O,E=t.onReload,T=t.onClose,C=t.translations,j=t.userMessageProps,I=t.assistantMessageProps,P=t.isClearing,N=void 0!==P&&P,A=t.onClearTransitionEnd,z=t.isScrollAtBottom,R=t.scrollRef,M=t.contentRef,$=t.onScrollToBottom,Z=o(t,St),L=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({scrollToBottomLabel:"Scroll to bottom",copyToClipboardLabel:"Copy to clipboard",regenerateLabel:"Regenerate"},C),D={root:i("ais-ChatMessages",c.root),scroll:i("ais-ChatMessages-scroll ais-Scrollbar",c.scroll),content:i("ais-ChatMessages-content",c.content),scrollToBottom:i("ais-ChatMessages-scrollToBottom",c.scrollToBottom),scrollToBottomHidden:i("ais-ChatMessages-scrollToBottom--hidden",c.scrollToBottomHidden)},F=m||u,U=v||l,B=g||d;return n("div",e({},Z,{className:i(D.root,Z.className),role:"log","aria-live":"polite"}),n("div",{className:i(D.scroll),ref:R},n("div",{className:i(D.content,N&&"ais-ChatMessages-content--clearing"),ref:M,onTransitionEnd:function(e){e.target===e.currentTarget&&"opacity"===e.propertyName&&N&&(null==A||A())}},h.map(function(e){return n(F,{key:e.id,message:e,userMessageProps:j,assistantMessageProps:I,tools:_,indexUiState:b,setIndexUiState:w,onReload:E,actionsComponent:y,onClose:T,translations:L})}),"submitted"===x&&n(U,{translations:{loaderText:L.loaderText}}),"error"===x&&n(B,{onReload:E}))),n(s,{variant:"outline",size:"sm",iconOnly:!0,className:i(D.scrollToBottom,(S||z)&&D.scrollToBottomHidden),onClick:$,"aria-label":L.scrollToBottomLabel,tabIndex:z?-1:0},n(p,{createElement:n})))}}var Pt=["classNames","headerComponent","footerComponent","value","placeholder","status","disabled","maxRows","autoFocus","translations","onInput","onSubmit","onKeyDown","onStop","promptRef"];function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var At=["open","onClick","toggleIconComponent","classNames","className"],zt=["open","maximized","headerProps","toggleButtonProps","messagesProps","promptProps","headerComponent","promptComponent","toggleButtonComponent","classNames","className"];function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var $t,Zt,Lt,Dt,Ft,Ut,Bt,Ht,Vt,Wt,Kt,qt={},Jt=[],Yt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Gt=Array.isArray;function Xt(e,t){for(var n in t)e[n]=t[n];return e}function Qt(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function en(e,t,n){var r,a,o,i={};for(o in t)"key"==o?r=t[o]:"ref"==o?a=t[o]:i[o]=t[o];if(arguments.length>2&&(i.children=arguments.length>3?$t.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===i[o]&&(i[o]=e.defaultProps[o]);return tn(e,i,r,a,null)}function tn(e,t,n,r,a){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==a?++Lt:a,__i:-1,__u:0};return null==a&&null!=Zt.vnode&&Zt.vnode(o),o}function nn(e){return e.children}function rn(e,t){this.props=e,this.context=t}function an(e,t){if(null==t)return e.__?an(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?an(e):null}function on(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return on(e)}}function sn(e){(!e.__d&&(e.__d=!0)&&Dt.push(e)&&!cn.__r++||Ft!=Zt.debounceRendering)&&((Ft=Zt.debounceRendering)||Ut)(cn)}function cn(){for(var e,t,n,r,a,o,i,s=1;Dt.length;)Dt.length>s&&Dt.sort(Bt),e=Dt.shift(),s=Dt.length,e.__d&&(n=void 0,r=void 0,a=(r=(t=e).__v).__e,o=[],i=[],t.__P&&((n=Xt({},r)).__v=r.__v+1,Zt.vnode&&Zt.vnode(n),mn(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[a]:null,o,null==a?an(r):a,!!(32&r.__u),i),n.__v=r.__v,n.__.__k[n.__i]=n,gn(o,n,i),r.__e=r.__=null,n.__e!=a&&on(n)));cn.__r=0}function un(e,t,n,r,a,o,i,s,c,u,l){var d,p,f,h,m,v,g,y=r&&r.__k||Jt,_=t.length;for(c=function(e,t,n,r,a){var o,i,s,c,u,l=n.length,d=l,p=0;for(e.__k=new Array(a),o=0;o<a;o++)null!=(i=t[o])&&"boolean"!=typeof i&&"function"!=typeof i?(c=o+p,(i=e.__k[o]="string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?tn(null,i,null,null,null):Gt(i)?tn(nn,{children:i},null,null,null):null==i.constructor&&i.__b>0?tn(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=e,i.__b=e.__b+1,s=null,-1!=(u=i.__i=dn(i,n,c,d))&&(d--,(s=n[u])&&(s.__u|=2)),null==s||null==s.__v?(-1==u&&(a>l?p--:a<l&&p++),"function"!=typeof i.type&&(i.__u|=4)):u!=c&&(u==c-1?p--:u==c+1?p++:(u>c?p--:p++,i.__u|=4))):e.__k[o]=null;if(d)for(o=0;o<l;o++)null!=(s=n[o])&&!(2&s.__u)&&(s.__e==r&&(r=an(s)),bn(s,s));return r}(n,t,y,c,_),d=0;d<_;d++)null!=(f=n.__k[d])&&(p=-1==f.__i?qt:y[f.__i]||qt,f.__i=d,v=mn(e,f,p,a,o,i,s,c,u,l),h=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&_n(p.ref,null,f),l.push(f.ref,f.__c||h,f)),null==m&&null!=h&&(m=h),(g=!!(4&f.__u))||p.__k===f.__k?c=ln(f,c,e,g):"function"==typeof f.type&&void 0!==v?c=v:h&&(c=h.nextSibling),f.__u&=-7);return n.__e=m,c}function ln(e,t,n,r){var a,o;if("function"==typeof e.type){for(a=e.__k,o=0;a&&o<a.length;o++)a[o]&&(a[o].__=e,t=ln(a[o],t,n,r));return t}e.__e!=t&&(r&&(t&&e.type&&!t.parentNode&&(t=an(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function dn(e,t,n,r){var a,o,i,s=e.key,c=e.type,u=t[n],l=null!=u&&!(2&u.__u);if(null===u&&null==e.key||l&&s==u.key&&c==u.type)return n;if(r>(l?1:0))for(a=n-1,o=n+1;a>=0||o<t.length;)if(null!=(u=t[i=a>=0?a--:o++])&&!(2&u.__u)&&s==u.key&&c==u.type)return i;return-1}function pn(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||Yt.test(t)?n:n+"px"}function fn(e,t,n,r,a){var o,i;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||pn(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||pn(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])o=t!=(t=t.replace(Ht,"$1")),i=t.toLowerCase(),t=i in e||"onFocusOut"==t||"onFocusIn"==t?i.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Vt,e.addEventListener(t,o?Kt:Wt,o)):e.removeEventListener(t,o?Kt:Wt,o);else{if("http://www.w3.org/2000/svg"==a)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function hn(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=Vt++;else if(t.t<n.u)return;return n(Zt.event?Zt.event(t):t)}}}function mn(e,t,n,r,a,o,i,s,c,u){var l,d,p,f,h,m,v,g,y,_,b,w,k,x,O,S,E,T=t.type;if(null!=t.constructor)return null;128&n.__u&&(c=!!(32&n.__u),o=[s=t.__e=n.__e]),(l=Zt.__b)&&l(t);e:if("function"==typeof T)try{if(g=t.props,y="prototype"in T&&T.prototype.render,_=(l=T.contextType)&&r[l.__c],b=l?_?_.props.value:l.__:r,n.__c?v=(d=t.__c=n.__c).__=d.__E:(y?t.__c=d=new T(g,b):(t.__c=d=new rn(g,b),d.constructor=T,d.render=wn),_&&_.sub(d),d.props=g,d.state||(d.state={}),d.context=b,d.__n=r,p=d.__d=!0,d.__h=[],d._sb=[]),y&&null==d.__s&&(d.__s=d.state),y&&null!=T.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=Xt({},d.__s)),Xt(d.__s,T.getDerivedStateFromProps(g,d.__s))),f=d.props,h=d.state,d.__v=t,p)y&&null==T.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),y&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(y&&null==T.getDerivedStateFromProps&&g!==f&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(g,b),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(g,d.__s,b)||t.__v==n.__v){for(t.__v!=n.__v&&(d.props=g,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(e){e&&(e.__=t)}),w=0;w<d._sb.length;w++)d.__h.push(d._sb[w]);d._sb=[],d.__h.length&&i.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(g,d.__s,b),y&&null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(f,h,m)})}if(d.context=b,d.props=g,d.__P=e,d.__e=!1,k=Zt.__r,x=0,y){for(d.state=d.__s,d.__d=!1,k&&k(t),l=d.render(d.props,d.state,d.context),O=0;O<d._sb.length;O++)d.__h.push(d._sb[O]);d._sb=[]}else do{d.__d=!1,k&&k(t),l=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++x<25);d.state=d.__s,null!=d.getChildContext&&(r=Xt(Xt({},r),d.getChildContext())),y&&!p&&null!=d.getSnapshotBeforeUpdate&&(m=d.getSnapshotBeforeUpdate(f,h)),S=l,null!=l&&l.type===nn&&null==l.key&&(S=yn(l.props.children)),s=un(e,Gt(S)?S:[S],t,n,r,a,o,i,s,c,u),d.base=t.__e,t.__u&=-161,d.__h.length&&i.push(d),v&&(d.__E=d.__=null)}catch(e){if(t.__v=null,c||null!=o)if(e.then){for(t.__u|=c?160:128;s&&8==s.nodeType&&s.nextSibling;)s=s.nextSibling;o[o.indexOf(s)]=null,t.__e=s}else{for(E=o.length;E--;)Qt(o[E]);vn(t)}else t.__e=n.__e,t.__k=n.__k,e.then||vn(t);Zt.__e(e,t,n)}else null==o&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):s=t.__e=function(e,t,n,r,a,o,i,s,c){var u,l,d,p,f,h,m,v=n.props,g=t.props,y=t.type;if("svg"==y?a="http://www.w3.org/2000/svg":"math"==y?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),null!=o)for(u=0;u<o.length;u++)if((f=o[u])&&"setAttribute"in f==!!y&&(y?f.localName==y:3==f.nodeType)){e=f,o[u]=null;break}if(null==e){if(null==y)return document.createTextNode(g);e=document.createElementNS(a,y,g.is&&g),s&&(Zt.__m&&Zt.__m(t,o),s=!1),o=null}if(null==y)v===g||s&&e.data==g||(e.data=g);else{if(o=o&&$t.call(e.childNodes),v=n.props||qt,!s&&null!=o)for(v={},u=0;u<e.attributes.length;u++)v[(f=e.attributes[u]).name]=f.value;for(u in v)if(f=v[u],"children"==u);else if("dangerouslySetInnerHTML"==u)d=f;else if(!(u in g)){if("value"==u&&"defaultValue"in g||"checked"==u&&"defaultChecked"in g)continue;fn(e,u,null,f,a)}for(u in g)f=g[u],"children"==u?p=f:"dangerouslySetInnerHTML"==u?l=f:"value"==u?h=f:"checked"==u?m=f:s&&"function"!=typeof f||v[u]===f||fn(e,u,f,v[u],a);if(l)s||d&&(l.__html==d.__html||l.__html==e.innerHTML)||(e.innerHTML=l.__html),t.__k=[];else if(d&&(e.innerHTML=""),un("template"==t.type?e.content:e,Gt(p)?p:[p],t,n,r,"foreignObject"==y?"http://www.w3.org/1999/xhtml":a,o,i,o?o[0]:n.__k&&an(n,0),s,c),null!=o)for(u=o.length;u--;)Qt(o[u]);s||(u="value","progress"==y&&null==h?e.removeAttribute("value"):null!=h&&(h!==e[u]||"progress"==y&&!h||"option"==y&&h!=v[u])&&fn(e,u,h,v[u],a),u="checked",null!=m&&m!=e[u]&&fn(e,u,m,v[u],a))}return e}(n.__e,t,n,r,a,o,i,c,u);return(l=Zt.diffed)&&l(t),128&t.__u?void 0:s}function vn(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(vn)}function gn(e,t,n){for(var r=0;r<n.length;r++)_n(n[r],n[++r],n[++r]);Zt.__c&&Zt.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){Zt.__e(e,t.__v)}})}function yn(e){return"object"!=typeof e||null==e||e.__b&&e.__b>0?e:Gt(e)?e.map(yn):Xt({},e)}function _n(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){Zt.__e(e,n)}}function bn(e,t,n){var r,a;if(Zt.unmount&&Zt.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||_n(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){Zt.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&bn(r[a],t,n||"function"!=typeof e.type);n||Qt(e.__e),e.__c=e.__=e.__e=void 0}function wn(e,t,n){return this.constructor(e,n)}function kn(e,t,n){var r,a,o,i;t==document&&(t=document.documentElement),Zt.__&&Zt.__(e,t),a=(r="function"==typeof n)?null:n&&n.__k||t.__k,o=[],i=[],mn(t,e=(!r&&n||t).__k=en(nn,null,[e]),a||qt,qt,t.namespaceURI,!r&&n?[n]:a?null:t.firstChild?$t.call(t.childNodes):null,o,!r&&n?n:a?a.__e:t.firstChild,r,i),gn(o,e,i)}$t=Jt.slice,Zt={__e:function(e,t,n,r){for(var a,o,i;t=t.__;)if((a=t.__c)&&!a.__)try{if((o=a.constructor)&&null!=o.getDerivedStateFromError&&(a.setState(o.getDerivedStateFromError(e)),i=a.__d),null!=a.componentDidCatch&&(a.componentDidCatch(e,r||{}),i=a.__d),i)return a.__E=a}catch(t){e=t}throw e}},Lt=0,rn.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=Xt({},this.state),"function"==typeof e&&(e=e(Xt({},n),this.props)),e&&Xt(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),sn(this))},rn.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),sn(this))},rn.prototype.render=nn,Dt=[],Ut="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Bt=function(e,t){return e.__v.__b-t.__v.__b},cn.__r=0,Ht=/(PointerCapture)$|Capture$/i,Vt=0,Wt=hn(!1),Kt=hn(!0);var xn,On,Sn,En,Tn=0,Cn=[],jn=Zt,In=jn.__b,Pn=jn.__r,Nn=jn.diffed,An=jn.__c,zn=jn.unmount,Rn=jn.__;function Mn(e,t){jn.__h&&jn.__h(On,e,Tn||t),Tn=0;var n=On.__H||(On.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function $n(e){return Tn=1,function(e,t){var n=Mn(xn++,2);if(n.t=e,!n.__c&&(n.__=[Wn(void 0,t),function(e){var t=n.__N?n.__N[0]:n.__[0],r=n.t(t,e);t!==r&&(n.__N=[r,n.__[1]],n.__c.setState({}))}],n.__c=On,!On.__f)){var r=function(e,t,r){if(!n.__c.__H)return!0;var o=n.__c.__H.__.filter(function(e){return!!e.__c});if(o.every(function(e){return!e.__N}))return!a||a.call(this,e,t,r);var i=n.__c.props!==e;return o.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(i=!0)}}),a&&a.call(this,e,t,r)||i};On.__f=!0;var a=On.shouldComponentUpdate,o=On.componentWillUpdate;On.componentWillUpdate=function(e,t,n){if(this.__e){var i=a;a=void 0,r(e,t,n),a=i}o&&o.call(this,e,t,n)},On.shouldComponentUpdate=r}return n.__N||n.__}(Wn,e)}function Zn(e){return Tn=5,Ln(function(){return{current:e}},[])}function Ln(e,t){var n=Mn(xn++,7);return Vn(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Dn(){for(var e;e=Cn.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Bn),e.__H.__h.forEach(Hn),e.__H.__h=[]}catch(t){e.__H.__h=[],jn.__e(t,e.__v)}}jn.__b=function(e){On=null,In&&In(e)},jn.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Rn&&Rn(e,t)},jn.__r=function(e){Pn&&Pn(e),xn=0;var t=(On=e.__c).__H;t&&(Sn===On?(t.__h=[],On.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach(Bn),t.__h.forEach(Hn),t.__h=[],xn=0)),Sn=On},jn.diffed=function(e){Nn&&Nn(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Cn.push(t)&&En===jn.requestAnimationFrame||((En=jn.requestAnimationFrame)||Un)(Dn)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),Sn=On=null},jn.__c=function(e,t){t.some(function(e){try{e.__h.forEach(Bn),e.__h=e.__h.filter(function(e){return!e.__||Hn(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],jn.__e(n,e.__v)}}),An&&An(e,t)},jn.unmount=function(e){zn&&zn(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{Bn(e)}catch(e){t=e}}),n.__H=void 0,t&&jn.__e(t,n.__v))};var Fn="function"==typeof requestAnimationFrame;function Un(e){var t,n=function(){clearTimeout(r),Fn&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);Fn&&(t=requestAnimationFrame(n))}function Bn(e){var t=On,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),On=t}function Hn(e){var t=On;e.__c=e.__(),On=t}function Vn(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function Wn(e,t){return"function"==typeof t?t(e):t}var Kn,qn,Jn,Yn,Gn=n(714),Xn=function(e,t,n,r){var a;t[0]=0;for(var o=1;o<t.length;o++){var i=t[o++],s=t[o]?(t[0]|=i?1:2,n[t[o++]]):t[++o];3===i?r[0]=s:4===i?r[1]=Object.assign(r[1]||{},s):5===i?(r[1]=r[1]||{})[t[++o]]=s:6===i?r[1][t[++o]]+=s+"":i?(a=e.apply(s,Xn(e,s,n,["",null])),r.push(a),s[0]?t[0]|=2:(t[o-2]=0,t[o]=a)):r.push(s)}return r},Qn=new Map,er=function(e){var t=Qn.get(this);return t||(t=new Map,Qn.set(this,t)),(t=Xn(this,t.get(e)||(t.set(e,t=function(e){for(var t,n,r=1,a="",o="",i=[0],s=function(e){1===r&&(e||(a=a.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?i.push(0,e,a):3===r&&(e||a)?(i.push(3,e,a),r=2):2===r&&"..."===a&&e?i.push(4,e,0):2===r&&a&&!e?i.push(5,0,!0,a):r>=5&&((a||!e&&5===r)&&(i.push(r,0,a,n),r=6),e&&(i.push(r,e,0,n),r=6)),a=""},c=0;c<e.length;c++){c&&(1===r&&s(),s(c));for(var u=0;u<e[c].length;u++)t=e[c][u],1===r?"<"===t?(s(),i=[i],r=3):a+=t:4===r?"--"===a&&">"===t?(r=1,a=""):a=t+a[0]:o?t===o?o="":a+=t:'"'===t||"'"===t?o=t:">"===t?(s(),r=1):r&&("="===t?(r=5,n=a,a=""):"/"===t&&(r<5||">"===e[c][u+1])?(s(),3===r&&(i=i[0]),r=i,(i=i[0]).push(2,0,r),r=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(s(),r=2):a+=t),3===r&&"!--"===a&&(r=4,i=i[0])}return s(),i}(e)),t),arguments,[])).length>1?t:t[0]}.bind(en),tr=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"],nr=(qn=(Kn={createElement:en,Fragment:nn}).createElement,Yn=function(e){var t=e.createElement;return function(e){var n=e.classNames,r=e.children,a=e.highlightedTagName,o=e.isHighlighted,i=e.nonHighlightedTagName;return t(o?a:i,{className:o?n.highlighted:n.nonHighlighted},r)}}({createElement:qn,Fragment:Jn=Kn.Fragment}),function(t){var n=t.parts,r=t.highlightedTagName,a=void 0===r?"mark":r,s=t.nonHighlightedTagName,c=void 0===s?"span":s,u=t.separator,l=void 0===u?", ":u,d=t.className,p=t.classNames,f=void 0===p?{}:p,h=o(t,tr);return qn("span",e({},h,{className:i(f.root,d)}),n.map(function(e,t){var r=t===n.length-1;return qn(Jn,{key:t},e.map(function(e,t){return qn(Yn,{key:t,classNames:f,highlightedTagName:a,nonHighlightedTagName:c,isHighlighted:e.isHighlighted},e.value)}),!r&&qn("span",{className:f.separator},l))}))}),rr=["classNames"];function ar(){return ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ar.apply(this,arguments)}function or(e){var t=e.classNames,n=void 0===t?{}:t,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,rr);return en(nr,ar({classNames:{root:i("ais-Highlight",n.root),highlighted:i("ais-Highlight-highlighted",n.highlighted),nonHighlighted:i("ais-Highlight-nonHighlighted",n.nonHighlighted),separator:i("ais-Highlight-separator",n.separator)}},r))}function ir(e,t){return(Array.isArray(t)?t:t.split(".")).reduce(function(e,t){return e&&e[t]},e)}function sr(e){return Array.isArray(e)?e:[e]}function cr(e){var t=e.split("<mark>"),n=t.shift(),r=n?[{value:n,isHighlighted:!1}]:[];return t.forEach(function(e){var t=e.split("</mark>");r.push({value:t[0],isHighlighted:!0}),""!==t[1]&&r.push({value:t[1],isHighlighted:!1})}),r}RegExp(/[&<>"']/g.source);var ur={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},lr=/&(amp|quot|lt|gt|#39);/g,dr=RegExp(lr.source);function pr(e){return e&&dr.test(e)?e.replace(lr,function(e){return ur[e]}):e}var fr=["hit","attribute","cssClasses"];function hr(){return hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hr.apply(this,arguments)}function mr(e){var t=e.hit,n=e.attribute,r=e.cssClasses;return en(or,hr({},function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,fr),{parts:sr(ir(t._highlightResult,n)||[]).map(function(e){return cr(pr(e.value||""))}),classNames:r}))}var vr=["classNames"];function gr(){return gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gr.apply(this,arguments)}function yr(e){var t=e.classNames,n=void 0===t?{}:t,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,vr);return en(nr,gr({classNames:{root:i("ais-ReverseHighlight",n.root),highlighted:i("ais-ReverseHighlight-highlighted",n.highlighted),nonHighlighted:i("ais-ReverseHighlight-nonHighlighted",n.nonHighlighted),separator:i("ais-ReverseHighlight-separator",n.separator)}},r))}function _r(e){return _r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r(e)}var br=["hit","attribute","cssClasses"],wr=["isHighlighted"];function kr(){return kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kr.apply(this,arguments)}function xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(n),!0).forEach(function(t){Sr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sr(e,t,n){return t=function(e){var t=function(e){if("object"!=_r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_r(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Er(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Tr(e){var t=e.hit,n=e.attribute,r=e.cssClasses,a=Er(e,br),o=sr(ir(t._highlightResult,n)||[]).map(function(e){return cr(pr(e.value||"")).map(function(e){var t=e.isHighlighted;return Or(Or({},Er(e,wr)),{},{isHighlighted:!t})})});return en(yr,kr({},a,{parts:o,classNames:r}))}var Cr=["classNames"];function jr(){return jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jr.apply(this,arguments)}function Ir(e){var t=e.classNames,n=void 0===t?{}:t,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Cr);return en(nr,jr({classNames:{root:i("ais-Snippet",n.root),highlighted:i("ais-Snippet-highlighted",n.highlighted),nonHighlighted:i("ais-Snippet-nonHighlighted",n.nonHighlighted),separator:i("ais-Snippet-separator",n.separator)}},r))}var Pr=["hit","attribute","cssClasses"];function Nr(){return Nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nr.apply(this,arguments)}function Ar(e){var t=e.hit,n=e.attribute,r=e.cssClasses;return en(Ir,Nr({},function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Pr),{parts:sr(ir(t._snippetResult,n)||[]).map(function(e){return cr(pr(e.value||""))}),classNames:r}))}var zr=["classNames"];function Rr(){return Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rr.apply(this,arguments)}function Mr(e){var t=e.classNames,n=void 0===t?{}:t,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,zr);return en(nr,Rr({classNames:{root:i("ais-ReverseSnippet",n.root),highlighted:i("ais-ReverseSnippet-highlighted",n.highlighted),nonHighlighted:i("ais-ReverseSnippet-nonHighlighted",n.nonHighlighted),separator:i("ais-ReverseSnippet-separator",n.separator)}},r))}function $r(e){return $r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$r(e)}var Zr=["hit","attribute","cssClasses"],Lr=["isHighlighted"];function Dr(){return Dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dr.apply(this,arguments)}function Fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(n),!0).forEach(function(t){Br(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Br(e,t,n){return t=function(e){var t=function(e){if("object"!=$r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$r(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Vr(e){var t=e.hit,n=e.attribute,r=e.cssClasses,a=Hr(e,Zr),o=sr(ir(t._snippetResult,n)||[]).map(function(e){return cr(pr(e.value||"")).map(function(e){var t=e.isHighlighted;return Ur(Ur({},Hr(e,Lr)),{},{isHighlighted:!t})})});return en(Mr,Dr({},a,{parts:o,classNames:r}))}function Wr(e){return Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wr(e)}function Kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(n),!0).forEach(function(t){Jr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jr(e,t,n){return t=function(e){var t=function(e){if("object"!=Wr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Wr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Wr(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yr(e){return e!==Object(e)}function Gr(e,t){if(e===t)return!0;if(Yr(e)||Yr(t)||"function"==typeof e||"function"==typeof t)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];if(!(a in t))return!1;if(!Gr(e[a],t[a]))return!1}return!0}function Xr(){return Xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xr.apply(this,arguments)}function Qr(e){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(e)}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ta(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,la(r.key),r)}}function ra(e,t,n){return t&&na(e.prototype,t),n&&na(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oa(e,t)}function oa(e,t){return oa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oa(e,t)}function ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=ca(e);if(t){var a=ca(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Qr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sa(e)}(this,n)}}function sa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ca(e){return ca=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ca(e)}function ua(e,t,n){return(t=la(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function la(e){var t=function(e){if("object"!=Qr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Qr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qr(t)?t:String(t)}var da=function(e){aa(n,e);var t=ia(n);function n(){var e;ta(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return ua(sa(e=t.call.apply(t,[this].concat(a))),"ref",{current:null}),ua(sa(e),"nodes",[]),e}return ra(n,[{key:"componentDidMount",value:function(){var e,t=new DocumentFragment,n=document.createElement("div");n.innerHTML=this.props.content,this.nodes=function(e){if(Array.isArray(e))return ea(e)}(e=n.childNodes)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ea(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this.nodes.forEach(function(e){return t.appendChild(e)}),this.ref.current.replaceWith(t)}},{key:"componentWillUnmount",value:function(){this.nodes.forEach(function(e){e instanceof Element?e.outerHTML="":e.nodeValue=""}),this.nodes[0]&&this.nodes[0].nodeValue&&(this.nodes[0].nodeValue="")}},{key:"render",value:function(){return en("div",{ref:this.ref})}}]),n}(rn),pa=function(e){aa(n,e);var t=ia(n);function n(){return ta(this,n),t.apply(this,arguments)}return ra(n,[{key:"shouldComponentUpdate",value:function(e){return!Gr(this.props.data,e.data)||this.props.templateKey!==e.templateKey||!Gr(this.props.rootProps,e.rootProps)}},{key:"render",value:function(){var e="fragment"===this.props.rootTagName?nn:this.props.rootTagName,t=this.props.useCustomCompileOptions[this.props.templateKey]?this.props.templatesConfig.compileOptions:{},n=function(e){var t=e.templates,n=e.templateKey,r=e.compileOptions,a=e.helpers,o=e.data,i=e.bindEvent,s=e.sendEvent,c=t[n];if("string"!=typeof c&&"function"!=typeof c)throw new Error("Template must be 'string' or 'function', was '".concat(Wr(c),"' (key: ").concat(n,")"));if("function"==typeof c){var u=i||{};return u.html=er,u.sendEvent=s,u.components={Highlight:mr,ReverseHighlight:Tr,Snippet:Ar,ReverseSnippet:Vr},c(o,u)}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return Object.keys(e).reduce(function(r,a){return qr(qr({},r),{},Jr({},a,function(){var r=this;return function(o){return e[a].call(n,o,function(e){return Gn.compile(e,t).render(r)})}}))},{})}(a,r,o);return Gn.compile(c,r).render(qr(qr({},o),{},{helpers:l})).replace(/[ \n\r\t\f\xA0]+/g,function(e){return e.replace(/(^|\xA0+)[^\xA0]+/g,"$1 ")}).trim()}({templates:this.props.templates,templateKey:this.props.templateKey,compileOptions:t,helpers:this.props.templatesConfig.helpers,data:this.props.data,bindEvent:this.props.bindEvent,sendEvent:this.props.sendEvent});return null===n?null:"object"===Qr(n)?en(e,this.props.rootProps,n):e===nn?en(da,{content:n,key:Math.random()}):en(e,Xr({},this.props.rootProps,{dangerouslySetInnerHTML:{__html:n}}))}}]),n}(rn);ua(pa,"defaultProps",{data:{},rootTagName:"div",useCustomCompileOptions:{},templates:{},templatesConfig:{}});const fa=pa;var ha,ma="vercel.ai.error",va=Symbol.for(ma),ga=class e extends Error{constructor({name:e,message:t,cause:n}){super(t),this[ha]=!0,this.name=e,this.cause=n}static isInstance(t){return e.hasMarker(t,ma)}static hasMarker(e,t){const n=Symbol.for(t);return null!=e&&"object"==typeof e&&n in e&&"boolean"==typeof e[n]&&!0===e[n]}};ha=va;var ya=ga;Symbol.for("vercel.ai.error.AI_APICallError"),Symbol.for("vercel.ai.error.AI_EmptyResponseBodyError");function _a(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}var ba,wa="AI_InvalidArgumentError",ka=`vercel.ai.error.${wa}`,xa=Symbol.for(ka),Oa=class extends ya{constructor({message:e,cause:t,argument:n}){super({name:wa,message:e,cause:t}),this[ba]=!0,this.argument=n}static isInstance(e){return ya.hasMarker(e,ka)}};ba=xa;Symbol.for("vercel.ai.error.AI_InvalidPromptError"),Symbol.for("vercel.ai.error.AI_InvalidResponseDataError");var Sa,Ea="AI_JSONParseError",Ta=`vercel.ai.error.${Ea}`,Ca=Symbol.for(Ta),ja=class extends ya{constructor({text:e,cause:t}){super({name:Ea,message:`JSON parsing failed: Text: ${e}.\nError message: ${_a(t)}`,cause:t}),this[Sa]=!0,this.text=e}static isInstance(e){return ya.hasMarker(e,Ta)}};Sa=Ca;Symbol.for("vercel.ai.error.AI_LoadAPIKeyError"),Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError"),Symbol.for("vercel.ai.error.AI_NoSuchModelError"),Symbol.for("vercel.ai.error.AI_TooManyEmbeddingValuesForCallError");var Ia,Pa="AI_TypeValidationError",Na=`vercel.ai.error.${Pa}`,Aa=Symbol.for(Na);Ia=Aa;var za=class e extends ya{constructor({value:e,cause:t}){super({name:Pa,message:`Type validation failed: Value: ${JSON.stringify(e)}.\nError message: ${_a(t)}`,cause:t}),this[Ia]=!0,this.value=e}static isInstance(e){return ya.hasMarker(e,Na)}static wrap({value:t,cause:n}){return e.isInstance(n)&&n.value===t?n:new e({value:t,cause:n})}};Symbol.for("vercel.ai.error.AI_UnsupportedFunctionalityError");class Ra extends Error{constructor(e,t){super(e),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}}function Ma(e){}class $a extends TransformStream{constructor({onError:e,onRetry:t,onComment:n}={}){let r;super({start(a){r=function(e){if("function"==typeof e)throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=Ma,onError:n=Ma,onRetry:r=Ma,onComment:a}=e;let o,i="",s=!0,c="",u="";function l(e){if(""===e)return c.length>0&&t({id:o,event:u||void 0,data:c.endsWith("\n")?c.slice(0,-1):c}),o=void 0,c="",void(u="");if(e.startsWith(":"))return void(a&&a(e.slice(e.startsWith(": ")?2:1)));const n=e.indexOf(":");if(-1!==n){const t=e.slice(0,n),r=" "===e[n+1]?2:1;return void d(t,e.slice(n+r),e)}d(e,"",e)}function d(e,t,a){switch(e){case"event":u=t;break;case"data":c=`${c}${t}\n`;break;case"id":o=t.includes("\0")?void 0:t;break;case"retry":/^\d+$/.test(t)?r(parseInt(t,10)):n(new Ra(`Invalid \`retry\` value: "${t}"`,{type:"invalid-retry",value:t,line:a}));break;default:n(new Ra(`Unknown field "${e.length>20?`${e.slice(0,20)}…`:e}"`,{type:"unknown-field",field:e,value:t,line:a}))}}return{feed:function(e){const t=s?e.replace(/^\xEF\xBB\xBF/,""):e,[n,r]=function(e){const t=[];let n="",r=0;for(;r<e.length;){const a=e.indexOf("\r",r),o=e.indexOf("\n",r);let i=-1;if(-1!==a&&-1!==o?i=Math.min(a,o):-1!==a?i=a===e.length-1?-1:a:-1!==o&&(i=o),-1===i){n=e.slice(r);break}{const n=e.slice(r,i);t.push(n),r=i+1,"\r"===e[r-1]&&"\n"===e[r]&&r++}}return[t,n]}(`${i}${t}`);for(const e of n)l(e);i=r,s=!1},reset:function(e={}){i&&e.consume&&l(i),s=!0,o=void 0,c="",u="",i=""}}}({onEvent:e=>{a.enqueue(e)},onError(t){"terminate"===e?a.error(t):"function"==typeof e&&e(t)},onRetry:t,onComment:n})},transform(e){r.feed(e)}})}}Symbol("ZodOutput"),Symbol("ZodInput");class Za{constructor(){this._map=new Map,this._idmap=new Map}add(e,...t){const n=t[0];if(this._map.set(e,n),n&&"object"==typeof n&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const n={...this.get(t)??{}};return delete n.id,{...n,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}}function La(){return new Za}const Da=La();function Fa(e){const t=Object.values(e).filter(e=>"number"==typeof e),n=Object.entries(e).filter(([e,n])=>-1===t.indexOf(+e)).map(([e,t])=>t);return n}function Ua(e,t){return"bigint"==typeof t?t.toString():t}function Ba(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Ha(e){return null==e}function Va(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function Wa(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function Ka(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function qa(e){return JSON.stringify(e)}const Ja=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function Ya(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const Ga=Ba(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(e){return!1}});function Xa(e){if(!1===Ya(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!1!==Ya(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}const Qa=new Set(["string","number","symbol"]);function eo(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function to(e,t,n){const r=new e._zod.constr(t??e._zod.def);return t&&!n?.parent||(r._zod.parent=e),r}function no(e){const t=e;if(!t)return{};if("string"==typeof t)return{error:()=>t};if(void 0!==t?.message){if(void 0!==t?.error)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"==typeof t.error?{...t,error:()=>t.error}:t}new Set(["string","number","bigint","boolean","symbol","undefined"]);const ro={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function ao(e,t=0){for(let n=t;n<e.issues.length;n++)if(!0!==e.issues[n]?.continue)return!0;return!1}function oo(e,t){return t.map(t=>{var n;return(n=t).path??(n.path=[]),t.path.unshift(e),t})}function io(e){return"string"==typeof e?e:e?.message}function so(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const a=io(e.inst?._zod.def?.error?.(e))??io(t?.error?.(e))??io(n.customError?.(e))??io(n.localeError?.(e))??"Invalid input";r.message=a}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function co(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function uo(...e){const[t,n,r]=e;return"string"==typeof t?{message:t,code:"custom",input:n,inst:r}:{...t}}class lo{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??Da,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var n;const r=e._zod.def,a={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(e);if(o)return o.count++,t.schemaPath.includes(e)&&(o.cycle=t.path),o.schema;const i={schema:{},count:1,cycle:void 0,path:t.path};this.seen.set(e,i);const s=e._zod.toJSONSchema?.();if(s)i.schema=s;else{const n={...t,schemaPath:[...t.schemaPath,e],path:t.path},o=e._zod.parent;if(o)i.ref=o,this.process(o,n),this.seen.get(o).isParent=!0;else{const t=i.schema;switch(r.type){case"string":{const n=t;n.type="string";const{minimum:r,maximum:o,format:s,patterns:c,contentEncoding:u}=e._zod.bag;if("number"==typeof r&&(n.minLength=r),"number"==typeof o&&(n.maxLength=o),s&&(n.format=a[s]??s,""===n.format&&delete n.format),u&&(n.contentEncoding=u),c&&c.size>0){const e=[...c];1===e.length?n.pattern=e[0].source:e.length>1&&(i.schema.allOf=[...e.map(e=>({..."draft-7"===this.target?{type:"string"}:{},pattern:e.source}))])}break}case"number":{const n=t,{minimum:r,maximum:a,format:o,multipleOf:i,exclusiveMaximum:s,exclusiveMinimum:c}=e._zod.bag;"string"==typeof o&&o.includes("int")?n.type="integer":n.type="number","number"==typeof c&&(n.exclusiveMinimum=c),"number"==typeof r&&(n.minimum=r,"number"==typeof c&&(c>=r?delete n.minimum:delete n.exclusiveMinimum)),"number"==typeof s&&(n.exclusiveMaximum=s),"number"==typeof a&&(n.maximum=a,"number"==typeof s&&(s<=a?delete n.maximum:delete n.exclusiveMaximum)),"number"==typeof i&&(n.multipleOf=i);break}case"boolean":case"success":t.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw new Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw new Error("Symbols cannot be represented in JSON Schema");break;case"null":t.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw new Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw new Error("Void cannot be represented in JSON Schema");break;case"never":t.not={};break;case"date":if("throw"===this.unrepresentable)throw new Error("Date cannot be represented in JSON Schema");break;case"array":{const a=t,{minimum:o,maximum:i}=e._zod.bag;"number"==typeof o&&(a.minItems=o),"number"==typeof i&&(a.maxItems=i),a.type="array",a.items=this.process(r.element,{...n,path:[...n.path,"items"]});break}case"object":{const e=t;e.type="object",e.properties={};const a=r.shape;for(const t in a)e.properties[t]=this.process(a[t],{...n,path:[...n.path,"properties",t]});const o=new Set(Object.keys(a)),i=new Set([...o].filter(e=>{const t=r.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout}));i.size>0&&(e.required=Array.from(i)),"never"===r.catchall?._zod.def.type?e.additionalProperties=!1:r.catchall?r.catchall&&(e.additionalProperties=this.process(r.catchall,{...n,path:[...n.path,"additionalProperties"]})):"output"===this.io&&(e.additionalProperties=!1);break}case"union":t.anyOf=r.options.map((e,t)=>this.process(e,{...n,path:[...n.path,"anyOf",t]}));break;case"intersection":{const e=t,a=this.process(r.left,{...n,path:[...n.path,"allOf",0]}),o=this.process(r.right,{...n,path:[...n.path,"allOf",1]}),i=e=>"allOf"in e&&1===Object.keys(e).length,s=[...i(a)?a.allOf:[a],...i(o)?o.allOf:[o]];e.allOf=s;break}case"tuple":{const a=t;a.type="array";const o=r.items.map((e,t)=>this.process(e,{...n,path:[...n.path,"prefixItems",t]}));if("draft-2020-12"===this.target?a.prefixItems=o:a.items=o,r.rest){const e=this.process(r.rest,{...n,path:[...n.path,"items"]});"draft-2020-12"===this.target?a.items=e:a.additionalItems=e}r.rest&&(a.items=this.process(r.rest,{...n,path:[...n.path,"items"]}));const{minimum:i,maximum:s}=e._zod.bag;"number"==typeof i&&(a.minItems=i),"number"==typeof s&&(a.maxItems=s);break}case"record":{const e=t;e.type="object",e.propertyNames=this.process(r.keyType,{...n,path:[...n.path,"propertyNames"]}),e.additionalProperties=this.process(r.valueType,{...n,path:[...n.path,"additionalProperties"]});break}case"map":if("throw"===this.unrepresentable)throw new Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw new Error("Set cannot be represented in JSON Schema");break;case"enum":{const e=t,n=Fa(r.entries);n.every(e=>"number"==typeof e)&&(e.type="number"),n.every(e=>"string"==typeof e)&&(e.type="string"),e.enum=n;break}case"literal":{const e=t,n=[];for(const e of r.values)if(void 0===e){if("throw"===this.unrepresentable)throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof e){if("throw"===this.unrepresentable)throw new Error("BigInt literals cannot be represented in JSON Schema");n.push(Number(e))}else n.push(e);if(0===n.length);else if(1===n.length){const t=n[0];e.type=null===t?"null":typeof t,e.const=t}else n.every(e=>"number"==typeof e)&&(e.type="number"),n.every(e=>"string"==typeof e)&&(e.type="string"),n.every(e=>"boolean"==typeof e)&&(e.type="string"),n.every(e=>null===e)&&(e.type="null"),e.enum=n;break}case"file":{const n=t,r={type:"string",format:"binary",contentEncoding:"binary"},{minimum:a,maximum:o,mime:i}=e._zod.bag;void 0!==a&&(r.minLength=a),void 0!==o&&(r.maxLength=o),i?1===i.length?(r.contentMediaType=i[0],Object.assign(n,r)):n.anyOf=i.map(e=>({...r,contentMediaType:e})):Object.assign(n,r);break}case"transform":if("throw"===this.unrepresentable)throw new Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{const e=this.process(r.innerType,n);t.anyOf=[e,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(r.innerType,n),i.ref=r.innerType;break;case"default":this.process(r.innerType,n),i.ref=r.innerType,t.default=JSON.parse(JSON.stringify(r.defaultValue));break;case"prefault":this.process(r.innerType,n),i.ref=r.innerType,"input"===this.io&&(t._prefault=JSON.parse(JSON.stringify(r.defaultValue)));break;case"catch":{let e;this.process(r.innerType,n),i.ref=r.innerType;try{e=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}t.default=e;break}case"nan":if("throw"===this.unrepresentable)throw new Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{const n=t,r=e._zod.pattern;if(!r)throw new Error("Pattern not found in template literal");n.type="string",n.pattern=r.source;break}case"pipe":{const e="input"===this.io?"transform"===r.in._zod.def.type?r.out:r.in:r.out;this.process(e,n),i.ref=e;break}case"readonly":this.process(r.innerType,n),i.ref=r.innerType,t.readOnly=!0;break;case"lazy":{const t=e._zod.innerType;this.process(t,n),i.ref=t;break}case"custom":if("throw"===this.unrepresentable)throw new Error("Custom types cannot be represented in JSON Schema")}}}const c=this.metadataRegistry.get(e);return c&&Object.assign(i.schema,c),"input"===this.io&&po(e)&&(delete i.schema.examples,delete i.schema.default),"input"===this.io&&i.schema._prefault&&((n=i.schema).default??(n.default=i.schema._prefault)),delete i.schema._prefault,this.seen.get(e).schema}emit(e,t){const n={cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0},r=this.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const a=e=>{const t="draft-2020-12"===this.target?"$defs":"definitions";if(n.external){const r=n.external.registry.get(e[0])?.id,a=n.external.uri??(e=>e);if(r)return{ref:a(r)};const o=e[1].defId??e[1].schema.id??"schema"+this.counter++;return e[1].defId=o,{defId:o,ref:`${a("__shared")}#/${t}/${o}`}}if(e[1]===r)return{ref:"#"};const a=`#/${t}/`,o=e[1].schema.id??"__schema"+this.counter++;return{defId:o,ref:a+o}},o=e=>{if(e[1].schema.$ref)return;const t=e[1],{ref:n,defId:r}=a(e);t.def={...t.schema},r&&(t.defId=r);const o=t.schema;for(const e in o)delete o[e];o.$ref=n};if("throw"===n.cycles)for(const e of this.seen.entries()){const t=e[1];if(t.cycle)throw new Error(`Cycle detected: #/${t.cycle?.join("/")}/<root>\n\nSet the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const t of this.seen.entries()){const r=t[1];if(e===t[0]){o(t);continue}if(n.external){const r=n.external.registry.get(t[0])?.id;if(e!==t[0]&&r){o(t);continue}}const a=this.metadataRegistry.get(t[0])?.id;(a||r.cycle||r.count>1&&"ref"===n.reused)&&o(t)}const i=(e,t)=>{const n=this.seen.get(e),r=n.def??n.schema,a={...r};if(null===n.ref)return;const o=n.ref;if(n.ref=null,o){i(o,t);const e=this.seen.get(o).schema;e.$ref&&"draft-7"===t.target?(r.allOf=r.allOf??[],r.allOf.push(e)):(Object.assign(r,e),Object.assign(r,a))}n.isParent||this.override({zodSchema:e,jsonSchema:r,path:n.path??[]})};for(const e of[...this.seen.entries()].reverse())i(e[0],{target:this.target});const s={};if("draft-2020-12"===this.target?s.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?s.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),n.external?.uri){const t=n.external.registry.get(e)?.id;if(!t)throw new Error("Schema is missing an `id` property");s.$id=n.external.uri(t)}Object.assign(s,r.def);const c=n.external?.defs??{};for(const e of this.seen.entries()){const t=e[1];t.def&&t.defId&&(c[t.defId]=t.def)}n.external||Object.keys(c).length>0&&("draft-2020-12"===this.target?s.$defs=c:s.definitions=c);try{return JSON.parse(JSON.stringify(s))}catch(e){throw new Error("Error converting schema to JSON.")}}}function po(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;switch(r.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":return!1;case"array":return po(r.element,n);case"object":for(const e in r.shape)if(po(r.shape[e],n))return!0;return!1;case"union":for(const e of r.options)if(po(e,n))return!0;return!1;case"intersection":return po(r.left,n)||po(r.right,n);case"tuple":for(const e of r.items)if(po(e,n))return!0;return!(!r.rest||!po(r.rest,n));case"record":case"map":return po(r.keyType,n)||po(r.valueType,n);case"set":return po(r.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return po(r.innerType,n);case"lazy":return po(r.getter(),n);case"transform":return!0;case"pipe":return po(r.in,n)||po(r.out,n)}throw new Error(`Unknown schema type: ${r.type}`)}function fo(e,t,n){function r(n,r){var a;Object.defineProperty(n,"_zod",{value:n._zod??{},enumerable:!1}),(a=n._zod).traits??(a.traits=new Set),n._zod.traits.add(e),t(n,r);for(const e in i.prototype)e in n||Object.defineProperty(n,e,{value:i.prototype[e].bind(n)});n._zod.constr=i,n._zod.def=r}const a=n?.Parent??Object;class o extends a{}function i(e){var t;const a=n?.Parent?new o:this;r(a,e),(t=a._zod).deferred??(t.deferred=[]);for(const e of a._zod.deferred)e();return a}return Object.defineProperty(o,"name",{value:e}),Object.defineProperty(i,"init",{value:r}),Object.defineProperty(i,Symbol.hasInstance,{value:t=>!!(n?.Parent&&t instanceof n.Parent)||t?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}Object.freeze({status:"aborted"}),Symbol("zod_brand");class ho extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const mo={};function vo(e){return e&&Object.assign(mo,e),mo}const go=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get:()=>JSON.stringify(t,Ua,2),enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},yo=fo("$ZodError",go),_o=fo("$ZodError",go,{Parent:Error}),bo=e=>(t,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new ho;if(i.issues.length){const t=new(a?.Err??e)(i.issues.map(e=>so(e,o,vo())));throw Ja(t,a?.callee),t}return i.value},wo=e=>async(t,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise&&(i=await i),i.issues.length){const t=new(a?.Err??e)(i.issues.map(e=>so(e,o,vo())));throw Ja(t,a?.callee),t}return i.value},ko=e=>(t,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new ho;return o.issues.length?{success:!1,error:new(e??yo)(o.issues.map(e=>so(e,a,vo())))}:{success:!0,data:o.value}},xo=ko(_o),Oo=e=>async(t,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(e=>so(e,a,vo())))}:{success:!0,data:o.value}},So=Oo(_o),Eo=(e,t)=>{yo.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>function(e,t){const n=t||function(e){return e.message},r={_errors:[]},a=e=>{for(const t of e.issues)if("invalid_union"===t.code&&t.errors.length)t.errors.map(e=>a({issues:e}));else if("invalid_key"===t.code)a({issues:t.issues});else if("invalid_element"===t.code)a({issues:t.issues});else if(0===t.path.length)r._errors.push(n(t));else{let e=r,a=0;for(;a<t.path.length;){const r=t.path[a];a===t.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(n(t))):e[r]=e[r]||{_errors:[]},e=e[r],a++}}};return a(e),r}(e,t)},flatten:{value:t=>function(e,t=e=>e.message){const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}(e,t)},addIssue:{value:t=>e.issues.push(t)},addIssues:{value:t=>e.issues.push(...t)},isEmpty:{get:()=>0===e.issues.length}})},To=(fo("ZodError",Eo),fo("ZodError",Eo,{Parent:Error})),Co=bo(To),jo=wo(To),Io=ko(To),Po=Oo(To);var No,Ao,zo;(zo=No||(No={})).assertEqual=e=>{},zo.assertIs=function(e){},zo.assertNever=function(e){throw new Error},zo.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},zo.getValidEnumValues=e=>{const t=zo.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),n={};for(const r of t)n[r]=e[r];return zo.objectValues(n)},zo.objectValues=e=>zo.objectKeys(e).map(function(t){return e[t]}),zo.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},zo.find=(e,t)=>{for(const n of e)if(t(n))return n},zo.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,zo.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},zo.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,function(e){e.mergeShapes=(e,t)=>({...e,...t})}(Ao||(Ao={}));const Ro=No.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Mo=e=>{switch(typeof e){case"undefined":return Ro.undefined;case"string":return Ro.string;case"number":return Number.isNaN(e)?Ro.nan:Ro.number;case"boolean":return Ro.boolean;case"function":return Ro.function;case"bigint":return Ro.bigint;case"symbol":return Ro.symbol;case"object":return Array.isArray(e)?Ro.array:null===e?Ro.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?Ro.promise:"undefined"!=typeof Map&&e instanceof Map?Ro.map:"undefined"!=typeof Set&&e instanceof Set?Ro.set:"undefined"!=typeof Date&&e instanceof Date?Ro.date:Ro.object;default:return Ro.unknown}},$o=No.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Zo extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof Zo))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,No.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const r of this.issues)if(r.path.length>0){const n=r.path[0];t[n]=t[n]||[],t[n].push(e(r))}else n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Zo.create=e=>new Zo(e);const Lo=(e,t)=>{let n;switch(e.code){case $o.invalid_type:n=e.received===Ro.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case $o.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,No.jsonStringifyReplacer)}`;break;case $o.unrecognized_keys:n=`Unrecognized key(s) in object: ${No.joinValues(e.keys,", ")}`;break;case $o.invalid_union:n="Invalid input";break;case $o.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${No.joinValues(e.options)}`;break;case $o.invalid_enum_value:n=`Invalid enum value. Expected ${No.joinValues(e.options)}, received '${e.received}'`;break;case $o.invalid_arguments:n="Invalid function arguments";break;case $o.invalid_return_type:n="Invalid function return type";break;case $o.invalid_date:n="Invalid date";break;case $o.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:No.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case $o.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case $o.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case $o.custom:n="Invalid input";break;case $o.invalid_intersection_types:n="Intersection results could not be merged";break;case $o.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case $o.not_finite:n="Number must be finite";break;default:n=t.defaultError,No.assertNever(e)}return{message:n}};let Do=Lo;var Fo;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(Fo||(Fo={}));function Uo(e,t){const n=Do,r=(e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,o=[...n,...a.path||[]],i={...a,path:o};if(void 0!==a.message)return{...a,path:o,message:a.message};let s="";const c=r.filter(e=>!!e).slice().reverse();for(const e of c)s=e(i,{data:t,defaultError:s}).message;return{...a,path:o,message:s}})({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Lo?void 0:Lo].filter(e=>!!e)});e.common.issues.push(r)}class Bo{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return Ho;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){const t=await e.key,r=await e.value;n.push({key:t,value:r})}return Bo.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:a}=r;if("aborted"===t.status)return Ho;if("aborted"===a.status)return Ho;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===t.value||void 0===a.value&&!r.alwaysSet||(n[t.value]=a.value)}return{status:e.value,value:n}}}const Ho=Object.freeze({status:"aborted"}),Vo=e=>({status:"dirty",value:e}),Wo=e=>({status:"valid",value:e}),Ko=e=>"aborted"===e.status,qo=e=>"dirty"===e.status,Jo=e=>"valid"===e.status,Yo=e=>"undefined"!=typeof Promise&&e instanceof Promise;class Go{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Xo=(e,t)=>{if(Jo(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Zo(e.common.issues);return this._error=t,this._error}}};function Qo(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{const{message:o}=e;return"invalid_enum_value"===t.code?{message:o??a.defaultError}:void 0===a.data?{message:o??r??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:o??n??a.defaultError}},description:a}}class ei{get description(){return this._def.description}_getType(e){return Mo(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Mo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Bo,ctx:{common:e.parent.common,data:e.data,parsedType:Mo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Yo(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mo(e)},r=this._parseSync({data:e,path:n.path,parent:n});return Xo(n,r)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mo(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return Jo(n)?{value:n.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>Jo(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mo(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(Yo(r)?r:Promise.resolve(r));return Xo(n,a)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,r)=>{const a=e(t),o=()=>r.addIssue({code:$o.custom,...n(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(o(),!1)):!!a||(o(),!1)})}refinement(e,t){return this._refinement((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1))}_refinement(e){return new Xi({schema:this,typeName:ss.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Qi.create(this,this._def)}nullable(){return es.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return $i.create(this)}promise(){return Gi.create(this,this._def)}or(e){return Di.create([this,e],this._def)}and(e){return Ui.create(this,e,this._def)}transform(e){return new Xi({...Qo(this._def),schema:this,typeName:ss.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new ts({...Qo(this._def),innerType:this,defaultValue:t,typeName:ss.ZodDefault})}brand(){return new as({typeName:ss.ZodBranded,type:this,...Qo(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new ns({...Qo(this._def),innerType:this,catchValue:t,typeName:ss.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return os.create(this,e)}readonly(){return is.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ti=/^c[^\s-]{8,}$/i,ni=/^[0-9a-z]+$/,ri=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ai=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,oi=/^[a-z0-9_-]{21}$/i,ii=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,si=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ci=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let ui;const li=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,di=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,pi=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,fi=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,hi=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,mi=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,vi="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",gi=new RegExp(`^${vi}$`);function yi(e){let t="[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function _i(e){return new RegExp(`^${yi(e)}$`)}function bi(e){let t=`${vi}T${yi(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function wi(e,t){return!("v4"!==t&&t||!li.test(e))||!("v6"!==t&&t||!pi.test(e))}function ki(e,t){if(!ii.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!("object"!=typeof a||null===a||"typ"in a&&"JWT"!==a?.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function xi(e,t){return!("v4"!==t&&t||!di.test(e))||!("v6"!==t&&t||!fi.test(e))}class Oi extends ei{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ro.string){const t=this._getOrReturnCtx(e);return Uo(t,{code:$o.invalid_type,expected:Ro.string,received:t.parsedType}),Ho}const t=new Bo;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),Uo(n,{code:$o.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),Uo(n,{code:$o.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const a=e.data.length>r.value,o=e.data.length<r.value;(a||o)&&(n=this._getOrReturnCtx(e,n),a?Uo(n,{code:$o.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):o&&Uo(n,{code:$o.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)ci.test(e.data)||(n=this._getOrReturnCtx(e,n),Uo(n,{validation:"email",code:$o.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)ui||(ui=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),ui.test(e.data)||(n=this._getOrReturnCtx(e,n),Uo(n,{validation:"emoji",code:$o.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)ai.test(e.data)||(n=this._getOrReturnCtx(e,n),Uo(n,{validation:"uuid",code:$o.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)oi.test(e.data)||(n=this._getOrReturnCtx(e,n),Uo(n,{validation:"nanoid",code:$o.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)ti.test(e.data)||(n=this._getOrReturnCtx(e,n),Uo(n,{validation:"cuid",code:$o.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)ni.test(e.data)||(n=this._getOrReturnCtx(e,n),Uo(n,{validation:"cuid2",code:$o.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)ri.test(e.data)||(n=this._getOrReturnCtx(e,n),Uo(n,{validation:"ulid",code:$o.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),Uo(n,{validation:"url",code:$o.invalid_string,message:r.message}),t.dirty()}else"regex"===r.kind?(r.regex.lastIndex=0,r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Uo(n,{validation:"regex",code:$o.invalid_string,message:r.message}),t.dirty())):"trim"===r.kind?e.data=e.data.trim():"includes"===r.kind?e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),Uo(n,{code:$o.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty()):"toLowerCase"===r.kind?e.data=e.data.toLowerCase():"toUpperCase"===r.kind?e.data=e.data.toUpperCase():"startsWith"===r.kind?e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),Uo(n,{code:$o.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty()):"endsWith"===r.kind?e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),Uo(n,{code:$o.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty()):"datetime"===r.kind?bi(r).test(e.data)||(n=this._getOrReturnCtx(e,n),Uo(n,{code:$o.invalid_string,validation:"datetime",message:r.message}),t.dirty()):"date"===r.kind?gi.test(e.data)||(n=this._getOrReturnCtx(e,n),Uo(n,{code:$o.invalid_string,validation:"date",message:r.message}),t.dirty()):"time"===r.kind?_i(r).test(e.data)||(n=this._getOrReturnCtx(e,n),Uo(n,{code:$o.invalid_string,validation:"time",message:r.message}),t.dirty()):"duration"===r.kind?si.test(e.data)||(n=this._getOrReturnCtx(e,n),Uo(n,{validation:"duration",code:$o.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?wi(e.data,r.version)||(n=this._getOrReturnCtx(e,n),Uo(n,{validation:"ip",code:$o.invalid_string,message:r.message}),t.dirty()):"jwt"===r.kind?ki(e.data,r.alg)||(n=this._getOrReturnCtx(e,n),Uo(n,{validation:"jwt",code:$o.invalid_string,message:r.message}),t.dirty()):"cidr"===r.kind?xi(e.data,r.version)||(n=this._getOrReturnCtx(e,n),Uo(n,{validation:"cidr",code:$o.invalid_string,message:r.message}),t.dirty()):"base64"===r.kind?hi.test(e.data)||(n=this._getOrReturnCtx(e,n),Uo(n,{validation:"base64",code:$o.invalid_string,message:r.message}),t.dirty()):"base64url"===r.kind?mi.test(e.data)||(n=this._getOrReturnCtx(e,n),Uo(n,{validation:"base64url",code:$o.invalid_string,message:r.message}),t.dirty()):No.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),{validation:t,code:$o.invalid_string,...Fo.errToObj(n)})}_addCheck(e){return new Oi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Fo.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Fo.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Fo.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Fo.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Fo.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Fo.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Fo.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Fo.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Fo.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Fo.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Fo.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Fo.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Fo.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Fo.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...Fo.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Fo.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Fo.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...Fo.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Fo.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Fo.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Fo.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Fo.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Fo.errToObj(t)})}nonempty(e){return this.min(1,Fo.errToObj(e))}trim(){return new Oi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Oi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Oi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Si(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}Oi.create=e=>new Oi({checks:[],typeName:ss.ZodString,coerce:e?.coerce??!1,...Qo(e)});class Ei extends ei{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ro.number){const t=this._getOrReturnCtx(e);return Uo(t,{code:$o.invalid_type,expected:Ro.number,received:t.parsedType}),Ho}let t;const n=new Bo;for(const r of this._def.checks)"int"===r.kind?No.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Uo(t,{code:$o.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Uo(t,{code:$o.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Uo(t,{code:$o.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==Si(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),Uo(t,{code:$o.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Uo(t,{code:$o.not_finite,message:r.message}),n.dirty()):No.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Fo.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Fo.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Fo.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Fo.toString(t))}setLimit(e,t,n,r){return new Ei({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Fo.toString(r)}]})}_addCheck(e){return new Ei({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Fo.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Fo.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Fo.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Fo.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Fo.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Fo.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Fo.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Fo.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Fo.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&No.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ei.create=e=>new Ei({checks:[],typeName:ss.ZodNumber,coerce:e?.coerce||!1,...Qo(e)});class Ti extends ei{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ro.bigint)return this._getInvalidInput(e);let t;const n=new Bo;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Uo(t,{code:$o.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Uo(t,{code:$o.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Uo(t,{code:$o.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):No.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Uo(t,{code:$o.invalid_type,expected:Ro.bigint,received:t.parsedType}),Ho}gte(e,t){return this.setLimit("min",e,!0,Fo.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Fo.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Fo.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Fo.toString(t))}setLimit(e,t,n,r){return new Ti({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Fo.toString(r)}]})}_addCheck(e){return new Ti({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Fo.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Fo.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Fo.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Fo.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Fo.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Ti.create=e=>new Ti({checks:[],typeName:ss.ZodBigInt,coerce:e?.coerce??!1,...Qo(e)});class Ci extends ei{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==Ro.boolean){const t=this._getOrReturnCtx(e);return Uo(t,{code:$o.invalid_type,expected:Ro.boolean,received:t.parsedType}),Ho}return Wo(e.data)}}Ci.create=e=>new Ci({typeName:ss.ZodBoolean,coerce:e?.coerce||!1,...Qo(e)});class ji extends ei{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ro.date){const t=this._getOrReturnCtx(e);return Uo(t,{code:$o.invalid_type,expected:Ro.date,received:t.parsedType}),Ho}if(Number.isNaN(e.data.getTime()))return Uo(this._getOrReturnCtx(e),{code:$o.invalid_date}),Ho;const t=new Bo;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),Uo(n,{code:$o.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),Uo(n,{code:$o.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):No.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ji({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Fo.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Fo.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ji.create=e=>new ji({checks:[],coerce:e?.coerce||!1,typeName:ss.ZodDate,...Qo(e)});class Ii extends ei{_parse(e){if(this._getType(e)!==Ro.symbol){const t=this._getOrReturnCtx(e);return Uo(t,{code:$o.invalid_type,expected:Ro.symbol,received:t.parsedType}),Ho}return Wo(e.data)}}Ii.create=e=>new Ii({typeName:ss.ZodSymbol,...Qo(e)});class Pi extends ei{_parse(e){if(this._getType(e)!==Ro.undefined){const t=this._getOrReturnCtx(e);return Uo(t,{code:$o.invalid_type,expected:Ro.undefined,received:t.parsedType}),Ho}return Wo(e.data)}}Pi.create=e=>new Pi({typeName:ss.ZodUndefined,...Qo(e)});class Ni extends ei{_parse(e){if(this._getType(e)!==Ro.null){const t=this._getOrReturnCtx(e);return Uo(t,{code:$o.invalid_type,expected:Ro.null,received:t.parsedType}),Ho}return Wo(e.data)}}Ni.create=e=>new Ni({typeName:ss.ZodNull,...Qo(e)});class Ai extends ei{constructor(){super(...arguments),this._any=!0}_parse(e){return Wo(e.data)}}Ai.create=e=>new Ai({typeName:ss.ZodAny,...Qo(e)});class zi extends ei{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Wo(e.data)}}zi.create=e=>new zi({typeName:ss.ZodUnknown,...Qo(e)});class Ri extends ei{_parse(e){const t=this._getOrReturnCtx(e);return Uo(t,{code:$o.invalid_type,expected:Ro.never,received:t.parsedType}),Ho}}Ri.create=e=>new Ri({typeName:ss.ZodNever,...Qo(e)});class Mi extends ei{_parse(e){if(this._getType(e)!==Ro.undefined){const t=this._getOrReturnCtx(e);return Uo(t,{code:$o.invalid_type,expected:Ro.void,received:t.parsedType}),Ho}return Wo(e.data)}}Mi.create=e=>new Mi({typeName:ss.ZodVoid,...Qo(e)});class $i extends ei{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==Ro.array)return Uo(t,{code:$o.invalid_type,expected:Ro.array,received:t.parsedType}),Ho;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(Uo(t,{code:e?$o.too_big:$o.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(Uo(t,{code:$o.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(Uo(t,{code:$o.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new Go(t,e,t.path,n)))).then(e=>Bo.mergeArray(n,e));const a=[...t.data].map((e,n)=>r.type._parseSync(new Go(t,e,t.path,n)));return Bo.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new $i({...this._def,minLength:{value:e,message:Fo.toString(t)}})}max(e,t){return new $i({...this._def,maxLength:{value:e,message:Fo.toString(t)}})}length(e,t){return new $i({...this._def,exactLength:{value:e,message:Fo.toString(t)}})}nonempty(e){return this.min(1,e)}}function Zi(e){if(e instanceof Li){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Qi.create(Zi(r))}return new Li({...e._def,shape:()=>t})}return e instanceof $i?new $i({...e._def,type:Zi(e.element)}):e instanceof Qi?Qi.create(Zi(e.unwrap())):e instanceof es?es.create(Zi(e.unwrap())):e instanceof Bi?Bi.create(e.items.map(e=>Zi(e))):e}$i.create=(e,t)=>new $i({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ss.ZodArray,...Qo(t)});class Li extends ei{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=No.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Ro.object){const t=this._getOrReturnCtx(e);return Uo(t,{code:$o.invalid_type,expected:Ro.object,received:t.parsedType}),Ho}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ri&&"strip"===this._def.unknownKeys))for(const e in n.data)a.includes(e)||o.push(e);const i=[];for(const e of a){const t=r[e],a=n.data[e];i.push({key:{status:"valid",value:e},value:t._parse(new Go(n,a,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof Ri){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of o)i.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)o.length>0&&(Uo(n,{code:$o.unrecognized_keys,keys:o}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of o){const r=n.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new Go(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of i){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>Bo.mergeObjectSync(t,e)):Bo.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return Fo.errToObj,new Li({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{const r=this._def.errorMap?.(t,n).message??n.defaultError;return"unrecognized_keys"===t.code?{message:Fo.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new Li({...this._def,unknownKeys:"strip"})}passthrough(){return new Li({...this._def,unknownKeys:"passthrough"})}extend(e){return new Li({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Li({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ss.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Li({...this._def,catchall:e})}pick(e){const t={};for(const n of No.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new Li({...this._def,shape:()=>t})}omit(e){const t={};for(const n of No.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new Li({...this._def,shape:()=>t})}deepPartial(){return Zi(this)}partial(e){const t={};for(const n of No.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new Li({...this._def,shape:()=>t})}required(e){const t={};for(const n of No.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Qi;)e=e._def.innerType;t[n]=e}return new Li({...this._def,shape:()=>t})}keyof(){return qi(No.objectKeys(this.shape))}}Li.create=(e,t)=>new Li({shape:()=>e,unknownKeys:"strip",catchall:Ri.create(),typeName:ss.ZodObject,...Qo(t)}),Li.strictCreate=(e,t)=>new Li({shape:()=>e,unknownKeys:"strict",catchall:Ri.create(),typeName:ss.ZodObject,...Qo(t)}),Li.lazycreate=(e,t)=>new Li({shape:e,unknownKeys:"strip",catchall:Ri.create(),typeName:ss.ZodObject,...Qo(t)});class Di extends ei{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map(e=>new Zo(e.ctx.common.issues));return Uo(t,{code:$o.invalid_union,unionErrors:n}),Ho});{let e;const r=[];for(const a of n){const n={...t,common:{...t.common,issues:[]},parent:null},o=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===o.status)return o;"dirty"!==o.status||e||(e={result:o,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=r.map(e=>new Zo(e));return Uo(t,{code:$o.invalid_union,unionErrors:a}),Ho}}get options(){return this._def.options}}function Fi(e,t){const n=Mo(e),r=Mo(t);if(e===t)return{valid:!0,data:e};if(n===Ro.object&&r===Ro.object){const n=No.objectKeys(t),r=No.objectKeys(e).filter(e=>-1!==n.indexOf(e)),a={...e,...t};for(const n of r){const r=Fi(e[n],t[n]);if(!r.valid)return{valid:!1};a[n]=r.data}return{valid:!0,data:a}}if(n===Ro.array&&r===Ro.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const a=Fi(e[r],t[r]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===Ro.date&&r===Ro.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}Di.create=(e,t)=>new Di({options:e,typeName:ss.ZodUnion,...Qo(t)});class Ui extends ei{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(Ko(e)||Ko(r))return Ho;const a=Fi(e.value,r.value);return a.valid?((qo(e)||qo(r))&&t.dirty(),{status:t.value,value:a.data}):(Uo(n,{code:$o.invalid_intersection_types}),Ho)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ui.create=(e,t,n)=>new Ui({left:e,right:t,typeName:ss.ZodIntersection,...Qo(n)});class Bi extends ei{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ro.array)return Uo(n,{code:$o.invalid_type,expected:Ro.array,received:n.parsedType}),Ho;if(n.data.length<this._def.items.length)return Uo(n,{code:$o.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ho;!this._def.rest&&n.data.length>this._def.items.length&&(Uo(n,{code:$o.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new Go(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(r).then(e=>Bo.mergeArray(t,e)):Bo.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Bi({...this._def,rest:e})}}Bi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bi({items:e,typeName:ss.ZodTuple,rest:null,...Qo(t)})};class Hi extends ei{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ro.map)return Uo(n,{code:$o.invalid_type,expected:Ro.map,received:n.parsedType}),Ho;const r=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([e,t],o)=>({key:r._parse(new Go(n,e,n.path,[o,"key"])),value:a._parse(new Go(n,t,n.path,[o,"value"]))}));if(n.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const n of o){const r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return Ho;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}})}{const e=new Map;for(const n of o){const r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return Ho;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}}Hi.create=(e,t,n)=>new Hi({valueType:t,keyType:e,typeName:ss.ZodMap,...Qo(n)});class Vi extends ei{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ro.set)return Uo(n,{code:$o.invalid_type,expected:Ro.set,received:n.parsedType}),Ho;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(Uo(n,{code:$o.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(Uo(n,{code:$o.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function o(e){const n=new Set;for(const r of e){if("aborted"===r.status)return Ho;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const i=[...n.data.values()].map((e,t)=>a._parse(new Go(n,e,n.path,t)));return n.common.async?Promise.all(i).then(e=>o(e)):o(i)}min(e,t){return new Vi({...this._def,minSize:{value:e,message:Fo.toString(t)}})}max(e,t){return new Vi({...this._def,maxSize:{value:e,message:Fo.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Vi.create=(e,t)=>new Vi({valueType:e,minSize:null,maxSize:null,typeName:ss.ZodSet,...Qo(t)});class Wi extends ei{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Wi.create=(e,t)=>new Wi({getter:e,typeName:ss.ZodLazy,...Qo(t)});class Ki extends ei{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Uo(t,{received:t.data,code:$o.invalid_literal,expected:this._def.value}),Ho}return{status:"valid",value:e.data}}get value(){return this._def.value}}function qi(e,t){return new Ji({values:e,typeName:ss.ZodEnum,...Qo(t)})}Ki.create=(e,t)=>new Ki({value:e,typeName:ss.ZodLiteral,...Qo(t)});class Ji extends ei{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Uo(t,{expected:No.joinValues(n),received:t.parsedType,code:$o.invalid_type}),Ho}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Uo(t,{received:t.data,code:$o.invalid_enum_value,options:n}),Ho}return Wo(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Ji.create(e,{...this._def,...t})}exclude(e,t=this._def){return Ji.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}Ji.create=qi;class Yi extends ei{_parse(e){const t=No.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ro.string&&n.parsedType!==Ro.number){const e=No.objectValues(t);return Uo(n,{expected:No.joinValues(e),received:n.parsedType,code:$o.invalid_type}),Ho}if(this._cache||(this._cache=new Set(No.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=No.objectValues(t);return Uo(n,{received:n.data,code:$o.invalid_enum_value,options:e}),Ho}return Wo(e.data)}get enum(){return this._def.values}}Yi.create=(e,t)=>new Yi({values:e,typeName:ss.ZodNativeEnum,...Qo(t)});class Gi extends ei{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ro.promise&&!1===t.common.async)return Uo(t,{code:$o.invalid_type,expected:Ro.promise,received:t.parsedType}),Ho;const n=t.parsedType===Ro.promise?t.data:Promise.resolve(t.data);return Wo(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Gi.create=(e,t)=>new Gi({type:e,typeName:ss.ZodPromise,...Qo(t)});class Xi extends ei{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ss.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:e=>{Uo(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===r.type){const e=r.transform(n.data,a);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return Ho;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?Ho:"dirty"===r.status||"dirty"===t.value?Vo(r.value):r});{if("aborted"===t.value)return Ho;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?Ho:"dirty"===r.status||"dirty"===t.value?Vo(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?Ho:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?Ho:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Jo(e))return Ho;const o=r.transform(e.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>Jo(e)?Promise.resolve(r.transform(e.value,a)).then(e=>({status:t.value,value:e})):Ho)}No.assertNever(r)}}Xi.create=(e,t,n)=>new Xi({schema:e,typeName:ss.ZodEffects,effect:t,...Qo(n)}),Xi.createWithPreprocess=(e,t,n)=>new Xi({schema:t,effect:{type:"preprocess",transform:e},typeName:ss.ZodEffects,...Qo(n)});class Qi extends ei{_parse(e){return this._getType(e)===Ro.undefined?Wo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qi.create=(e,t)=>new Qi({innerType:e,typeName:ss.ZodOptional,...Qo(t)});class es extends ei{_parse(e){return this._getType(e)===Ro.null?Wo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}es.create=(e,t)=>new es({innerType:e,typeName:ss.ZodNullable,...Qo(t)});class ts extends ei{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Ro.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ts.create=(e,t)=>new ts({innerType:e,typeName:ss.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...Qo(t)});class ns extends ei{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Yo(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Zo(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new Zo(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ns.create=(e,t)=>new ns({innerType:e,typeName:ss.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...Qo(t)});class rs extends ei{_parse(e){if(this._getType(e)!==Ro.nan){const t=this._getOrReturnCtx(e);return Uo(t,{code:$o.invalid_type,expected:Ro.nan,received:t.parsedType}),Ho}return{status:"valid",value:e.data}}}rs.create=e=>new rs({typeName:ss.ZodNaN,...Qo(e)}),Symbol("zod_brand");class as extends ei{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class os extends ei{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Ho:"dirty"===e.status?(t.dirty(),Vo(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Ho:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new os({in:e,out:t,typeName:ss.ZodPipeline})}}class is extends ei{_parse(e){const t=this._def.innerType._parse(e),n=e=>(Jo(e)&&(e.value=Object.freeze(e.value)),e);return Yo(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}var ss;is.create=(e,t)=>new is({innerType:e,typeName:ss.ZodReadonly,...Qo(t)}),Li.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(ss||(ss={})),Oi.create,Ei.create,rs.create,Ti.create,Ci.create,ji.create,Ii.create,Pi.create,Ni.create,Ai.create,zi.create,Ri.create,Mi.create,$i.create,Li.create,Li.strictCreate,Di.create,Ui.create,Bi.create,Hi.create,Vi.create,Wi.create,Ki.create,Ji.create,Yi.create,Gi.create,Xi.create,Qi.create,es.create,Xi.createWithPreprocess,os.create;var cs=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const a=()=>{const e=n.length,r=new Array(t);for(let a=0;a<t;a++)r[a]=n[Math.random()*e|0];return r.join("")};if(null==e)return a;if(n.includes(r))throw new Oa({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return()=>`${e}${r}${a()}`},us=cs();function ls(e=globalThis){var t,n,r;return e.window?"runtime/browser":(null==(t=e.navigator)?void 0:t.userAgent)?`runtime/${e.navigator.userAgent.toLowerCase()}`:(null==(r=null==(n=e.process)?void 0:n.versions)?void 0:r.node)?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function ds(e){if(null==e)return{};const t={};if(e instanceof Headers)e.forEach((e,n)=>{t[n.toLowerCase()]=e});else{Array.isArray(e)||(e=Object.entries(e));for(const[n,r]of e)null!=r&&(t[n.toLowerCase()]=r)}return t}function ps(e,...t){const n=new Headers(ds(e)),r=n.get("user-agent")||"";return n.set("user-agent",[r,...t].filter(Boolean).join(" ")),Object.fromEntries(n.entries())}var fs=/"__proto__"\s*:/,hs=/"constructor"\s*:/;function ms(e){const{stackTraceLimit:t}=Error;Error.stackTraceLimit=0;try{return function(e){const t=JSON.parse(e);return null===t||"object"!=typeof t||!1===fs.test(e)&&!1===hs.test(e)?t:function(e){let t=[e];for(;t.length;){const e=t;t=[];for(const n of e){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const e in n){const r=n[e];r&&"object"==typeof r&&t.push(r)}}}return e}(t)}(e)}finally{Error.stackTraceLimit=t}}var vs=Symbol.for("vercel.ai.validator");function gs(e){let t;return()=>(null==t&&(t=e()),t)}async function ys({value:e,schema:t}){const n=await _s({value:e,schema:t});if(!n.success)throw za.wrap({value:e,cause:n.error});return n.value}async function _s({value:e,schema:t}){const n=function(e){return function(e){return"object"==typeof e&&null!==e&&vs in e&&!0===e[vs]&&"validate"in e}(e)?e:"function"==typeof e?e():(t=e,n=async e=>{const n=await t["~standard"].validate(e);return null==n.issues?{success:!0,value:n.value}:{success:!1,error:new za({value:e,cause:n.issues})}},{[vs]:!0,validate:n});var t,n}(t);try{if(null==n.validate)return{success:!0,value:e,rawValue:e};const t=await n.validate(e);return t.success?{success:!0,value:t.value,rawValue:e}:{success:!1,error:za.wrap({value:e,cause:t.error}),rawValue:e}}catch(t){return{success:!1,error:za.wrap({value:e,cause:t}),rawValue:e}}}async function bs({text:e,schema:t}){try{const n=ms(e);return null==t?{success:!0,value:n,rawValue:n}:await _s({value:n,schema:t})}catch(t){return{success:!1,error:ja.isInstance(t)?t:new ja({text:e,cause:t}),rawValue:void 0}}}async function ws(e){return"function"==typeof e&&(e=e()),Promise.resolve(e)}var ks=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},xs=Symbol("Let zodToJsonSchema decide on which parser to use"),Os={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function Ss(e,t){return Ys(e.type._def,t)}function Es(e,t,n){const r=null!=n?n:t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((n,r)=>Es(e,t,n))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Ts(e)}}var Ts=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value}return t},Cs=void 0,js=/^[cC][^\s-]{8,}$/,Is=/^[0-9a-z]+$/,Ps=/^[0-9A-HJKMNP-TV-Z]{26}$/,Ns=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,As=()=>(void 0===Cs&&(Cs=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Cs),zs=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Rs=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ms=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$s=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Zs=/^[a-zA-Z0-9_-]{21}$/,Ls=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function Ds(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength="number"==typeof n.minLength?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength="number"==typeof n.maxLength?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":Bs(n,"email",r.message,t);break;case"format:idn-email":Bs(n,"idn-email",r.message,t);break;case"pattern:zod":Hs(n,Ns,r.message,t)}break;case"url":Bs(n,"uri",r.message,t);break;case"uuid":Bs(n,"uuid",r.message,t);break;case"regex":Hs(n,r.regex,r.message,t);break;case"cuid":Hs(n,js,r.message,t);break;case"cuid2":Hs(n,Is,r.message,t);break;case"startsWith":Hs(n,RegExp(`^${Fs(r.value,t)}`),r.message,t);break;case"endsWith":Hs(n,RegExp(`${Fs(r.value,t)}$`),r.message,t);break;case"datetime":Bs(n,"date-time",r.message,t);break;case"date":Bs(n,"date",r.message,t);break;case"time":Bs(n,"time",r.message,t);break;case"duration":Bs(n,"duration",r.message,t);break;case"length":n.minLength="number"==typeof n.minLength?Math.max(n.minLength,r.value):r.value,n.maxLength="number"==typeof n.maxLength?Math.min(n.maxLength,r.value):r.value;break;case"includes":Hs(n,RegExp(Fs(r.value,t)),r.message,t);break;case"ip":"v6"!==r.version&&Bs(n,"ipv4",r.message,t),"v4"!==r.version&&Bs(n,"ipv6",r.message,t);break;case"base64url":Hs(n,$s,r.message,t);break;case"jwt":Hs(n,Ls,r.message,t);break;case"cidr":"v6"!==r.version&&Hs(n,zs,r.message,t),"v4"!==r.version&&Hs(n,Rs,r.message,t);break;case"emoji":Hs(n,As(),r.message,t);break;case"ulid":Hs(n,Ps,r.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":Bs(n,"binary",r.message,t);break;case"contentEncoding:base64":n.contentEncoding="base64";break;case"pattern:zod":Hs(n,Ms,r.message,t)}break;case"nanoid":Hs(n,Zs,r.message,t)}return n}function Fs(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let n=0;n<e.length;n++)Us.has(e[n])||(t+="\\"),t+=e[n];return t}(e):e}var Us=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Bs(e,t,n,r){var a;e.format||(null==(a=e.anyOf)?void 0:a.some(e=>e.format))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):e.format=t}function Hs(e,t,n,r){var a;e.pattern||(null==(a=e.allOf)?void 0:a.some(e=>e.pattern))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:Vs(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=Vs(t,r)}function Vs(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r=e.flags.includes("i"),a=e.flags.includes("m"),o=e.flags.includes("s"),i=r?e.source.toLowerCase():e.source;let s="",c=!1,u=!1,l=!1;for(let e=0;e<i.length;e++)if(c)s+=i[e],c=!1;else{if(r)if(u){if(i[e].match(/[a-z]/)){l?(s+=i[e],s+=`${i[e-2]}-${i[e]}`.toUpperCase(),l=!1):"-"===i[e+1]&&(null==(n=i[e+2])?void 0:n.match(/[a-z]/))?(s+=i[e],l=!0):s+=`${i[e]}${i[e].toUpperCase()}`;continue}}else if(i[e].match(/[a-z]/)){s+=`[${i[e]}${i[e].toUpperCase()}]`;continue}if(a){if("^"===i[e]){s+="(^|(?<=[\r\n]))";continue}if("$"===i[e]){s+="($|(?=[\r\n]))";continue}}o&&"."===i[e]?s+=u?`${i[e]}\r\n`:`[${i[e]}\r\n]`:(s+=i[e],"\\"===i[e]?c=!0:u&&"]"===i[e]?u=!1:u||"["!==i[e]||(u=!0))}try{new RegExp(s)}catch(n){return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function Ws(e,t){var n,r,a,o,i,s;const c={type:"object",additionalProperties:null!=(n=Ys(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))?n:t.allowedAdditionalProperties};if((null==(r=e.keyType)?void 0:r._def.typeName)===ss.ZodString&&(null==(a=e.keyType._def.checks)?void 0:a.length)){const{type:n,...r}=Ds(e.keyType._def,t);return{...c,propertyNames:r}}if((null==(o=e.keyType)?void 0:o._def.typeName)===ss.ZodEnum)return{...c,propertyNames:{enum:e.keyType._def.values}};if((null==(i=e.keyType)?void 0:i._def.typeName)===ss.ZodBranded&&e.keyType._def.type._def.typeName===ss.ZodString&&(null==(s=e.keyType._def.type._def.checks)?void 0:s.length)){const{type:n,...r}=Ss(e.keyType._def,t);return{...c,propertyNames:r}}return c}var Ks={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function qs(e){try{return e.isOptional()}catch(e){return!0}}var Js=(e,t,n)=>{switch(t){case ss.ZodString:return Ds(e,n);case ss.ZodNumber:return function(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value}return t}(e);case ss.ZodObject:return function(e,t){const n={type:"object",properties:{}},r=[],a=e.shape();for(const e in a){let o=a[e];if(void 0===o||void 0===o._def)continue;const i=qs(o),s=Ys(o._def,{...t,currentPath:[...t.currentPath,"properties",e],propertyPath:[...t.currentPath,"properties",e]});void 0!==s&&(n.properties[e]=s,i||r.push(e))}r.length&&(n.required=r);const o=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return Ys(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==o&&(n.additionalProperties=o),n}(e,n);case ss.ZodBigInt:return function(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value}return t}(e);case ss.ZodBoolean:return{type:"boolean"};case ss.ZodDate:return Es(e,n);case ss.ZodUndefined:return{not:{}};case ss.ZodNull:return{type:"null"};case ss.ZodArray:return function(e,t){var n,r,a;const o={type:"array"};return(null==(n=e.type)?void 0:n._def)&&(null==(a=null==(r=e.type)?void 0:r._def)?void 0:a.typeName)!==ss.ZodAny&&(o.items=Ys(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(o.minItems=e.minLength.value),e.maxLength&&(o.maxItems=e.maxLength.value),e.exactLength&&(o.minItems=e.exactLength.value,o.maxItems=e.exactLength.value),o}(e,n);case ss.ZodUnion:case ss.ZodDiscriminatedUnion:return function(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(e=>e._def.typeName in Ks&&(!e._def.checks||!e._def.checks.length))){const e=n.reduce((e,t)=>{const n=Ks[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e},[]);return{type:e.length>1?e:e[0]}}if(n.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){const e=n.reduce((e,t)=>{const n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===n.length){const t=e.filter((e,t,n)=>n.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:n.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(n.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:n.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return((e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,n)=>Ys(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${n}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return n.length?{anyOf:n}:void 0})(e,t)}(e,n);case ss.ZodIntersection:return function(e,t){const n=[Ys(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Ys(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e),r=[];return n.forEach(e=>{if("type"in(t=e)&&"string"===t.type||!("allOf"in t)){let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:n,...r}=e;t=r}r.push(t)}else r.push(...e.allOf);var t}),r.length?{allOf:r}:void 0}(e,n);case ss.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,n)=>Ys(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:Ys(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,n)=>Ys(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])}}(e,n);case ss.ZodRecord:return Ws(e,n);case ss.ZodLiteral:return function(e){const t=typeof e.value;return"bigint"!==t&&"number"!==t&&"boolean"!==t&&"string"!==t?{type:Array.isArray(e.value)?"array":"object"}:{type:"bigint"===t?"integer":t,const:e.value}}(e);case ss.ZodEnum:return function(e){return{type:"string",enum:Array.from(e.values)}}(e);case ss.ZodNativeEnum:return function(e){const t=e.values,n=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]).map(e=>t[e]),r=Array.from(new Set(n.map(e=>typeof e)));return{type:1===r.length?"string"===r[0]?"string":"number":["string","number"],enum:n}}(e);case ss.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[Ks[e.innerType._def.typeName],"null"]};const n=Ys(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}(e,n);case ss.ZodOptional:return((e,t)=>{var n;if(t.currentPath.toString()===(null==(n=t.propertyPath)?void 0:n.toString()))return Ys(e.innerType._def,t);const r=Ys(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}})(e,n);case ss.ZodMap:return function(e,t){return"record"===t.mapStrategy?Ws(e,t):{type:"array",maxItems:125,items:{type:"array",items:[Ys(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},Ys(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}(e,n);case ss.ZodSet:return function(e,t){const n={type:"array",uniqueItems:!0,items:Ys(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}(e,n);case ss.ZodLazy:return()=>e.getter()._def;case ss.ZodPromise:return function(e,t){return Ys(e.type._def,t)}(e,n);case ss.ZodNaN:case ss.ZodNever:return{not:{}};case ss.ZodEffects:return function(e,t){return"input"===t.effectStrategy?Ys(e.schema._def,t):{}}(e,n);case ss.ZodAny:case ss.ZodUnknown:return{};case ss.ZodDefault:return function(e,t){return{...Ys(e.innerType._def,t),default:e.defaultValue()}}(e,n);case ss.ZodBranded:return Ss(e,n);case ss.ZodReadonly:case ss.ZodCatch:return((e,t)=>Ys(e.innerType._def,t))(e,n);case ss.ZodPipeline:return((e,t)=>{if("input"===t.pipeStrategy)return Ys(e.in._def,t);if("output"===t.pipeStrategy)return Ys(e.out._def,t);const n=Ys(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]});return{allOf:[n,Ys(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]})].filter(e=>void 0!==e)}})(e,n);case ss.ZodFunction:case ss.ZodVoid:case ss.ZodSymbol:default:return}};function Ys(e,t,n=!1){var r;const a=t.seen.get(e);if(t.override){const o=null==(r=t.override)?void 0:r.call(t,e,t,a,n);if(o!==xs)return o}if(a&&!n){const e=Gs(a,t);if(void 0!==e)return e}const o={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,o);const i=Js(e,e.typeName,t),s="function"==typeof i?Ys(i(),t):i;if(s&&Xs(e,t,s),t.postProcess){const n=t.postProcess(s,e,t);return o.jsonSchema=s,n}return o.jsonSchema=s,s}var Gs=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:ks(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((e,n)=>t.currentPath[n]===e)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):"seen"===t.$refStrategy?{}:void 0}},Xs=(e,t,n)=>(e.description&&(n.description=e.description),n),Qs=(e,t)=>{var n;const r=(e=>{const t=(e=>"string"==typeof e?{...Os,name:e}:{...Os,...e})(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([e,n])=>[n._def,{def:n._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}})(t);let a="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,n])=>{var a;return{...e,[t]:null!=(a=Ys(n._def,{...r,currentPath:[...r.basePath,r.definitionPath,t]},!0))?a:{}}},{}):void 0;const o="string"==typeof t?t:"title"===(null==t?void 0:t.nameStrategy)||null==t?void 0:t.name,i=null!=(n=Ys(e._def,void 0===o?r:{...r,currentPath:[...r.basePath,r.definitionPath,o]},!1))?n:{},s="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==s&&(i.title=s);const c=void 0===o?a?{...i,[r.definitionPath]:a}:i:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,o].join("/"),[r.definitionPath]:{...a,[o]:i}};return c.$schema="http://json-schema.org/draft-07/schema#",c};function ec(e,t){return function(e){return"_zod"in e}(e)?function(e,t){var n;const r=null!=(n=null==t?void 0:t.useReferences)&&n;return nc(()=>function(e,t){if(e instanceof Za){const n=new lo(t),r={};for(const t of e._idmap.entries()){const[e,r]=t;n.process(r)}const a={},o={registry:e,uri:t?.uri,defs:r};for(const r of e._idmap.entries()){const[e,i]=r;a[e]=n.emit(i,{...t,external:o})}if(Object.keys(r).length>0){const e="draft-2020-12"===n.target?"$defs":"definitions";a.__shared={[e]:r}}return{schemas:a}}const n=new lo(t);return n.process(e),n.emit(e,t)}(e,{target:"draft-7",io:"output",reused:r?"ref":"inline"}),{validate:async t=>{const n=await Po(e,t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}(e,t):function(e,t){var n;const r=null!=(n=null==t?void 0:t.useReferences)&&n;return nc(()=>Qs(e,{$refStrategy:r?"root":"none"}),{validate:async t=>{const n=await e.safeParseAsync(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}(e,t)}var tc=Symbol.for("vercel.ai.schema");function nc(e,{validate:t}={}){return{[tc]:!0,_type:void 0,[vs]:!0,get jsonSchema(){return"function"==typeof e&&(e=e()),e},validate:t}}var{btoa:rc,atob:ac}=globalThis;const oc=/^[cC][^\s-]{8,}$/,ic=/^[0-9a-z]+$/,sc=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,cc=/^[0-9a-vA-V]{20}$/,uc=/^[A-Za-z0-9]{27}$/,lc=/^[a-zA-Z0-9_-]{21}$/,dc=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,pc=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,fc=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,hc=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,mc=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vc=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,gc=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,yc=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_c=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,bc=/^[A-Za-z0-9_-]*$/,wc=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,kc=/^\+(?:[0-9]){6,14}[0-9]$/,xc="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Oc=new RegExp(`^${xc}$`);function Sc(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}const Ec=/^\d+$/,Tc=/^-?\d+(?:\.\d+)?/i,Cc=/true|false/i,jc=/null/i,Ic=/^[^A-Z]*$/,Pc=/^[^a-z]*$/,Nc=fo("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Ac={number:"number",bigint:"bigint",object:"date"},zc=fo("$ZodCheckLessThan",(e,t)=>{Nc.init(e,t);const n=Ac[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,r=(t.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?n.maximum=t.value:n.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Rc=fo("$ZodCheckGreaterThan",(e,t)=>{Nc.init(e,t);const n=Ac[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,r=(t.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?n.minimum=t.value:n.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Mc=fo("$ZodCheckMultipleOf",(e,t)=>{Nc.init(e,t),e._zod.onattach.push(e=>{var n;(n=e._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof n.value?n.value%t.value===BigInt(0):0===function(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}(n.value,t.value))||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),$c=fo("$ZodCheckNumberFormat",(e,t)=>{Nc.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[a,o]=ro[t.format];e._zod.onattach.push(e=>{const r=e._zod.bag;r.format=t.format,r.minimum=a,r.maximum=o,n&&(r.pattern=Ec)}),e._zod.check=i=>{const s=i.value;if(n){if(!Number.isInteger(s))return void i.issues.push({expected:r,format:t.format,code:"invalid_type",input:s,inst:e});if(!Number.isSafeInteger(s))return void(s>0?i.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):i.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}))}s<a&&i.issues.push({origin:"number",input:s,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),s>o&&i.issues.push({origin:"number",input:s,code:"too_big",maximum:o,inst:e})}}),Zc=fo("$ZodCheckMaxLength",(e,t)=>{var n;Nc.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!Ha(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const r=n.value;if(r.length<=t.maximum)return;const a=co(r);n.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Lc=fo("$ZodCheckMinLength",(e,t)=>{var n;Nc.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!Ha(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const r=n.value;if(r.length>=t.minimum)return;const a=co(r);n.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Dc=fo("$ZodCheckLengthEquals",(e,t)=>{var n;Nc.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!Ha(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=n=>{const r=n.value,a=r.length;if(a===t.length)return;const o=co(r),i=a>t.length;n.issues.push({origin:o,...i?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Fc=fo("$ZodCheckStringFormat",(e,t)=>{var n,r;Nc.init(e,t),e._zod.onattach.push(e=>{const n=e._zod.bag;n.format=t.format,t.pattern&&(n.patterns??(n.patterns=new Set),n.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:t.format,input:n.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),Uc=fo("$ZodCheckRegex",(e,t)=>{Fc.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Bc=fo("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Ic),Fc.init(e,t)}),Hc=fo("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Pc),Fc.init(e,t)}),Vc=fo("$ZodCheckIncludes",(e,t)=>{Nc.init(e,t);const n=eo(t.includes),r=new RegExp("number"==typeof t.position?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}}),Wc=fo("$ZodCheckStartsWith",(e,t)=>{Nc.init(e,t);const n=new RegExp(`^${eo(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),Kc=fo("$ZodCheckEndsWith",(e,t)=>{Nc.init(e,t);const n=new RegExp(`.*${eo(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),qc=fo("$ZodCheckOverwrite",(e,t)=>{Nc.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});class Jc{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter(e=>e),n=Math.min(...t.map(e=>e.length-e.trimStart().length)),r=t.map(e=>e.slice(n)).map(e=>" ".repeat(2*this.indent)+e);for(const e of r)this.content.push(e)}compile(){const e=Function,t=this?.args,n=[...(this?.content??[""]).map(e=>`  ${e}`)];return new e(...t,n.join("\n"))}}const Yc={major:4,minor:0,patch:0},Gc=fo("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Yc;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const t of r)for(const n of t._zod.onattach)n(e);if(0===r.length)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const t=(e,t,n)=>{let r,a=ao(e);for(const o of t){if(o._zod.def.when){if(!o._zod.def.when(e))continue}else if(a)continue;const t=e.issues.length,i=o._zod.check(e);if(i instanceof Promise&&!1===n?.async)throw new ho;if(r||i instanceof Promise)r=(r??Promise.resolve()).then(async()=>{await i,e.issues.length!==t&&(a||(a=ao(e,t)))});else{if(e.issues.length===t)continue;a||(a=ao(e,t))}}return r?r.then(()=>e):e};e._zod.run=(n,a)=>{const o=e._zod.parse(n,a);if(o instanceof Promise){if(!1===a.async)throw new ho;return o.then(e=>t(e,r,a))}return t(o,r,a)}}e["~standard"]={validate:t=>{try{const n=xo(e,t);return n.success?{value:n.data}:{issues:n.error?.issues}}catch(n){return So(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),Xc=fo("$ZodString",(e,t)=>{var n;Gc.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??(n=e._zod.bag,new RegExp(`^${n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*"}$`)),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch(r){}return"string"==typeof n.value||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Qc=fo("$ZodStringFormat",(e,t)=>{Fc.init(e,t),Xc.init(e,t)}),eu=fo("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=pc),Qc.init(e,t)}),tu=fo("$ZodUUID",(e,t)=>{if(t.version){const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=fc(e))}else t.pattern??(t.pattern=fc());Qc.init(e,t)}),nu=fo("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=hc),Qc.init(e,t)}),ru=fo("$ZodURL",(e,t)=>{Qc.init(e,t),e._zod.check=n=>{try{const r=n.value,a=new URL(r),o=a.href;return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:wc.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),void(!r.endsWith("/")&&o.endsWith("/")?n.value=o.slice(0,-1):n.value=o)}catch(r){n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),au=fo("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Qc.init(e,t)}),ou=fo("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=lc),Qc.init(e,t)}),iu=fo("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=oc),Qc.init(e,t)}),su=fo("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=ic),Qc.init(e,t)}),cu=fo("$ZodULID",(e,t)=>{t.pattern??(t.pattern=sc),Qc.init(e,t)}),uu=fo("$ZodXID",(e,t)=>{t.pattern??(t.pattern=cc),Qc.init(e,t)}),lu=fo("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=uc),Qc.init(e,t)}),du=fo("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=function(e){const t=Sc({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${xc}T(?:${r})$`)}(t)),Qc.init(e,t)}),pu=fo("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Oc),Qc.init(e,t)}),fu=fo("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=new RegExp(`^${Sc(t)}$`)),Qc.init(e,t)}),hu=fo("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=dc),Qc.init(e,t)}),mu=fo("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=mc),Qc.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv4"})}),vu=fo("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=vc),Qc.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),gu=fo("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=gc),Qc.init(e,t)}),yu=fo("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=yc),Qc.init(e,t),e._zod.check=n=>{const[r,a]=n.value.split("/");try{if(!a)throw new Error;const e=Number(a);if(`${e}`!==a)throw new Error;if(e<0||e>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function _u(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}const bu=fo("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=_c),Qc.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{_u(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}}),wu=fo("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=bc),Qc.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{(function(e){if(!bc.test(e))return!1;const t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return _u(t.padEnd(4*Math.ceil(t.length/4),"="))})(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),ku=fo("$ZodE164",(e,t)=>{t.pattern??(t.pattern=kc),Qc.init(e,t)}),xu=fo("$ZodJWT",(e,t)=>{Qc.init(e,t),e._zod.check=n=>{(function(e,t=null){try{const n=e.split(".");if(3!==n.length)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&"JWT"!==a?.typ||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}})(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Ou=fo("$ZodNumber",(e,t)=>{Gc.init(e,t),e._zod.pattern=e._zod.bag.pattern??Tc,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch(e){}const a=n.value;if("number"==typeof a&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o="number"==typeof a?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...o?{received:o}:{}}),n}}),Su=fo("$ZodNumber",(e,t)=>{$c.init(e,t),Ou.init(e,t)}),Eu=fo("$ZodBoolean",(e,t)=>{Gc.init(e,t),e._zod.pattern=Cc,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Boolean(n.value)}catch(e){}const a=n.value;return"boolean"==typeof a||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),n}}),Tu=fo("$ZodNull",(e,t)=>{Gc.init(e,t),e._zod.pattern=jc,e._zod.values=new Set([null]),e._zod.parse=(t,n)=>{const r=t.value;return null===r||t.issues.push({expected:"null",code:"invalid_type",input:r,inst:e}),t}}),Cu=fo("$ZodUnknown",(e,t)=>{Gc.init(e,t),e._zod.parse=e=>e}),ju=fo("$ZodNever",(e,t)=>{Gc.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)});function Iu(e,t,n){e.issues.length&&t.issues.push(...oo(n,e.issues)),t.value[n]=e.value}const Pu=fo("$ZodArray",(e,t)=>{Gc.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const o=[];for(let e=0;e<a.length;e++){const i=a[e],s=t.element._zod.run({value:i,issues:[]},r);s instanceof Promise?o.push(s.then(t=>Iu(t,n,e))):Iu(s,n,e)}return o.length?Promise.all(o).then(()=>n):n}});function Nu(e,t,n){e.issues.length&&t.issues.push(...oo(n,e.issues)),t.value[n]=e.value}function Au(e,t,n,r){e.issues.length?void 0===r[n]?t.value[n]=n in r?void 0:e.value:t.issues.push(...oo(n,e.issues)):void 0===e.value?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const zu=fo("$ZodObject",(e,t)=>{Gc.init(e,t);const n=Ba(()=>{const e=Object.keys(t.shape);for(const n of e)if(!(t.shape[n]instanceof Gc))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const n=(r=t.shape,Object.keys(r).filter(e=>"optional"===r[e]._zod.optin&&"optional"===r[e]._zod.optout));var r;return{shape:t.shape,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}});let r;Wa(e._zod,"propValues",()=>{const e=t.shape,n={};for(const t in e){const r=e[t]._zod;if(r.values){n[t]??(n[t]=new Set);for(const e of r.values)n[t].add(e)}}return n});const a=Ya,o=!mo.jitless,i=o&&Ga.value,s=t.catchall;let c;e._zod.parse=(u,l)=>{c??(c=n.value);const d=u.value;if(!a(d))return u.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),u;const p=[];if(o&&i&&!1===l?.async&&!0!==l.jitless)r||(r=(e=>{const t=new Jc(["shape","payload","ctx"]),r=n.value,a=e=>{const t=qa(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");const o=Object.create(null);let i=0;for(const e of r.keys)o[e]="key_"+i++;t.write("const newResult = {}");for(const e of r.keys)if(r.optionalKeys.has(e)){const n=o[e];t.write(`const ${n} = ${a(e)};`);const r=qa(e);t.write(`\n        if (${n}.issues.length) {\n          if (input[${r}] === undefined) {\n            if (${r} in input) {\n              newResult[${r}] = undefined;\n            }\n          } else {\n            payload.issues = payload.issues.concat(\n              ${n}.issues.map((iss) => ({\n                ...iss,\n                path: iss.path ? [${r}, ...iss.path] : [${r}],\n              }))\n            );\n          }\n        } else if (${n}.value === undefined) {\n          if (${r} in input) newResult[${r}] = undefined;\n        } else {\n          newResult[${r}] = ${n}.value;\n        }\n        `)}else{const n=o[e];t.write(`const ${n} = ${a(e)};`),t.write(`\n          if (${n}.issues.length) payload.issues = payload.issues.concat(${n}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${qa(e)}, ...iss.path] : [${qa(e)}]\n          })));`),t.write(`newResult[${qa(e)}] = ${n}.value`)}t.write("payload.value = newResult;"),t.write("return payload;");const s=t.compile();return(t,n)=>s(e,t,n)})(t.shape)),u=r(u,l);else{u.value={};const e=c.shape;for(const t of c.keys){const n=e[t],r=n._zod.run({value:d[t],issues:[]},l),a="optional"===n._zod.optin&&"optional"===n._zod.optout;r instanceof Promise?p.push(r.then(e=>a?Au(e,u,t,d):Nu(e,u,t))):a?Au(r,u,t,d):Nu(r,u,t)}}if(!s)return p.length?Promise.all(p).then(()=>u):u;const f=[],h=c.keySet,m=s._zod,v=m.def.type;for(const e of Object.keys(d)){if(h.has(e))continue;if("never"===v){f.push(e);continue}const t=m.run({value:d[e],issues:[]},l);t instanceof Promise?p.push(t.then(t=>Nu(t,u,e))):Nu(t,u,e)}return f.length&&u.issues.push({code:"unrecognized_keys",keys:f,input:d,inst:e}),p.length?Promise.all(p).then(()=>u):u}});function Ru(e,t,n,r){for(const n of e)if(0===n.issues.length)return t.value=n.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>so(e,r,vo())))}),t}const Mu=fo("$ZodUnion",(e,t)=>{Gc.init(e,t),Wa(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),Wa(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),Wa(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),Wa(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){const e=t.options.map(e=>e._zod.pattern);return new RegExp(`^(${e.map(e=>Va(e.source)).join("|")})$`)}}),e._zod.parse=(n,r)=>{let a=!1;const o=[];for(const e of t.options){const t=e._zod.run({value:n.value,issues:[]},r);if(t instanceof Promise)o.push(t),a=!0;else{if(0===t.issues.length)return t;o.push(t)}}return a?Promise.all(o).then(t=>Ru(t,n,e,r)):Ru(o,n,e,r)}}),$u=fo("$ZodDiscriminatedUnion",(e,t)=>{Mu.init(e,t);const n=e._zod.parse;Wa(e._zod,"propValues",()=>{const e={};for(const n of t.options){const r=n._zod.propValues;if(!r||0===Object.keys(r).length)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(n)}"`);for(const[t,n]of Object.entries(r)){e[t]||(e[t]=new Set);for(const r of n)e[t].add(r)}}return e});const r=Ba(()=>{const e=t.options,n=new Map;for(const r of e){const e=r._zod.propValues[t.discriminator];if(!e||0===e.size)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(const t of e){if(n.has(t))throw new Error(`Duplicate discriminator value "${String(t)}"`);n.set(t,r)}}return n});e._zod.parse=(a,o)=>{const i=a.value;if(!Ya(i))return a.issues.push({code:"invalid_type",expected:"object",input:i,inst:e}),a;const s=r.value.get(i?.[t.discriminator]);return s?s._zod.run(a,o):t.unionFallback?n(a,o):(a.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:i,path:[t.discriminator],inst:e}),a)}}),Zu=fo("$ZodIntersection",(e,t)=>{Gc.init(e,t),e._zod.parse=(e,n)=>{const r=e.value,a=t.left._zod.run({value:r,issues:[]},n),o=t.right._zod.run({value:r,issues:[]},n);return a instanceof Promise||o instanceof Promise?Promise.all([a,o]).then(([t,n])=>Du(e,t,n)):Du(e,a,o)}});function Lu(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(Xa(e)&&Xa(t)){const n=Object.keys(t),r=Object.keys(e).filter(e=>-1!==n.indexOf(e)),a={...e,...t};for(const n of r){const r=Lu(e[n],t[n]);if(!r.valid)return{valid:!1,mergeErrorPath:[n,...r.mergeErrorPath]};a[n]=r.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=Lu(e[r],t[r]);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Du(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),ao(e))return e;const r=Lu(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const Fu=fo("$ZodRecord",(e,t)=>{Gc.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Xa(a))return n.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),n;const o=[];if(t.keyType._zod.values){const i=t.keyType._zod.values;n.value={};for(const e of i)if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){const i=t.valueType._zod.run({value:a[e],issues:[]},r);i instanceof Promise?o.push(i.then(t=>{t.issues.length&&n.issues.push(...oo(e,t.issues)),n.value[e]=t.value})):(i.issues.length&&n.issues.push(...oo(e,i.issues)),n.value[e]=i.value)}let s;for(const e in a)i.has(e)||(s=s??[],s.push(e));s&&s.length>0&&n.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:s})}else{n.value={};for(const i of Reflect.ownKeys(a)){if("__proto__"===i)continue;const s=t.keyType._zod.run({value:i,issues:[]},r);if(s instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(s.issues.length){n.issues.push({origin:"record",code:"invalid_key",issues:s.issues.map(e=>so(e,r,vo())),input:i,path:[i],inst:e}),n.value[s.value]=s.value;continue}const c=t.valueType._zod.run({value:a[i],issues:[]},r);c instanceof Promise?o.push(c.then(e=>{e.issues.length&&n.issues.push(...oo(i,e.issues)),n.value[s.value]=e.value})):(c.issues.length&&n.issues.push(...oo(i,c.issues)),n.value[s.value]=c.value)}}return o.length?Promise.all(o).then(()=>n):n}}),Uu=fo("$ZodEnum",(e,t)=>{Gc.init(e,t);const n=Fa(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(e=>Qa.has(typeof e)).map(e=>"string"==typeof e?eo(e):e.toString()).join("|")})$`),e._zod.parse=(t,r)=>{const a=t.value;return e._zod.values.has(a)||t.issues.push({code:"invalid_value",values:n,input:a,inst:e}),t}}),Bu=fo("$ZodLiteral",(e,t)=>{Gc.init(e,t),e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(e=>"string"==typeof e?eo(e):e?e.toString():String(e)).join("|")})$`),e._zod.parse=(n,r)=>{const a=n.value;return e._zod.values.has(a)||n.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),n}}),Hu=fo("$ZodTransform",(e,t)=>{Gc.init(e,t),e._zod.parse=(e,n)=>{const r=t.transform(e.value,e);if(n.async)return(r instanceof Promise?r:Promise.resolve(r)).then(t=>(e.value=t,e));if(r instanceof Promise)throw new ho;return e.value=r,e}}),Vu=fo("$ZodOptional",(e,t)=>{Gc.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Wa(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Wa(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${Va(e.source)})?$`):void 0}),e._zod.parse=(e,n)=>"optional"===t.innerType._zod.optin?t.innerType._zod.run(e,n):void 0===e.value?e:t.innerType._zod.run(e,n)}),Wu=fo("$ZodNullable",(e,t)=>{Gc.init(e,t),Wa(e._zod,"optin",()=>t.innerType._zod.optin),Wa(e._zod,"optout",()=>t.innerType._zod.optout),Wa(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${Va(e.source)}|null)$`):void 0}),Wa(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)}),Ku=fo("$ZodDefault",(e,t)=>{Gc.init(e,t),e._zod.optin="optional",Wa(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if(void 0===e.value)return e.value=t.defaultValue,e;const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(e=>qu(e,t)):qu(r,t)}});function qu(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const Ju=fo("$ZodPrefault",(e,t)=>{Gc.init(e,t),e._zod.optin="optional",Wa(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>(void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))}),Yu=fo("$ZodNonOptional",(e,t)=>{Gc.init(e,t),Wa(e._zod,"values",()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(t=>Gu(t,e)):Gu(a,e)}});function Gu(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Xu=fo("$ZodCatch",(e,t)=>{Gc.init(e,t),e._zod.optin="optional",Wa(e._zod,"optout",()=>t.innerType._zod.optout),Wa(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>so(e,n,vo()))},input:e.value}),e.issues=[]),e)):(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>so(e,n,vo()))},input:e.value}),e.issues=[]),e)}}),Qu=fo("$ZodPipe",(e,t)=>{Gc.init(e,t),Wa(e._zod,"values",()=>t.in._zod.values),Wa(e._zod,"optin",()=>t.in._zod.optin),Wa(e._zod,"optout",()=>t.out._zod.optout),e._zod.parse=(e,n)=>{const r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>el(e,t,n)):el(r,t,n)}});function el(e,t,n){return ao(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const tl=fo("$ZodReadonly",(e,t)=>{Gc.init(e,t),Wa(e._zod,"propValues",()=>t.innerType._zod.propValues),Wa(e._zod,"values",()=>t.innerType._zod.values),Wa(e._zod,"optin",()=>t.innerType._zod.optin),Wa(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,n)=>{const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(nl):nl(r)}});function nl(e){return e.value=Object.freeze(e.value),e}const rl=fo("$ZodLazy",(e,t)=>{Gc.init(e,t),Wa(e._zod,"innerType",()=>t.getter()),Wa(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),Wa(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),Wa(e._zod,"optin",()=>e._zod.innerType._zod.optin),Wa(e._zod,"optout",()=>e._zod.innerType._zod.optout),e._zod.parse=(t,n)=>e._zod.innerType._zod.run(t,n)}),al=fo("$ZodCustom",(e,t)=>{Nc.init(e,t),Gc.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then(t=>ol(t,n,r,e));ol(a,n,r,e)}});function ol(e,t,n,r){if(!e){const e={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(uo(e))}}function il(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...no(t)})}function sl(e,t){return new zc({check:"less_than",...no(t),value:e,inclusive:!1})}function cl(e,t){return new zc({check:"less_than",...no(t),value:e,inclusive:!0})}function ul(e,t){return new Rc({check:"greater_than",...no(t),value:e,inclusive:!1})}function ll(e,t){return new Rc({check:"greater_than",...no(t),value:e,inclusive:!0})}function dl(e,t){return new Mc({check:"multiple_of",...no(t),value:e})}function pl(e,t){return new Zc({check:"max_length",...no(t),maximum:e})}function fl(e,t){return new Lc({check:"min_length",...no(t),minimum:e})}function hl(e,t){return new Dc({check:"length_equals",...no(t),length:e})}function ml(e){return new qc({check:"overwrite",tx:e})}const vl=fo("ZodISODateTime",(e,t)=>{du.init(e,t),Ol.init(e,t)});const gl=fo("ZodISODate",(e,t)=>{pu.init(e,t),Ol.init(e,t)});const yl=fo("ZodISOTime",(e,t)=>{fu.init(e,t),Ol.init(e,t)});const _l=fo("ZodISODuration",(e,t)=>{hu.init(e,t),Ol.init(e,t)});const bl=fo("ZodType",(e,t)=>(Gc.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),e.clone=(t,n)=>to(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>Co(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>Io(e,t,n),e.parseAsync=async(t,n)=>jo(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>Po(e,t,n),e.spa=e.safeParseAsync,e.refine=(t,n)=>e.check(function(e,t={}){return function(e,t,n){return new e({type:"custom",check:"custom",fn:t,...no(n)})}(Id,e,t)}(t,n)),e.superRefine=t=>e.check(function(e){const t=function(e){const t=new Nc({check:"custom"});return t._zod.check=e,t}(n=>(n.addIssue=e=>{if("string"==typeof e)n.issues.push(uo(e,n.value,t._zod.def));else{const r=e;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(uo(r))}},e(n.value,n)));return t}(t)),e.overwrite=t=>e.check(ml(t)),e.optional=()=>_d(e),e.nullable=()=>wd(e),e.nullish=()=>_d(wd(e)),e.nonoptional=t=>function(e,t){return new Od({type:"nonoptional",innerType:e,...no(t)})}(e,t),e.array=()=>rd(e),e.or=t=>cd([e,t]),e.and=t=>new ld({type:"intersection",left:e,right:t}),e.transform=t=>Td(e,new gd({type:"transform",transform:t})),e.default=t=>{return n=t,new kd({type:"default",innerType:e,get defaultValue(){return"function"==typeof n?n():n}});var n},e.prefault=t=>{return n=t,new xd({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof n?n():n}});var n},e.catch=t=>{return new Sd({type:"catch",innerType:e,catchValue:"function"==typeof(n=t)?n:()=>n});var n},e.pipe=t=>Td(e,t),e.readonly=()=>new Cd({type:"readonly",innerType:e}),e.describe=t=>{const n=e.clone();return Da.add(n,{description:t}),n},Object.defineProperty(e,"description",{get:()=>Da.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return Da.get(e);const n=e.clone();return Da.add(n,t[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),wl=fo("_ZodString",(e,t)=>{Xc.init(e,t),bl.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...t)=>e.check(function(e,t){return new Uc({check:"string_format",format:"regex",...no(t),pattern:e})}(...t)),e.includes=(...t)=>e.check(function(e,t){return new Vc({check:"string_format",format:"includes",...no(t),includes:e})}(...t)),e.startsWith=(...t)=>e.check(function(e,t){return new Wc({check:"string_format",format:"starts_with",...no(t),prefix:e})}(...t)),e.endsWith=(...t)=>e.check(function(e,t){return new Kc({check:"string_format",format:"ends_with",...no(t),suffix:e})}(...t)),e.min=(...t)=>e.check(fl(...t)),e.max=(...t)=>e.check(pl(...t)),e.length=(...t)=>e.check(hl(...t)),e.nonempty=(...t)=>e.check(fl(1,...t)),e.lowercase=t=>e.check(function(e){return new Bc({check:"string_format",format:"lowercase",...no(e)})}(t)),e.uppercase=t=>e.check(function(e){return new Hc({check:"string_format",format:"uppercase",...no(e)})}(t)),e.trim=()=>e.check(ml(e=>e.trim())),e.normalize=(...t)=>e.check(function(e){return ml(t=>t.normalize(e))}(...t)),e.toLowerCase=()=>e.check(ml(e=>e.toLowerCase())),e.toUpperCase=()=>e.check(ml(e=>e.toUpperCase()))}),kl=fo("ZodString",(e,t)=>{Xc.init(e,t),wl.init(e,t),e.email=t=>e.check(function(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...no(t)})}(Sl,t)),e.url=t=>e.check(function(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...no(t)})}(Cl,t)),e.jwt=t=>e.check(function(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...no(t)})}(Bl,t)),e.emoji=t=>e.check(function(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...no(t)})}(jl,t)),e.guid=t=>e.check(il(El,t)),e.uuid=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...no(t)})}(Tl,t)),e.uuidv4=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...no(t)})}(Tl,t)),e.uuidv6=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...no(t)})}(Tl,t)),e.uuidv7=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...no(t)})}(Tl,t)),e.nanoid=t=>e.check(function(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...no(t)})}(Il,t)),e.guid=t=>e.check(il(El,t)),e.cuid=t=>e.check(function(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...no(t)})}(Pl,t)),e.cuid2=t=>e.check(function(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...no(t)})}(Nl,t)),e.ulid=t=>e.check(function(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...no(t)})}(Al,t)),e.base64=t=>e.check(function(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...no(t)})}(Dl,t)),e.base64url=t=>e.check(function(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...no(t)})}(Fl,t)),e.xid=t=>e.check(function(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...no(t)})}(zl,t)),e.ksuid=t=>e.check(function(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...no(t)})}(Rl,t)),e.ipv4=t=>e.check(function(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...no(t)})}(Ml,t)),e.ipv6=t=>e.check(function(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...no(t)})}($l,t)),e.cidrv4=t=>e.check(function(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...no(t)})}(Zl,t)),e.cidrv6=t=>e.check(function(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...no(t)})}(Ll,t)),e.e164=t=>e.check(function(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...no(t)})}(Ul,t)),e.datetime=t=>e.check(function(e){return function(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...no(t)})}(vl,e)}(t)),e.date=t=>e.check(function(e){return function(e,t){return new e({type:"string",format:"date",check:"string_format",...no(t)})}(gl,e)}(t)),e.time=t=>e.check(function(e){return function(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...no(t)})}(yl,e)}(t)),e.duration=t=>e.check(function(e){return function(e,t){return new e({type:"string",format:"duration",check:"string_format",...no(t)})}(_l,e)}(t))});function xl(e){return function(e,t){return new e({type:"string",...no(t)})}(kl,e)}const Ol=fo("ZodStringFormat",(e,t)=>{Qc.init(e,t),wl.init(e,t)}),Sl=fo("ZodEmail",(e,t)=>{nu.init(e,t),Ol.init(e,t)}),El=fo("ZodGUID",(e,t)=>{eu.init(e,t),Ol.init(e,t)}),Tl=fo("ZodUUID",(e,t)=>{tu.init(e,t),Ol.init(e,t)}),Cl=fo("ZodURL",(e,t)=>{ru.init(e,t),Ol.init(e,t)}),jl=fo("ZodEmoji",(e,t)=>{au.init(e,t),Ol.init(e,t)}),Il=fo("ZodNanoID",(e,t)=>{ou.init(e,t),Ol.init(e,t)}),Pl=fo("ZodCUID",(e,t)=>{iu.init(e,t),Ol.init(e,t)}),Nl=fo("ZodCUID2",(e,t)=>{su.init(e,t),Ol.init(e,t)}),Al=fo("ZodULID",(e,t)=>{cu.init(e,t),Ol.init(e,t)}),zl=fo("ZodXID",(e,t)=>{uu.init(e,t),Ol.init(e,t)}),Rl=fo("ZodKSUID",(e,t)=>{lu.init(e,t),Ol.init(e,t)}),Ml=fo("ZodIPv4",(e,t)=>{mu.init(e,t),Ol.init(e,t)}),$l=fo("ZodIPv6",(e,t)=>{vu.init(e,t),Ol.init(e,t)}),Zl=fo("ZodCIDRv4",(e,t)=>{gu.init(e,t),Ol.init(e,t)}),Ll=fo("ZodCIDRv6",(e,t)=>{yu.init(e,t),Ol.init(e,t)}),Dl=fo("ZodBase64",(e,t)=>{bu.init(e,t),Ol.init(e,t)}),Fl=fo("ZodBase64URL",(e,t)=>{wu.init(e,t),Ol.init(e,t)}),Ul=fo("ZodE164",(e,t)=>{ku.init(e,t),Ol.init(e,t)}),Bl=fo("ZodJWT",(e,t)=>{xu.init(e,t),Ol.init(e,t)}),Hl=fo("ZodNumber",(e,t)=>{Ou.init(e,t),bl.init(e,t),e.gt=(t,n)=>e.check(ul(t,n)),e.gte=(t,n)=>e.check(ll(t,n)),e.min=(t,n)=>e.check(ll(t,n)),e.lt=(t,n)=>e.check(sl(t,n)),e.lte=(t,n)=>e.check(cl(t,n)),e.max=(t,n)=>e.check(cl(t,n)),e.int=t=>e.check(Kl(t)),e.safe=t=>e.check(Kl(t)),e.positive=t=>e.check(ul(0,t)),e.nonnegative=t=>e.check(ll(0,t)),e.negative=t=>e.check(sl(0,t)),e.nonpositive=t=>e.check(cl(0,t)),e.multipleOf=(t,n)=>e.check(dl(t,n)),e.step=(t,n)=>e.check(dl(t,n)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Vl(e){return function(e,t){return new e({type:"number",checks:[],...no(t)})}(Hl,e)}const Wl=fo("ZodNumberFormat",(e,t)=>{Su.init(e,t),Hl.init(e,t)});function Kl(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...no(t)})}(Wl,e)}const ql=fo("ZodBoolean",(e,t)=>{Eu.init(e,t),bl.init(e,t)});function Jl(e){return function(e,t){return new e({type:"boolean",...no(t)})}(ql,e)}const Yl=fo("ZodNull",(e,t)=>{Tu.init(e,t),bl.init(e,t)});function Gl(e){return function(e,t){return new e({type:"null",...no(t)})}(Yl,e)}const Xl=fo("ZodUnknown",(e,t)=>{Cu.init(e,t),bl.init(e,t)});function Ql(){return new Xl({type:"unknown"})}const ed=fo("ZodNever",(e,t)=>{ju.init(e,t),bl.init(e,t)});function td(e){return function(e,t){return new e({type:"never",...no(t)})}(ed,e)}const nd=fo("ZodArray",(e,t)=>{Pu.init(e,t),bl.init(e,t),e.element=t.element,e.min=(t,n)=>e.check(fl(t,n)),e.nonempty=t=>e.check(fl(1,t)),e.max=(t,n)=>e.check(pl(t,n)),e.length=(t,n)=>e.check(hl(t,n)),e.unwrap=()=>e.element});function rd(e,t){return function(e,t,n){return new e({type:"array",element:t,...no(n)})}(nd,e,t)}const ad=fo("ZodObject",(e,t)=>{zu.init(e,t),bl.init(e,t),Wa(e,"shape",()=>t.shape),e.keyof=()=>hd(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Ql()}),e.loose=()=>e.clone({...e._zod.def,catchall:Ql()}),e.strict=()=>e.clone({...e._zod.def,catchall:td()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>function(e,t){if(!Xa(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return Ka(this,"shape",n),n},checks:[]};return to(e,n)}(e,t),e.merge=t=>function(e,t){return to(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Ka(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}(e,t),e.pick=t=>function(e,t){const n={},r=e._zod.def;for(const e in t){if(!(e in r.shape))throw new Error(`Unrecognized key: "${e}"`);t[e]&&(n[e]=r.shape[e])}return to(e,{...e._zod.def,shape:n,checks:[]})}(e,t),e.omit=t=>function(e,t){const n={...e._zod.def.shape},r=e._zod.def;for(const e in t){if(!(e in r.shape))throw new Error(`Unrecognized key: "${e}"`);t[e]&&delete n[e]}return to(e,{...e._zod.def,shape:n,checks:[]})}(e,t),e.partial=(...t)=>function(e,t,n){const r=t._zod.def.shape,a={...r};if(n)for(const t in n){if(!(t in r))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(a[t]=e?new e({type:"optional",innerType:r[t]}):r[t])}else for(const t in r)a[t]=e?new e({type:"optional",innerType:r[t]}):r[t];return to(t,{...t._zod.def,shape:a,checks:[]})}(yd,e,t[0]),e.required=(...t)=>function(e,t,n){const r=t._zod.def.shape,a={...r};if(n)for(const t in n){if(!(t in a))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(a[t]=new e({type:"nonoptional",innerType:r[t]}))}else for(const t in r)a[t]=new e({type:"nonoptional",innerType:r[t]});return to(t,{...t._zod.def,shape:a,checks:[]})}(Od,e,t[0])});function od(e,t){const n={type:"object",get shape(){return Ka(this,"shape",{...e}),this.shape},...no(t)};return new ad(n)}function id(e,t){return new ad({type:"object",get shape(){return Ka(this,"shape",{...e}),this.shape},catchall:td(),...no(t)})}const sd=fo("ZodUnion",(e,t)=>{Mu.init(e,t),bl.init(e,t),e.options=t.options});function cd(e,t){return new sd({type:"union",options:e,...no(t)})}const ud=fo("ZodDiscriminatedUnion",(e,t)=>{sd.init(e,t),$u.init(e,t)}),ld=fo("ZodIntersection",(e,t)=>{Zu.init(e,t),bl.init(e,t)}),dd=fo("ZodRecord",(e,t)=>{Fu.init(e,t),bl.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function pd(e,t,n){return new dd({type:"record",keyType:e,valueType:t,...no(n)})}const fd=fo("ZodEnum",(e,t)=>{Uu.init(e,t),bl.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{const a={};for(const r of e){if(!n.has(r))throw new Error(`Key ${r} not found in enum`);a[r]=t.entries[r]}return new fd({...t,checks:[],...no(r),entries:a})},e.exclude=(e,r)=>{const a={...t.entries};for(const t of e){if(!n.has(t))throw new Error(`Key ${t} not found in enum`);delete a[t]}return new fd({...t,checks:[],...no(r),entries:a})}});function hd(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e;return new fd({type:"enum",entries:n,...no(t)})}const md=fo("ZodLiteral",(e,t)=>{Bu.init(e,t),bl.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function vd(e,t){return new md({type:"literal",values:Array.isArray(e)?e:[e],...no(t)})}const gd=fo("ZodTransform",(e,t)=>{Hu.init(e,t),bl.init(e,t),e._zod.parse=(n,r)=>{n.addIssue=r=>{if("string"==typeof r)n.issues.push(uo(r,n.value,t));else{const t=r;t.fatal&&(t.continue=!1),t.code??(t.code="custom"),t.input??(t.input=n.value),t.inst??(t.inst=e),t.continue??(t.continue=!0),n.issues.push(uo(t))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then(e=>(n.value=e,n)):(n.value=a,n)}});const yd=fo("ZodOptional",(e,t)=>{Vu.init(e,t),bl.init(e,t),e.unwrap=()=>e._zod.def.innerType});function _d(e){return new yd({type:"optional",innerType:e})}const bd=fo("ZodNullable",(e,t)=>{Wu.init(e,t),bl.init(e,t),e.unwrap=()=>e._zod.def.innerType});function wd(e){return new bd({type:"nullable",innerType:e})}const kd=fo("ZodDefault",(e,t)=>{Ku.init(e,t),bl.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap}),xd=fo("ZodPrefault",(e,t)=>{Ju.init(e,t),bl.init(e,t),e.unwrap=()=>e._zod.def.innerType}),Od=fo("ZodNonOptional",(e,t)=>{Yu.init(e,t),bl.init(e,t),e.unwrap=()=>e._zod.def.innerType}),Sd=fo("ZodCatch",(e,t)=>{Xu.init(e,t),bl.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap}),Ed=fo("ZodPipe",(e,t)=>{Qu.init(e,t),bl.init(e,t),e.in=t.in,e.out=t.out});function Td(e,t){return new Ed({type:"pipe",in:e,out:t})}const Cd=fo("ZodReadonly",(e,t)=>{tl.init(e,t),bl.init(e,t)}),jd=fo("ZodLazy",(e,t)=>{rl.init(e,t),bl.init(e,t),e.unwrap=()=>e._zod.def.getter()});const Id=fo("ZodCustom",(e,t)=>{al.init(e,t),bl.init(e,t)});function Pd(e,t){return function(e,t,n){const r=no(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}(Id,e??(()=>!0),t)}function Nd(e,t={error:`Input not instance of ${e.name}`}){const n=new Id({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...no(t)});return n._zod.bag.Class=e,n}var Ad,zd=Object.defineProperty,Rd=(Symbol.for("vercel.ai.error.AI_NoOutputSpecifiedError"),Symbol.for("vercel.ai.error.AI_InvalidArgumentError"),Symbol.for("vercel.ai.error.AI_InvalidStreamPartError"),Symbol.for("vercel.ai.error.AI_InvalidToolInputError"),Symbol.for("vercel.ai.error.AI_NoImageGeneratedError"),"AI_NoObjectGeneratedError"),Md=`vercel.ai.error.${Rd}`,$d=Symbol.for(Md),Zd=class extends ya{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:a,finishReason:o}){super({name:Rd,message:e,cause:t}),this[Ad]=!0,this.text=n,this.response=r,this.usage=a,this.finishReason=o}static isInstance(e){return ya.hasMarker(e,Md)}};Ad=$d;Symbol.for("vercel.ai.error.AI_NoOutputGeneratedError"),Symbol.for("vercel.ai.error.AI_NoSuchToolError"),Symbol.for("vercel.ai.error.AI_ToolCallRepairError"),Symbol.for("vercel.ai.error.AI_InvalidDataContentError"),Symbol.for("vercel.ai.error.AI_InvalidMessageRoleError"),Symbol.for("vercel.ai.error.AI_MessageConversionError"),Symbol.for("vercel.ai.error.AI_DownloadError"),Symbol.for("vercel.ai.error.AI_RetryError");var Ld="5.0.87",Dd=cd([xl(),Nd(Uint8Array),Nd(ArrayBuffer),Pd(e=>{var t,n;return null!=(n=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&n},{message:"Must be a Buffer"})]),Fd=new jd({type:"lazy",getter:()=>cd([Gl(),xl(),Vl(),Jl(),pd(xl(),Fd),rd(Fd)])}),Ud=pd(xl(),pd(xl(),Fd)),Bd=od({type:vd("text"),text:xl(),providerOptions:Ud.optional()}),Hd=od({type:vd("image"),image:cd([Dd,Nd(URL)]),mediaType:xl().optional(),providerOptions:Ud.optional()}),Vd=od({type:vd("file"),data:cd([Dd,Nd(URL)]),filename:xl().optional(),mediaType:xl(),providerOptions:Ud.optional()}),Wd=od({type:vd("reasoning"),text:xl(),providerOptions:Ud.optional()}),Kd=od({type:vd("tool-call"),toolCallId:xl(),toolName:xl(),input:Ql(),providerOptions:Ud.optional(),providerExecuted:Jl().optional()}),qd=new ud({type:"union",options:[od({type:vd("text"),value:xl()}),od({type:vd("json"),value:Fd}),od({type:vd("error-text"),value:xl()}),od({type:vd("error-json"),value:Fd}),od({type:vd("content"),value:rd(cd([od({type:vd("text"),text:xl()}),od({type:vd("media"),data:xl(),mediaType:xl()})]))})],discriminator:"type",...no(undefined)}),Jd=od({type:vd("tool-result"),toolCallId:xl(),toolName:xl(),output:qd,providerOptions:Ud.optional()}),Yd=od({role:vd("system"),content:xl(),providerOptions:Ud.optional()}),Gd=od({role:vd("user"),content:cd([xl(),rd(cd([Bd,Hd,Vd]))]),providerOptions:Ud.optional()}),Xd=od({role:vd("assistant"),content:cd([xl(),rd(cd([Bd,Vd,Wd,Kd,Jd]))]),providerOptions:Ud.optional()});cd([Yd,Gd,Xd,od({role:vd("tool"),content:rd(Jd),providerOptions:Ud.optional()})]),cs({prefix:"aitxt",size:24}),TransformStream;var Qd=gs(()=>ec(cd([id({type:vd("text-start"),id:xl(),providerMetadata:Ud.optional()}),id({type:vd("text-delta"),id:xl(),delta:xl(),providerMetadata:Ud.optional()}),id({type:vd("text-end"),id:xl(),providerMetadata:Ud.optional()}),id({type:vd("error"),errorText:xl()}),id({type:vd("tool-input-start"),toolCallId:xl(),toolName:xl(),providerExecuted:Jl().optional(),dynamic:Jl().optional()}),id({type:vd("tool-input-delta"),toolCallId:xl(),inputTextDelta:xl()}),id({type:vd("tool-input-available"),toolCallId:xl(),toolName:xl(),input:Ql(),providerExecuted:Jl().optional(),providerMetadata:Ud.optional(),dynamic:Jl().optional()}),id({type:vd("tool-input-error"),toolCallId:xl(),toolName:xl(),input:Ql(),providerExecuted:Jl().optional(),providerMetadata:Ud.optional(),dynamic:Jl().optional(),errorText:xl()}),id({type:vd("tool-output-available"),toolCallId:xl(),output:Ql(),providerExecuted:Jl().optional(),dynamic:Jl().optional(),preliminary:Jl().optional()}),id({type:vd("tool-output-error"),toolCallId:xl(),errorText:xl(),providerExecuted:Jl().optional(),dynamic:Jl().optional()}),id({type:vd("reasoning-start"),id:xl(),providerMetadata:Ud.optional()}),id({type:vd("reasoning-delta"),id:xl(),delta:xl(),providerMetadata:Ud.optional()}),id({type:vd("reasoning-end"),id:xl(),providerMetadata:Ud.optional()}),id({type:vd("source-url"),sourceId:xl(),url:xl(),title:xl().optional(),providerMetadata:Ud.optional()}),id({type:vd("source-document"),sourceId:xl(),mediaType:xl(),title:xl(),filename:xl().optional(),providerMetadata:Ud.optional()}),id({type:vd("file"),url:xl(),mediaType:xl(),providerMetadata:Ud.optional()}),id({type:Pd(e=>"string"==typeof e&&e.startsWith("data-"),{message:'Type must start with "data-"'}),id:xl().optional(),data:Ql(),transient:Jl().optional()}),id({type:vd("start-step")}),id({type:vd("finish-step")}),id({type:vd("start"),messageId:xl().optional(),messageMetadata:Ql().optional()}),id({type:vd("finish"),messageMetadata:Ql().optional()}),id({type:vd("abort")}),id({type:vd("message-metadata"),messageMetadata:Ql()})])));function ep(e,t){if(void 0===e&&void 0===t)return;if(void 0===e)return t;if(void 0===t)return e;const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const a=t[r];if(void 0===a)continue;const o=r in e?e[r]:void 0,i=!(null===a||"object"!=typeof a||Array.isArray(a)||a instanceof Date||a instanceof RegExp),s=!(null==o||"object"!=typeof o||Array.isArray(o)||o instanceof Date||o instanceof RegExp);n[r]=i&&s?ep(o,a):a}return n}function tp(e){const t=["ROOT"];let n=-1,r=null;function a(e,a,o){switch(e){case'"':n=a,t.pop(),t.push(o),t.push("INSIDE_STRING");break;case"f":case"t":case"n":n=a,r=a,t.pop(),t.push(o),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(o),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=a,t.pop(),t.push(o),t.push("INSIDE_NUMBER");break;case"{":n=a,t.pop(),t.push(o),t.push("INSIDE_OBJECT_START");break;case"[":n=a,t.pop(),t.push(o),t.push("INSIDE_ARRAY_START")}}function o(e,r){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":n=r,t.pop()}}function i(e,r){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=r,t.pop()}}for(let s=0;s<e.length;s++){const c=e[s];switch(t[t.length-1]){case"ROOT":a(c,s,"FINISH");break;case"INSIDE_OBJECT_START":switch(c){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":n=s,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===c&&(t.pop(),t.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":'"'===c&&(t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":":"===c&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":a(c,s,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":o(c,s);break;case"INSIDE_STRING":switch(c){case'"':t.pop(),n=s;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:n=s}break;case"INSIDE_ARRAY_START":"]"===c?(n=s,t.pop()):(n=s,a(c,s,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(c){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=s,t.pop();break;default:n=s}break;case"INSIDE_ARRAY_AFTER_COMMA":a(c,s,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),n=s;break;case"INSIDE_NUMBER":switch(c){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=s;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(c,s),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&o(c,s);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&o(c,s);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(c,s);break;default:t.pop()}break;case"INSIDE_LITERAL":{const a=e.substring(r,s+1);"false".startsWith(a)||"true".startsWith(a)||"null".startsWith(a)?n=s:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?o(c,s):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(c,s));break}}}let s=e.slice(0,n+1);for(let n=t.length-1;n>=0;n--)switch(t[n]){case"INSIDE_STRING":s+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":s+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":s+="]";break;case"INSIDE_LITERAL":{const t=e.substring(r,e.length);"true".startsWith(t)?s+="true".slice(t.length):"false".startsWith(t)?s+="false".slice(t.length):"null".startsWith(t)&&(s+="null".slice(t.length))}}return s}async function np(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=await bs({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await bs({text:tp(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}function rp(e){return e.type.startsWith("tool-")}function ap(e){return rp(e)||function(e){return"dynamic-tool"===e.type}(e)}function op(e){return e.type.split("-").slice(1).join("-")}function ip({lastMessage:e,messageId:t}){return{message:"assistant"===(null==e?void 0:e.role)?e:{id:t,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function sp({stream:e,messageMetadataSchema:t,dataPartSchemas:n,runUpdateMessageJob:r,onError:a,onToolCall:o,onData:i}){return e.pipeThrough(new TransformStream({async transform(e,s){await r(async({state:r,write:c})=>{var u,l,d,p;function f(e){const t=r.message.parts.filter(rp).find(t=>t.toolCallId===e);if(null==t)throw new Error("tool-output-error must be preceded by a tool-input-available");return t}function h(e){const t=r.message.parts.filter(e=>"dynamic-tool"===e.type).find(t=>t.toolCallId===e);if(null==t)throw new Error("tool-output-error must be preceded by a tool-input-available");return t}function m(e){var t;const n=r.message.parts.find(t=>rp(t)&&t.toolCallId===e.toolCallId),a=e,o=n;null!=n?(n.state=e.state,o.input=a.input,o.output=a.output,o.errorText=a.errorText,o.rawInput=a.rawInput,o.preliminary=a.preliminary,o.providerExecuted=null!=(t=a.providerExecuted)?t:n.providerExecuted,null!=a.providerMetadata&&"input-available"===n.state&&(n.callProviderMetadata=a.providerMetadata)):r.message.parts.push({type:`tool-${e.toolName}`,toolCallId:e.toolCallId,state:e.state,input:a.input,output:a.output,rawInput:a.rawInput,errorText:a.errorText,providerExecuted:a.providerExecuted,preliminary:a.preliminary,...null!=a.providerMetadata?{callProviderMetadata:a.providerMetadata}:{}})}function v(e){var t,n;const a=r.message.parts.find(t=>"dynamic-tool"===t.type&&t.toolCallId===e.toolCallId),o=e,i=a;null!=a?(a.state=e.state,i.toolName=e.toolName,i.input=o.input,i.output=o.output,i.errorText=o.errorText,i.rawInput=null!=(t=o.rawInput)?t:i.rawInput,i.preliminary=o.preliminary,i.providerExecuted=null!=(n=o.providerExecuted)?n:a.providerExecuted,null!=o.providerMetadata&&"input-available"===a.state&&(a.callProviderMetadata=o.providerMetadata)):r.message.parts.push({type:"dynamic-tool",toolName:e.toolName,toolCallId:e.toolCallId,state:e.state,input:o.input,output:o.output,errorText:o.errorText,preliminary:o.preliminary,providerExecuted:o.providerExecuted,...null!=o.providerMetadata?{callProviderMetadata:o.providerMetadata}:{}})}async function g(e){if(null!=e){const n=null!=r.message.metadata?ep(r.message.metadata,e):e;null!=t&&await ys({value:n,schema:t}),r.message.metadata=n}}switch(e.type){case"text-start":{const t={type:"text",text:"",providerMetadata:e.providerMetadata,state:"streaming"};r.activeTextParts[e.id]=t,r.message.parts.push(t),c();break}case"text-delta":{const t=r.activeTextParts[e.id];t.text+=e.delta,t.providerMetadata=null!=(u=e.providerMetadata)?u:t.providerMetadata,c();break}case"text-end":{const t=r.activeTextParts[e.id];t.state="done",t.providerMetadata=null!=(l=e.providerMetadata)?l:t.providerMetadata,delete r.activeTextParts[e.id],c();break}case"reasoning-start":{const t={type:"reasoning",text:"",providerMetadata:e.providerMetadata,state:"streaming"};r.activeReasoningParts[e.id]=t,r.message.parts.push(t),c();break}case"reasoning-delta":{const t=r.activeReasoningParts[e.id];t.text+=e.delta,t.providerMetadata=null!=(d=e.providerMetadata)?d:t.providerMetadata,c();break}case"reasoning-end":{const t=r.activeReasoningParts[e.id];t.providerMetadata=null!=(p=e.providerMetadata)?p:t.providerMetadata,t.state="done",delete r.activeReasoningParts[e.id],c();break}case"file":r.message.parts.push({type:"file",mediaType:e.mediaType,url:e.url}),c();break;case"source-url":r.message.parts.push({type:"source-url",sourceId:e.sourceId,url:e.url,title:e.title,providerMetadata:e.providerMetadata}),c();break;case"source-document":r.message.parts.push({type:"source-document",sourceId:e.sourceId,mediaType:e.mediaType,title:e.title,filename:e.filename,providerMetadata:e.providerMetadata}),c();break;case"tool-input-start":{const t=r.message.parts.filter(rp);r.partialToolCalls[e.toolCallId]={text:"",toolName:e.toolName,index:t.length,dynamic:e.dynamic},e.dynamic?v({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-streaming",input:void 0,providerExecuted:e.providerExecuted}):m({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-streaming",input:void 0,providerExecuted:e.providerExecuted}),c();break}case"tool-input-delta":{const t=r.partialToolCalls[e.toolCallId];t.text+=e.inputTextDelta;const{value:n}=await np(t.text);t.dynamic?v({toolCallId:e.toolCallId,toolName:t.toolName,state:"input-streaming",input:n}):m({toolCallId:e.toolCallId,toolName:t.toolName,state:"input-streaming",input:n}),c();break}case"tool-input-available":e.dynamic?v({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-available",input:e.input,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}):m({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-available",input:e.input,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}),c(),o&&!e.providerExecuted&&await o({toolCall:e});break;case"tool-input-error":e.dynamic?v({toolCallId:e.toolCallId,toolName:e.toolName,state:"output-error",input:e.input,errorText:e.errorText,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}):m({toolCallId:e.toolCallId,toolName:e.toolName,state:"output-error",input:void 0,rawInput:e.input,errorText:e.errorText,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}),c();break;case"tool-output-available":if(e.dynamic){const t=h(e.toolCallId);v({toolCallId:e.toolCallId,toolName:t.toolName,state:"output-available",input:t.input,output:e.output,preliminary:e.preliminary})}else{const t=f(e.toolCallId);m({toolCallId:e.toolCallId,toolName:op(t),state:"output-available",input:t.input,output:e.output,providerExecuted:e.providerExecuted,preliminary:e.preliminary})}c();break;case"tool-output-error":if(e.dynamic){const t=h(e.toolCallId);v({toolCallId:e.toolCallId,toolName:t.toolName,state:"output-error",input:t.input,errorText:e.errorText,providerExecuted:e.providerExecuted})}else{const t=f(e.toolCallId);m({toolCallId:e.toolCallId,toolName:op(t),state:"output-error",input:t.input,rawInput:t.rawInput,errorText:e.errorText,providerExecuted:e.providerExecuted})}c();break;case"start-step":r.message.parts.push({type:"step-start"});break;case"finish-step":r.activeTextParts={},r.activeReasoningParts={};break;case"start":null!=e.messageId&&(r.message.id=e.messageId),await g(e.messageMetadata),null==e.messageId&&null==e.messageMetadata||c();break;case"finish":case"message-metadata":await g(e.messageMetadata),null!=e.messageMetadata&&c();break;case"error":null==a||a(new Error(e.errorText));break;default:if(function(e){return e.type.startsWith("data-")}(e)){null!=(null==n?void 0:n[e.type])&&await ys({value:e.data,schema:n[e.type]});const t=e;if(t.transient){null==i||i(t);break}const a=null!=t.id?r.message.parts.find(e=>t.type===e.type&&t.id===e.id):void 0;null!=a?a.data=t.data:r.message.parts.push(t),null==i||i(t),c()}}s.enqueue(e)})}}))}cs({prefix:"aitxt",size:24}),cs({prefix:"aiobj",size:24});var cp=class{constructor(){this.queue=[],this.isProcessing=!1}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(e){return new Promise((t,n)=>{this.queue.push(async()=>{try{await e(),t()}catch(e){n(e)}}),this.processQueue()})}};cs({prefix:"aiobj",size:24}),((e,t)=>{for(var n in t)zd(e,n,{get:t[n],enumerable:!0})})({},{object:()=>lp,text:()=>up});var up=()=>({type:"text",responseFormat:{type:"text"},parsePartial:async({text:e})=>({partial:e}),parseOutput:async({text:e})=>e}),lp=({schema:e})=>{const t=function(e){return null==e?nc({properties:{},additionalProperties:!1}):"object"==typeof(t=e)&&null!==t&&tc in t&&!0===t[tc]&&"jsonSchema"in t&&"validate"in t?e:"function"==typeof e?e():ec(e);var t}(e);return{type:"object",responseFormat:{type:"json",schema:t.jsonSchema},async parsePartial({text:e}){const t=await np(e);switch(t.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:t.value};default:{const e=t.state;throw new Error(`Unsupported parse state: ${e}`)}}},async parseOutput({text:e},n){const r=await bs({text:e});if(!r.success)throw new Zd({message:"No object generated: could not parse the response.",cause:r.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});const a=await _s({value:r.value,schema:t});if(!a.success)throw new Zd({message:"No object generated: response did not match schema.",cause:a.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});return a.value}}},dp=(Symbol.for("vercel.ai.error.AI_NoSuchProviderError"),class{constructor({api:e="/api/chat",credentials:t,headers:n,body:r,fetch:a,prepareSendMessagesRequest:o,prepareReconnectToStreamRequest:i}){this.api=e,this.credentials=t,this.headers=n,this.body=r,this.fetch=a,this.prepareSendMessagesRequest=o,this.prepareReconnectToStreamRequest=i}async sendMessages({abortSignal:e,...t}){var n,r,a,o,i;const s=await ws(this.body),c=await ws(this.headers),u=await ws(this.credentials),l={...ds(c),...ds(t.headers)},d=await(null==(n=this.prepareSendMessagesRequest)?void 0:n.call(this,{api:this.api,id:t.chatId,messages:t.messages,body:{...s,...t.body},headers:l,credentials:u,requestMetadata:t.metadata,trigger:t.trigger,messageId:t.messageId})),p=null!=(r=null==d?void 0:d.api)?r:this.api,f=void 0!==(null==d?void 0:d.headers)?ds(d.headers):l,h=void 0!==(null==d?void 0:d.body)?d.body:{...s,...t.body,id:t.chatId,messages:t.messages,trigger:t.trigger,messageId:t.messageId},m=null!=(a=null==d?void 0:d.credentials)?a:u,v=null!=(o=this.fetch)?o:globalThis.fetch,g=await v(p,{method:"POST",headers:ps({"Content-Type":"application/json",...f},`ai-sdk/${Ld}`,ls()),body:JSON.stringify(h),credentials:m,signal:e});if(!g.ok)throw new Error(null!=(i=await g.text())?i:"Failed to fetch the chat response.");if(!g.body)throw new Error("The response body is empty.");return this.processResponseStream(g.body)}async reconnectToStream(e){var t,n,r,a,o;const i=await ws(this.body),s=await ws(this.headers),c=await ws(this.credentials),u={...ds(s),...ds(e.headers)},l=await(null==(t=this.prepareReconnectToStreamRequest)?void 0:t.call(this,{api:this.api,id:e.chatId,body:{...i,...e.body},headers:u,credentials:c,requestMetadata:e.metadata})),d=null!=(n=null==l?void 0:l.api)?n:`${this.api}/${e.chatId}/stream`,p=void 0!==(null==l?void 0:l.headers)?ds(l.headers):u,f=null!=(r=null==l?void 0:l.credentials)?r:c,h=null!=(a=this.fetch)?a:globalThis.fetch,m=await h(d,{method:"GET",headers:ps(p,`ai-sdk/${Ld}`,ls()),credentials:f});if(204===m.status)return null;if(!m.ok)throw new Error(null!=(o=await m.text())?o:"Failed to fetch the chat response.");if(!m.body)throw new Error("The response body is empty.");return this.processResponseStream(m.body)}}),pp=class extends dp{constructor(e={}){super(e)}processResponseStream(e){return function({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new $a).pipeThrough(new TransformStream({async transform({data:e},n){"[DONE]"!==e&&n.enqueue(await bs({text:e,schema:t}))}}))}({stream:e,schema:Qd}).pipeThrough(new TransformStream({async transform(e,t){if(!e.success)throw e.error;t.enqueue(e.value)}}))}},fp=class{constructor({generateId:e=us,id:t=e(),transport:n=new pp,messageMetadataSchema:r,dataPartSchemas:a,state:o,onError:i,onToolCall:s,onFinish:c,onData:u,sendAutomaticallyWhen:l}){this.activeResponse=void 0,this.jobExecutor=new cp,this.sendMessage=async(e,t)=>{var n,r,a,o;if(null==e)return void await this.makeRequest({trigger:"submit-message",messageId:null==(n=this.lastMessage)?void 0:n.id,...t});let i;if("text"in e||"files"in e){const t=Array.isArray(e.files)?e.files:await async function(e){if(null==e)return[];if(!(globalThis.FileList&&e instanceof globalThis.FileList))throw new Error("FileList is not supported in the current environment");return Promise.all(Array.from(e).map(async e=>{const{name:t,type:n}=e;return{type:"file",mediaType:n,filename:t,url:await new Promise((t,n)=>{const r=new FileReader;r.onload=e=>{var n;t(null==(n=e.target)?void 0:n.result)},r.onerror=e=>n(e),r.readAsDataURL(e)})}}))}(e.files);i={parts:[...t,..."text"in e&&null!=e.text?[{type:"text",text:e.text}]:[]]}}else i=e;if(null!=e.messageId){const t=this.state.messages.findIndex(t=>t.id===e.messageId);if(-1===t)throw new Error(`message with id ${e.messageId} not found`);if("user"!==this.state.messages[t].role)throw new Error(`message with id ${e.messageId} is not a user message`);this.state.messages=this.state.messages.slice(0,t+1),this.state.replaceMessage(t,{...i,id:e.messageId,role:null!=(r=i.role)?r:"user",metadata:e.metadata})}else this.state.pushMessage({...i,id:null!=(a=i.id)?a:this.generateId(),role:null!=(o=i.role)?o:"user",metadata:e.metadata});await this.makeRequest({trigger:"submit-message",messageId:e.messageId,...t})},this.regenerate=async({messageId:e,...t}={})=>{const n=null==e?this.state.messages.length-1:this.state.messages.findIndex(t=>t.id===e);if(-1===n)throw new Error(`message ${e} not found`);this.state.messages=this.state.messages.slice(0,"assistant"===this.messages[n].role?n:n+1),await this.makeRequest({trigger:"regenerate-message",messageId:e,...t})},this.resumeStream=async(e={})=>{await this.makeRequest({trigger:"resume-stream",...e})},this.clearError=()=>{"error"===this.status&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolResult=async({state:e="output-available",tool:t,toolCallId:n,output:r,errorText:a})=>this.jobExecutor.run(async()=>{var t,o;const i=this.state.messages,s=i[i.length-1];this.state.replaceMessage(i.length-1,{...s,parts:s.parts.map(t=>ap(t)&&t.toolCallId===n?{...t,state:e,output:r,errorText:a}:t)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(t=>ap(t)&&t.toolCallId===n?{...t,state:e,output:r,errorText:a}:t)),"streaming"!==this.status&&"submitted"!==this.status&&(null==(t=this.sendAutomaticallyWhen)?void 0:t.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:null==(o=this.lastMessage)?void 0:o.id})}),this.stop=async()=>{var e;"streaming"!==this.status&&"submitted"!==this.status||(null==(e=this.activeResponse)?void 0:e.abortController)&&this.activeResponse.abortController.abort()},this.id=t,this.transport=n,this.generateId=e,this.messageMetadataSchema=r,this.dataPartSchemas=a,this.state=o,this.onError=i,this.onToolCall=s,this.onFinish=c,this.onData=u,this.sendAutomaticallyWhen=l}get status(){return this.state.status}setStatus({status:e,error:t}){this.status!==e&&(this.state.status=e,this.state.error=t)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(e){this.state.messages=e}async makeRequest({trigger:e,metadata:t,headers:n,body:r,messageId:a}){var o,i,s;this.setStatus({status:"submitted",error:void 0});const c=this.lastMessage;let u=!1,l=!1,d=!1;try{const o={state:ip({lastMessage:this.state.snapshot(c),messageId:this.generateId()}),abortController:new AbortController};let i;if(o.abortController.signal.addEventListener("abort",()=>{u=!0}),this.activeResponse=o,"resume-stream"===e){const e=await this.transport.reconnectToStream({chatId:this.id,metadata:t,headers:n,body:r});if(null==e)return void this.setStatus({status:"ready"});i=e}else i=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:o.abortController.signal,metadata:t,headers:n,body:r,trigger:e,messageId:a});const s=e=>this.jobExecutor.run(()=>e({state:o.state,write:()=>{var e;this.setStatus({status:"streaming"}),o.state.message.id===(null==(e=this.lastMessage)?void 0:e.id)?this.state.replaceMessage(this.state.messages.length-1,o.state.message):this.state.pushMessage(o.state.message)}}));await async function({stream:e,onError:t}){const n=e.getReader();try{for(;;){const{done:e}=await n.read();if(e)break}}catch(e){null==t||t(e)}finally{n.releaseLock()}}({stream:sp({stream:i,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob:s,onError:e=>{throw e}}),onError:e=>{throw e}}),this.setStatus({status:"ready"})}catch(e){if(u||"AbortError"===e.name)return u=!0,this.setStatus({status:"ready"}),null;d=!0,e instanceof TypeError&&(e.message.toLowerCase().includes("fetch")||e.message.toLowerCase().includes("network"))&&(l=!0),this.onError&&e instanceof Error&&this.onError(e),this.setStatus({status:"error",error:e})}finally{try{null==(o=this.onFinish)||o.call(this,{message:this.activeResponse.state.message,messages:this.state.messages,isAbort:u,isDisconnect:l,isError:d})}catch(e){console.error(e)}this.activeResponse=void 0}(null==(i=this.sendAutomaticallyWhen)?void 0:i.call(this,{messages:this.state.messages}))&&!d&&await this.makeRequest({trigger:"submit-message",messageId:null==(s=this.lastMessage)?void 0:s.id,metadata:t,headers:n,body:r})}};function hp({messages:e}){const t=e[e.length-1];if(!t)return!1;if("assistant"!==t.role)return!1;const n=t.parts.reduce((e,t,n)=>"step-start"===t.type?n:e,-1),r=t.parts.slice(n+1).filter(ap).filter(e=>!e.providerExecuted);return r.length>0&&r.every(e=>"output-available"===e.state||"output-error"===e.state)}gs(()=>ec(rd(od({id:xl(),role:hd(["system","user","assistant"]),metadata:Ql().optional(),parts:rd(cd([od({type:vd("text"),text:xl(),state:hd(["streaming","done"]).optional(),providerMetadata:Ud.optional()}),od({type:vd("reasoning"),text:xl(),state:hd(["streaming","done"]).optional(),providerMetadata:Ud.optional()}),od({type:vd("source-url"),sourceId:xl(),url:xl(),title:xl().optional(),providerMetadata:Ud.optional()}),od({type:vd("source-document"),sourceId:xl(),mediaType:xl(),title:xl(),filename:xl().optional(),providerMetadata:Ud.optional()}),od({type:vd("file"),mediaType:xl(),filename:xl().optional(),url:xl(),providerMetadata:Ud.optional()}),od({type:vd("step-start")}),od({type:xl().startsWith("data-"),id:xl().optional(),data:Ql()}),od({type:vd("dynamic-tool"),toolName:xl(),toolCallId:xl(),state:vd("input-streaming"),input:Ql().optional(),providerExecuted:Jl().optional(),output:td().optional(),errorText:td().optional()}),od({type:vd("dynamic-tool"),toolName:xl(),toolCallId:xl(),state:vd("input-available"),input:Ql(),providerExecuted:Jl().optional(),output:td().optional(),errorText:td().optional(),callProviderMetadata:Ud.optional()}),od({type:vd("dynamic-tool"),toolName:xl(),toolCallId:xl(),state:vd("output-available"),input:Ql(),providerExecuted:Jl().optional(),output:Ql(),errorText:td().optional(),callProviderMetadata:Ud.optional(),preliminary:Jl().optional()}),od({type:vd("dynamic-tool"),toolName:xl(),toolCallId:xl(),state:vd("output-error"),input:Ql(),providerExecuted:Jl().optional(),output:td().optional(),errorText:xl(),callProviderMetadata:Ud.optional()}),od({type:xl().startsWith("tool-"),toolCallId:xl(),state:vd("input-streaming"),providerExecuted:Jl().optional(),input:Ql().optional(),output:td().optional(),errorText:td().optional(),approval:td().optional()}),od({type:xl().startsWith("tool-"),toolCallId:xl(),state:vd("input-available"),providerExecuted:Jl().optional(),input:Ql(),output:td().optional(),errorText:td().optional(),callProviderMetadata:Ud.optional(),approval:td().optional()}),od({type:xl().startsWith("tool-"),toolCallId:xl(),state:vd("approval-requested"),input:Ql(),providerExecuted:Jl().optional(),output:td().optional(),errorText:td().optional(),callProviderMetadata:Ud.optional(),approval:od({id:xl(),approved:td().optional(),reason:td().optional()})}),od({type:xl().startsWith("tool-"),toolCallId:xl(),state:vd("approval-responded"),input:Ql(),providerExecuted:Jl().optional(),output:td().optional(),errorText:td().optional(),callProviderMetadata:Ud.optional(),approval:od({id:xl(),approved:Jl(),reason:xl().optional()})}),od({type:xl().startsWith("tool-"),toolCallId:xl(),state:vd("output-available"),providerExecuted:Jl().optional(),input:Ql(),output:Ql(),errorText:td().optional(),callProviderMetadata:Ud.optional(),preliminary:Jl().optional(),approval:od({id:xl(),approved:vd(!0),reason:xl().optional()}).optional()}),od({type:xl().startsWith("tool-"),toolCallId:xl(),state:vd("output-error"),providerExecuted:Jl().optional(),input:Ql(),output:td().optional(),errorText:xl(),callProviderMetadata:Ud.optional(),approval:od({id:xl(),approved:vd(!0),reason:xl().optional()}).optional()}),od({type:xl().startsWith("tool-"),toolCallId:xl(),state:vd("output-denied"),providerExecuted:Jl().optional(),input:Ql(),output:td().optional(),errorText:td().optional(),callProviderMetadata:Ud.optional(),approval:od({id:xl(),approved:vd(!1),reason:xl().optional()})})]))}))));var mp=["messages","agentId"];function vp(e){return vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(e)}function gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gp(Object(n),!0).forEach(function(t){Tp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _p(e,t){return _p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_p(e,t)}function bp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wp(e){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wp(e)}function kp(e){return function(e){if(Array.isArray(e))return xp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return xp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xp(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Op(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cp(r.key),r)}}function Ep(e,t,n){return t&&Sp(e.prototype,t),n&&Sp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tp(e,t,n){return(t=Cp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cp(e){var t=function(e){if("object"!=vp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=vp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vp(t)?t:String(t)}var jp="instantsearch-chat-initial-messages-",Ip=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){var t=sessionStorage.getItem(jp+e);return t?JSON.parse(t):[]}(n);Op(this,e),Tp(this,"_messages",void 0),Tp(this,"_status","ready"),Tp(this,"_error",void 0),Tp(this,"_messagesCallbacks",new Set),Tp(this,"_statusCallbacks",new Set),Tp(this,"_errorCallbacks",new Set),Tp(this,"pushMessage",function(e){t._messages=t._messages.concat(e),t._callMessagesCallbacks()}),Tp(this,"popMessage",function(){t._messages=t._messages.slice(0,-1),t._callMessagesCallbacks()}),Tp(this,"replaceMessage",function(e,n){t._messages=[].concat(kp(t._messages.slice(0,e)),[t.snapshot(n)],kp(t._messages.slice(e+1))),t._callMessagesCallbacks()}),Tp(this,"snapshot",function(e){return JSON.parse(JSON.stringify(e))}),Tp(this,"~registerMessagesCallback",function(e){var n=e;return t._messagesCallbacks.add(n),function(){t._messagesCallbacks.delete(n)}}),Tp(this,"~registerStatusCallback",function(e){return t._statusCallbacks.add(e),function(){t._statusCallbacks.delete(e)}}),Tp(this,"~registerErrorCallback",function(e){return t._errorCallbacks.add(e),function(){t._errorCallbacks.delete(e)}}),Tp(this,"_callMessagesCallbacks",function(){t._messagesCallbacks.forEach(function(e){return e()})}),Tp(this,"_callStatusCallbacks",function(){t._statusCallbacks.forEach(function(e){return e()})}),Tp(this,"_callErrorCallbacks",function(){t._errorCallbacks.forEach(function(e){return e()})}),this._messages=r;var a=function(){if("ready"===t.status)try{sessionStorage.setItem(jp+n,JSON.stringify(t.messages))}catch(e){}};this["~registerMessagesCallback"](a),this["~registerStatusCallback"](a)}return Ep(e,[{key:"status",get:function(){return this._status},set:function(e){this._status=e,this._callStatusCallbacks()}},{key:"error",get:function(){return this._error},set:function(e){this._error=e,this._callErrorCallbacks()}},{key:"messages",get:function(){return this._messages},set:function(e){this._messages=kp(e),this._callMessagesCallbacks()}}]),e}(),Pp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_p(e,t)}(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=wp(t);if(n){var a=wp(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===vp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bp(e)}(this,e)});function a(e){var t,n=e.messages,o=e.agentId,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,mp);Op(this,a);var s=new Ip(o,n);return Tp(bp(t=r.call(this,yp(yp({},i),{},{state:s}))),"_state",void 0),Tp(bp(t),"~registerMessagesCallback",function(e){return t._state["~registerMessagesCallback"](e)}),Tp(bp(t),"~registerStatusCallback",function(e){return t._state["~registerStatusCallback"](e)}),Tp(bp(t),"~registerErrorCallback",function(e){return t._state["~registerErrorCallback"](e)}),t._state=s,t}return Ep(a)}(fp);function Np(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(e){return["https://www.algolia.com/doc/api-reference/widgets/",(t=e).name,"/js/",void 0!==(n=t.connector)&&n?"#connector":""].join("");var t,n}).join(", ");return function(e){return[e,"See documentation: ".concat(r)].filter(Boolean).join("\n\n")}}function Ap(){}function zp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zp(Object(n),!0).forEach(function(t){Mp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Mp(e,t,n){return t=function(e){var t=function(e){if("object"!=Zp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Zp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Zp(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zp(e){return Zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(e)}function Lp(e){var t=e.helper,n=e.widgetType,r=(e.methodName,e.args),a=e.instantSearchInstance;if(1===r.length&&"object"===Zp(r[0]))return[r[0]];var o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r[0].split(":"),2),i=o[0],s=o[1],c=r[1],u=r[2],l=r[3]||{};if(!c)return[];if(("click"===i||"conversion"===i)&&!u)return[];var d=Array.isArray(c)?c:[c];if(0===d.length)return[];var p=d[0].__queryID,f=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=[],r=0;r<Math.ceil(e.length/t);r++)n.push(e.slice(r*t,(r+1)*t));return n}(d),h=f.map(function(e){return e.map(function(e){return e.objectID})}),m=f.map(function(e){return e.map(function(e){return e.__position})});return"view"===i?"idle"!==a.status?[]:f.map(function(e,r){var a;return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:i,payload:Rp({eventName:u||"Hits Viewed",index:(null===(a=t.lastResults)||void 0===a?void 0:a.index)||t.state.index,objectIDs:h[r]},l),hits:e,eventModifier:s}}):"click"===i?f.map(function(e,r){var a;return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:i,payload:Rp({eventName:u||"Hit Clicked",index:(null===(a=t.lastResults)||void 0===a?void 0:a.index)||t.state.index,queryID:p,objectIDs:h[r],positions:m[r]},l),hits:e,eventModifier:s}}):"conversion"===i?f.map(function(e,r){var a;return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:i,payload:Rp({eventName:u||"Hit Converted",index:(null===(a=t.lastResults)||void 0===a?void 0:a.index)||t.state.index,queryID:p,objectIDs:h[r]},l),hits:e,eventModifier:s}}):[]}function Dp(e){return Dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(e)}var Fp=["resume","tools"];function Up(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Up(Object(n),!0).forEach(function(t){Hp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Up(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hp(e,t,n){return t=function(e){var t=function(e){if("object"!=Dp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Dp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dp(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wp=Np({name:"chat",connector:!0});const Kp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ap;return function(e,t){if(void 0===e||"function"!=typeof e)throw new Error("The render function is not valid (received type ".concat(function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e),").\n\n").concat(t))}(e,Wp()),function(n){var r,a,o,i,s=n||{},c=s.resume,u=void 0!==c&&c,l=s.tools,d=void 0===l?{}:l,p=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(s,Fp),f="",h=!1,m=function(e){"function"==typeof e&&(e=e(r.messages)),r.messages=e};return{$$type:"ais.chat",init:function(t){var n=this,a=t.instantSearchInstance;r=function(e){var t,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(e){if(e.appId&&e.apiKey)return[e.appId,e.apiKey];if(e.transporter){var t=e.transporter,n=t.headers||t.baseHeaders,r=t.queryParameters||t.baseQueryParameters,a="x-algolia-application-id",o="x-algolia-api-key";return[n[a]||r[a],n[o]||r[o]]}return[e.applicationID,e.apiKey]}(e.client),2),a=n[0],o=n[1];if("transport"in p&&p.transport&&(t=new pp(p.transport)),"agentId"in p&&p.agentId){var i=p.agentId;if(!a||!o)throw new Error(Wp("Could not extract Algolia credentials from the search client."));t=new pp({api:"https://".concat(a,".algolia.net/agent-studio/1/agents/").concat(i,"/completions?compatibilityMode=ai-sdk-5"),headers:{"x-algolia-application-id":a,"x-algolia-api-Key":o}})}if(!t)throw new Error(Wp("You need to provide either an `agentId` or a `transport`."));return"chat"in p?p.chat:new Pp(Bp(Bp({},p),{},{transport:t,sendAutomaticallyWhen:hp,onToolCall:function(e){var t=e.toolCall,n=d[t.toolName];return n?n.onToolCall?n.onToolCall(Bp(Bp({},t),{},{addToolResult:function(e){var n=e.output;return r.addToolResult({output:n,tool:t.toolName,toolCallId:t.toolCallId})}})):Promise.resolve():r.addToolResult({output:'No tool implemented for "'.concat(t.toolName,'".'),tool:t.toolName,toolCallId:t.toolCallId})}}))}(a);var s=function(){e(Bp(Bp({},n.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)};i=function(e){h=e,s()},o=function(e){f=e,s()},r["~registerErrorCallback"](s),r["~registerMessagesCallback"](s),r["~registerStatusCallback"](s),u&&r.resumeStream(),e(Bp(Bp({},this.getWidgetRenderState(t)),{},{instantSearchInstance:a}),!0)},render:function(t){e(Bp(Bp({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e){return e},getWidgetRenderState:function(e){var t=e.instantSearchInstance,s=e.parent;return r||this.init(Bp(Bp({},e),{},{uiState:{},results:void 0})),a||(a=function(e){var t=e.instantSearchInstance,n=e.helper,r=e.widgetType,a={},o=void 0;return function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];Lp({widgetType:r,helper:n,methodName:"sendEvent",args:i,instantSearchInstance:t}).forEach(function(e){"click"===e.eventType&&"internal"===e.eventModifier&&a[e.eventType]||(a[e.eventType]=!0,t.sendEventToInsights(e))}),clearTimeout(o),o=setTimeout(function(){a={}},0)}}({instantSearchInstance:e.instantSearchInstance,helper:e.helper,widgetType:this.$$type})),{indexUiState:t.getUiState()[s.getIndexId()],input:f,open:h,sendEvent:a,setIndexUiState:s.setIndexUiState.bind(s),setInput:o,setOpen:i,setMessages:m,widgetParams:n,addToolResult:r.addToolResult,clearError:r.clearError,error:r.error,id:r.id,messages:r.messages,regenerate:r.regenerate,resumeStream:r.resumeStream,sendMessage:r.sendMessage,status:r.status,stop:r.stop}},dispose:function(){t()},shouldRender:function(){return!0},get chatInstance(){return r}}}};function qp(e){return qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(e)}function Jp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Yp(e,t,n){return t=function(e){var t=function(e){if("object"!=qp(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=qp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qp(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gp(e){return function(e){if(Array.isArray(e))return Xp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Xp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xp(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qp(e){var t=e.defaultTemplates,n=e.templates,r=e.templatesConfig,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})}([].concat(Gp(Object.keys(e||{})),Gp(Object.keys(t))));return n.reduce(function(n,r){var a=e?e[r]:void 0,o=t[r],i=void 0!==o&&o!==a;return n.templates[r]=i?o:a,n.useCustomCompileOptions[r]=i,n},{templates:{},useCustomCompileOptions:{}})}(t,n);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jp(Object(n),!0).forEach(function(t){Yp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({templatesConfig:r},a)}function ef(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var nf,rf,af,of={damping:.7,stiffness:.05,mass:1.25},sf=1e3/60,cf=!1;"undefined"!=typeof window&&(null===(nf=window.document)||void 0===nf||nf.addEventListener("mousedown",function(){cf=!0}),null===(rf=window.document)||void 0===rf||rf.addEventListener("mouseup",function(){cf=!1}),null===(af=window.document)||void 0===af||af.addEventListener("click",function(){cf=!1}));var uf=new Map;function lf(){for(var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tf(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},of),n=!1,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];o.forEach(function(r){var a,o,i;"instant"!==r?"object"===t(r)&&(n=!1,e.damping=null!==(a=r.damping)&&void 0!==a?a:e.damping,e.stiffness=null!==(o=r.stiffness)&&void 0!==o?o:e.stiffness,e.mass=null!==(i=r.mass)&&void 0!==i?i:e.mass):n=!0});var s=JSON.stringify(e);return uf.has(s)||uf.set(s,Object.freeze(e)),n?"instant":uf.get(s)}var df,pf,ff,hf,mf,vf,gf=(df={useCallback:function(e,t){return Tn=8,Ln(function(){return e},t)},useEffect:function(e,t){var n=Mn(xn++,3);!jn.__s&&Vn(n.__H,t)&&(n.__=e,n.u=t,On.__H.__h.push(n))},useMemo:Ln,useRef:Zn,useState:$n},pf=df.useCallback,ff=df.useEffect,hf=df.useMemo,mf=df.useRef,vf=df.useState,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ef(vf(!1),2),n=t[0],r=t[1],a=ef(vf(!1!==e.initial),2),o=a[0],i=a[1],s=ef(vf(!1),2),c=s[0],u=s[1],l=mf(null);l.current=e;var d=mf(null),p=mf(null),f=pf(function(){var e;if(!cf)return!1;if("undefined"==typeof window)return!1;var t=window.getSelection();if(!t||!t.rangeCount)return!1;var n=t.getRangeAt(0);return n.commonAncestorContainer.contains(d.current)||(null===(e=d.current)||void 0===e?void 0:e.contains(n.commonAncestorContainer))},[]),h=hf(function(){var e;return{escapedFromLock:n,isAtBottom:o,resizeDifference:0,accumulated:0,velocity:0,get scrollTop(){var e,t;return null!==(e=null===(t=d.current)||void 0===t?void 0:t.scrollTop)&&void 0!==e?e:0},set scrollTop(e){d.current&&(d.current.scrollTop=e,h.ignoreScrollToTop=d.current.scrollTop)},get targetScrollTop(){return d.current&&p.current?d.current.scrollHeight-1-d.current.clientHeight:0},get calculatedTargetScrollTop(){var t;if(!d.current||!p.current)return 0;var n=this.targetScrollTop;if(!l.current.targetScrollTop)return n;if((null===(t=e)||void 0===t?void 0:t.targetScrollTop)===n)return e.calculatedScrollTop;var r=Math.max(Math.min(l.current.targetScrollTop(n,{scrollElement:d.current,contentElement:p.current}),n),0);return e={targetScrollTop:n,calculatedScrollTop:r},requestAnimationFrame(function(){e=void 0}),r},get scrollDifference(){return this.calculatedTargetScrollTop-this.scrollTop},get isNearBottom(){return this.scrollDifference<=70}}},[]),m=pf(function(e){h.isAtBottom=e,i(e)},[h]),v=pf(function(e){h.escapedFromLock=e,r(e)},[h]),g=pf(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"==typeof t&&(t={animation:t}),t.preserveScrollPosition||m(!0);var n,r,a=Date.now()+(Number(t.wait)||0),o=lf(l.current,t.animation),i=t.ignoreEscapes,s=void 0!==i&&i,c=h.calculatedTargetScrollTop;return t.duration instanceof Promise?t.duration.then(function(){n=Date.now()},function(){n=Date.now()}):n=a+(null!==(r=t.duration)&&void 0!==r?r:0),!0!==t.wait&&(h.animation=void 0),(null===(e=h.animation)||void 0===e?void 0:e.behavior)===o?h.animation.promise:function e(){var t=new Promise(requestAnimationFrame).then(function(){var r;if(!h.isAtBottom)return h.animation=void 0,!1;var i=h.scrollTop,u=performance.now(),d=(u-(null!==(r=h.lastTick)&&void 0!==r?r:u))/sf;if(h.animation||(h.animation={behavior:o,promise:t,ignoreEscapes:s}),h.animation.behavior===o&&(h.lastTick=u),f())return e();if(a>Date.now())return e();if(i<Math.min(c,h.calculatedTargetScrollTop)){var p;if((null===(p=h.animation)||void 0===p?void 0:p.behavior)===o){if("instant"===o)return h.scrollTop=h.calculatedTargetScrollTop,e();h.velocity=(o.damping*h.velocity+o.stiffness*h.scrollDifference)/o.mass,h.accumulated+=h.velocity*d,h.scrollTop+=h.accumulated,h.scrollTop!==i&&(h.accumulated=0)}return e()}return n>Date.now()?(c=h.calculatedTargetScrollTop,e()):(h.animation=void 0,h.scrollTop<h.calculatedTargetScrollTop?g({animation:lf(l.current,l.current.resize),ignoreEscapes:s,duration:Math.max(0,n-Date.now())||void 0}):h.isAtBottom)});return t.then(function(e){return requestAnimationFrame(function(){h.animation||(h.lastTick=void 0,h.velocity=0)}),e})}()},[m,f,h]),y=pf(function(){v(!0),m(!1)},[v,m]),_=pf(function(e){if(e.target===d.current){var t=h.scrollTop,n=h.ignoreScrollToTop,r=h.lastScrollTop,a=void 0===r?t:r;h.lastScrollTop=t,h.ignoreScrollToTop=void 0,n&&n>t&&(a=n),u(h.isNearBottom),setTimeout(function(){var e;if(!h.resizeDifference&&t!==n){if(f())return v(!0),void m(!1);var r=t>a,o=t<a;null!==(e=h.animation)&&void 0!==e&&e.ignoreEscapes?h.scrollTop=a:(o&&(v(!0),m(!1)),r&&v(!1),!h.escapedFromLock&&h.isNearBottom&&m(!0))}},1)}},[v,m,f,h]),b=pf(function(e){for(var t,n=e.target,r=e.deltaY,a=n;!["scroll","auto"].includes(getComputedStyle(a).overflow);){if(!a.parentElement)return;a=a.parentElement}a===d.current&&r<0&&d.current.scrollHeight>d.current.clientHeight&&(null===(t=h.animation)||void 0===t||!t.ignoreEscapes)&&(v(!0),m(!1))},[v,m,h]);return ff(function(){var e=d.current;if(e)return e.addEventListener("scroll",_,{passive:!0}),e.addEventListener("wheel",b,{passive:!0}),function(){e.removeEventListener("scroll",_),e.removeEventListener("wheel",b)}},[_,b]),ff(function(){var e=p.current;if(e){var t,n=new ResizeObserver(function(e){var n,r=ef(e,1)[0].contentRect.height,a=r-(null!==(n=t)&&void 0!==n?n:r);if(h.resizeDifference=a,h.scrollTop>h.targetScrollTop&&(h.scrollTop=h.targetScrollTop),u(h.isNearBottom),a>=0){var o=lf(l.current,t?l.current.resize:l.current.initial);g({animation:o,wait:!0,preserveScrollPosition:!0,duration:"instant"===o?void 0:350})}else h.isNearBottom&&(v(!1),m(!0));t=r,requestAnimationFrame(function(){setTimeout(function(){h.resizeDifference===a&&(h.resizeDifference=0)},1)})});return n.observe(e),h.resizeObserver=n,function(){n.disconnect(),h.resizeObserver=void 0}}},[h,u,v,m,g]),{contentRef:p,scrollRef:d,scrollToBottom:g,stopScroll:y,isAtBottom:o||c,isNearBottom:c,escapedFromLock:n,state:h}});var yf=["listRef","nextButtonRef","previousButtonRef","carouselIdRef","canScrollLeft","canScrollRight","setCanScrollLeft","setCanScrollRight","classNames","itemComponent","previousIconComponent","nextIconComponent","headerComponent","showNavigation","items","translations","sendEvent"];function _f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var bf=0;function wf(e){var t=e.createElement;return t("svg",{width:"8",height:"16",viewBox:"0 0 8 16",fill:"none"},t("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M7.13809 0.744078C7.39844 1.06951 7.39844 1.59715 7.13809 1.92259L2.27616 8L7.13809 14.0774C7.39844 14.4028 7.39844 14.9305 7.13809 15.2559C6.87774 15.5814 6.45563 15.5814 6.19528 15.2559L0.861949 8.58926C0.6016 8.26382 0.6016 7.73618 0.861949 7.41074L6.19528 0.744078C6.45563 0.418641 6.87774 0.418641 7.13809 0.744078Z"}))}function kf(e){var t=e.createElement;return t("svg",{width:"8",height:"16",viewBox:"0 0 8 16",fill:"none"},t("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M0.861908 15.2559C0.601559 14.9305 0.601559 14.4028 0.861908 14.0774L5.72384 8L0.861908 1.92259C0.601559 1.59715 0.601559 1.06952 0.861908 0.744079C1.12226 0.418642 1.54437 0.418642 1.80472 0.744079L7.13805 7.41074C7.3984 7.73618 7.3984 8.26382 7.13805 8.58926L1.80472 15.2559C1.54437 15.5814 1.12226 15.5814 0.861908 15.2559Z"}))}function xf(e){return xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(e)}function Of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Of(Object(n),!0).forEach(function(t){Ef(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Of(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ef(e,t,n){return t=function(e){var t=function(e){if("object"!=xf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=xf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xf(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tf(){return Tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tf.apply(this,arguments)}function Cf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var If=function(t){var n=t.createElement,r=t.Fragment;return function(t){var s=t.listRef,c=t.nextButtonRef,u=t.previousButtonRef,l=t.carouselIdRef,d=t.canScrollLeft,p=t.canScrollRight,f=t.setCanScrollLeft,h=t.setCanScrollRight,m=t.classNames,v=void 0===m?{}:m,g=t.itemComponent,y=void 0===g?function(e){var t=e.createElement,n=e.Fragment;return function(e){return t(n,null,JSON.stringify(e.item,null,2))}}({createElement:n,Fragment:r}):g,_=t.previousIconComponent,b=void 0===_?wf:_,w=t.nextIconComponent,k=void 0===w?kf:w,x=t.headerComponent,O=t.showNavigation,S=void 0===O||O,E=t.items,T=t.translations,C=t.sendEvent,j=o(t,yf),I=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_f(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({listLabel:"Items",nextButtonLabel:"Next",nextButtonTitle:"Next",previousButtonLabel:"Previous",previousButtonTitle:"Previous"},T),P={root:i("ais-Carousel",v.root),list:i("ais-Carousel-list",v.list),item:i("ais-Carousel-item",v.item),navigation:i("ais-Carousel-navigation",v.navigation),navigationNext:i("ais-Carousel-navigation--next",v.navigationNext),navigationPrevious:i("ais-Carousel-navigation--previous",v.navigationPrevious)};function N(){s.current&&(s.current.scrollLeft-=.75*s.current.offsetWidth)}function A(){s.current&&(s.current.scrollLeft+=.75*s.current.offsetWidth)}return 0===E.length?null:n("div",e({},j,{className:i(P.root)}),x&&n(x,{canScrollLeft:d,canScrollRight:p,scrollLeft:N,scrollRight:A}),S&&n("button",{ref:u,title:I.previousButtonTitle,"aria-label":I.previousButtonLabel,hidden:!0,"aria-controls":l.current,className:i(P.navigation,P.navigationPrevious),onClick:function(e){e.preventDefault(),N()}},n(b,{createElement:n})),n("ol",{className:i(P.list),ref:s,tabIndex:0,id:l.current,"aria-roledescription":"carousel","aria-label":I.listLabel,"aria-live":"polite",onScroll:function(){if(s.current){var e=s.current.scrollLeft<=0,t=s.current.scrollLeft+s.current.clientWidth>=s.current.scrollWidth;f(!e),h(!t),u.current&&(u.current.hidden=e),c.current&&(c.current.hidden=t)}},onKeyDown:function(e){"ArrowLeft"===e.key?(e.preventDefault(),N()):"ArrowRight"===e.key&&(e.preventDefault(),A())}},E.map(function(e,t){return n("li",{key:e.objectID,className:i(P.item),"aria-roledescription":"slide","aria-label":"".concat(t+1," of ").concat(E.length),onClick:function(){C("click:internal",e,"Item Clicked")},onAuxClick:function(){C("click:internal",e,"Item Clicked")}},n(y,{item:e,sendEvent:C}))})),S&&n("button",{ref:c,title:I.nextButtonTitle,"aria-label":I.nextButtonLabel,"aria-controls":l.current,className:i(P.navigation,P.navigationNext),onClick:function(e){e.preventDefault(),A()}},n(k,{createElement:n})))}}({createElement:en,Fragment:nn});function Pf(e){var t=Cf($n(!1),2),n=t[0],r=t[1],a=Cf($n(!0),2),o=a[0],i=a[1],s={listRef:Zn(null),nextButtonRef:Zn(null),previousButtonRef:Zn(null),carouselIdRef:Zn("ais-Carousel-".concat(bf++)),canScrollLeft:n,canScrollRight:o,setCanScrollLeft:r,setCanScrollRight:i};return en(If,Tf({},s,e))}function Nf(e){return Nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(e)}var Af=["container","templates","cssClasses","resume","tools","getSearchPageURL"];function zf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zf(Object(n),!0).forEach(function(t){Mf(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Mf(e,t,n){return t=function(e){var t=function(e){if("object"!=Nf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Nf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Nf(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$f.apply(this,arguments)}function Zf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Df=Np({name:"chat"}),Ff=function(t){var n=t.createElement,r=t.Fragment,s=function(t){var n=t.createElement,r=c({createElement:n});return function(t){var a=t.open,s=t.onClick,c=t.toggleIconComponent,l=t.classNames,p=void 0===l?{}:l,f=t.className,h=o(t,At),m=n(a?d:u,{createElement:n,width:28,height:28});return n(r,e({variant:"primary",size:"md",iconOnly:!0,className:i("ais-ChatToggleButton",a&&"ais-ChatToggleButton--open",p.root,f),onClick:s},h),c?n(c,{isOpen:a}):m)}}({createElement:n,Fragment:r}),p=function(t){var n=t.createElement,r=c({createElement:n});return function(t){var s=t.maximized,c=void 0!==s&&s,l=t.onToggleMaximize,d=t.onClose,p=t.onClear,v=t.canClear,g=void 0!==v&&v,y=t.closeIconComponent,_=(t.minimizeIconComponent,t.maximizeIconComponent),b=t.titleIconComponent,x=t.classNames,O=void 0===x?{}:x,S=t.translations,E=o(t,w),T=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({title:"Chat",minimizeLabel:"Minimize chat",maximizeLabel:"Maximize chat",closeLabel:"Close chat",clearLabel:"Clear"},S),C=n(c?m:h,{createElement:n});return n("div",e({className:i("ais-ChatHeader",O.root,E.className)},E),n("span",{className:i("ais-ChatHeader-title",O.title)},n("span",{className:i("ais-ChatHeader-titleIcon",O.titleIcon)},b?n(b,null):n(u,{createElement:n,width:20,height:20})),T.title),n("div",{className:i("ais-ChatHeader-actions")},p&&n(r,{variant:"ghost",size:"sm",className:i("ais-ChatHeader-clear",O.clear),onClick:p,disabled:!g},T.clearLabel),n(r,{variant:"ghost",size:"sm",iconOnly:!0,className:i("ais-ChatHeader-maximize",O.maximize),onClick:l,"aria-label":c?T.minimizeLabel:T.maximizeLabel},_?n(_,{maximized:c}):C),n(r,{variant:"ghost",size:"sm",iconOnly:!0,className:i("ais-ChatHeader-close",O.close),onClick:d,"aria-label":T.closeLabel,title:T.closeLabel},y?n(y,null):n(f,{createElement:n}))))}}({createElement:n,Fragment:r}),g=It({createElement:n,Fragment:r}),y=function(t){var n=t.createElement,r=c({createElement:n}),s=null,u=0,d=0,p=function(){if(s){s.style.height="auto";var e=s.scrollHeight;if(s.getAttribute("data-max-rows")){var t=parseInt(s.getAttribute("data-max-rows")||"0",10);if(t>0){var n=t*u+d;return s.style.overflowY=e>n?"auto":"hidden",void(s.style.height="".concat(Math.min(e,n),"px"))}}s.style.overflowY="hidden",s.style.height="".concat(e,"px")}};return function(t){var c=t.classNames,f=void 0===c?{}:c,h=t.headerComponent,m=t.footerComponent,g=t.value,y=t.placeholder,_=t.status,b=void 0===_?"ready":_,w=t.disabled,k=void 0!==w&&w,x=t.maxRows,O=void 0===x?5:x,S=t.autoFocus,E=void 0===S||S,T=t.translations,C=t.onInput,j=t.onSubmit,I=t.onKeyDown,P=t.onStop,N=t.promptRef,A=o(t,Pt),z=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({textareaLabel:"Type your message...",textareaPlaceholder:"Type your message...",emptyMessageTooltip:"Message is empty",stopResponseTooltip:"Stop response",sendMessageTooltip:"Send message",disclaimer:"AI can make mistakes. Verify responses."},T),R={root:i("ais-ChatPrompt",f.root),header:i("ais-ChatPrompt-header",f.header),body:i("ais-ChatPrompt-body",f.body),textarea:i("ais-ChatPrompt-textarea ais-Scrollbar",k&&"ais-ChatPrompt-textarea--disabled",f.textarea),actions:i("ais-ChatPrompt-actions",f.actions,k&&"ais-ChatPrompt-actions--disabled"),submit:i("ais-ChatPrompt-submit",f.submit),footer:i("ais-ChatPrompt-footer",f.footer)},M="string"==typeof g?""!==g.trim():Boolean(g),$="submitted"===b||"streaming"===b,Z=!M&&!$||k,L=n($?v:l,{createElement:n});return n("form",{className:i(R.root,A.className),onSubmit:function(e){e.preventDefault(),$?null==P||P():M&&(null==j||j(e))}},h&&n("div",{className:i(R.header)},n(h,null)),n("div",{className:i(R.body),onClick:function(e){var t;e.target!==s&&(null===(t=s)||void 0===t||t.focus())}},n("textarea",e({},A,{ref:function(e){return function(e,t){if(s=e,t&&(t.current=e),e){var n=getComputedStyle(e);u=parseFloat(n.lineHeight);var r=parseFloat(n.paddingTop),a=parseFloat(n.paddingBottom);d=r+a,p()}}(e,N)},"data-max-rows":O,className:i(R.textarea),value:g,placeholder:y||z.textareaPlaceholder,"aria-label":z.textareaLabel,disabled:k,autoFocus:E,onInput:function(e){p(),null==C||C(e)},onKeyDown:function(e){if(null==I||I(e),"Enter"===e.key&&!e.shiftKey){if(e.preventDefault(),$)return void(null==P||P());if(!M)return;null==j||j(e)}"Escape"===e.key&&e.currentTarget&&e.currentTarget.blur&&e.currentTarget.blur()}})),n("div",{className:i(R.actions)},n(r,{type:"submit",variant:"primary",size:"sm",iconOnly:!0,className:i(R.submit),disabled:Z,"aria-label":Z?z.emptyMessageTooltip:$?z.stopResponseTooltip:z.sendMessageTooltip,"data-status":b},L))),n("div",{className:i(R.footer)},m?n(m,null):n("div",{className:"ais-ChatPrompt-disclaimer"},z.disclaimer)))}}({createElement:n,Fragment:r});return function(t){var r=t.open,a=t.maximized,c=void 0!==a&&a,u=t.headerProps,l=t.toggleButtonProps,d=t.messagesProps,f=t.promptProps,h=void 0===f?{}:f,m=t.headerComponent,v=t.promptComponent,_=t.toggleButtonComponent,b=t.classNames,w=void 0===b?{}:b,k=t.className,x=o(t,zt);return n("div",e({},x,{className:i("ais-Chat",c&&"ais-Chat--maximized",w.root,k)}),n("div",{className:i("ais-Chat-container",r&&"ais-Chat-container--open",c&&"ais-Chat-container--maximized",w.container)},n(m||p,Mt(Mt({},u),{},{classNames:w.header,maximized:c})),n(g,e({},d,{classNames:w.messages})),n(v||y,Mt(Mt({},h),{},{classNames:w.prompt}))),n("div",{className:"ais-Chat-toggleButtonWrapper"},n(_||s,Mt(Mt({},l),{},{classNames:w.toggleButton,onClick:function(){var e,t,n;null===(e=l.onClick)||void 0===e||e.call(l),r||null===(t=h.promptRef)||void 0===t||null===(n=t.current)||void 0===n||n.focus()}}))))}}({createElement:en,Fragment:nn});function Uf(e){return Object.fromEntries(Object.entries(e).filter(function(e){return void 0!==Zf(e,2)[1]}))}var Bf=en(function(e){var t=e.createElement,n=e.width,r=void 0===n?16:n,a=e.height;return t("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:void 0===a?16:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"M5 12h14"}),t("path",{d:"m12 5 7 7-7 7"}))},{createElement:en}),Hf=en(function(e){var t=e.createElement,n=e.width,r=void 0===n?16:n,a=e.height;return t("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:void 0===a?16:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"m15 18-6-6 6-6"}))},{createElement:en}),Vf=en(function(e){var t=e.createElement,n=e.width,r=void 0===n?16:n,a=e.height;return t("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:void 0===a?16:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"m9 18 6-6-6-6"}))},{createElement:en});function Wf(e,t,n){var r=c({createElement:en});function a(t){var n=t.canScrollLeft,a=t.canScrollRight,o=t.scrollLeft,i=t.scrollRight,s=t.nbHits,c=t.query,u=t.hitsPerPage,l=t.setIndexUiState,d=t.indexUiState,p=t.onClose,f=t.getSearchPageURL;return(null!=u?u:0)<1?null:en("div",{className:"ais-ChatToolSearchIndexCarouselHeader"},en("div",{className:"ais-ChatToolSearchIndexCarouselHeaderResults"},s&&en("div",{className:"ais-ChatToolSearchIndexCarouselHeaderCount"},null!=u?u:0," of ",s.toLocaleString()," result",s>1?"s":""),e&&en(r,{variant:"ghost",size:"sm",onClick:function(){if(c){var e=Rf(Rf({},d),{},{query:c});if(!f||f&&new URL(f(e)).pathname===window.location.pathname)return l(e),void p();window.location.href=f(e)}},className:"ais-ChatToolSearchIndexCarouselHeaderViewAll"},"View all",Bf)),(null!=u?u:0)>2&&en("div",{className:"ais-ChatToolSearchIndexCarouselHeaderScrollButtons"},en(r,{variant:"outline",size:"sm",iconOnly:!0,onClick:o,disabled:!n,className:"ais-ChatToolSearchIndexCarouselHeaderScrollButton"},Hf),en(r,{variant:"outline",size:"sm",iconOnly:!0,onClick:i,disabled:!a,className:"ais-ChatToolSearchIndexCarouselHeaderScrollButton"},Vf)))}return{templates:{layout:function(e){var r=e.message,o=e.indexUiState,s=e.setIndexUiState,c=e.onClose,u=null==r?void 0:r.input,l=null==r?void 0:r.output,d=(null==l?void 0:l.hits)||[];return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cssClasses,n=e.templates,r=void 0===n?{}:n,a=e.showNavigation,o=void 0===a||a;return function(e){var n=e.items,a=e.templates,s=e.cssClasses,c=void 0===s?{}:s,u=e.sendEvent,l=void 0===u?function(){}:u,d=r.previous,p=r.next,f=r.header;return en(Pf,{items:n,sendEvent:l,itemComponent:a.item,headerComponent:f?function(e){return f(Sf({html:er},e))}:void 0,previousIconComponent:d?function(){return d({html:er})}:void 0,nextIconComponent:p?function(){return p({html:er})}:void 0,classNames:Sf(Sf({},t),{list:i(null==t?void 0:t.list,null==c?void 0:c.list),item:i(null==t?void 0:t.item,null==c?void 0:c.item)}),showNavigation:o})}}({showNavigation:!1,templates:{header:Ln(function(){return function(e){return en(a,$f({nbHits:null==l?void 0:l.nbHits,query:null==u?void 0:u.query,hitsPerPage:d.length,setIndexUiState:s,indexUiState:o,getSearchPageURL:n,onClose:c},e))}},[d.length,null==u?void 0:u.query,null==l?void 0:l.nbHits,s,o,c])}})({items:d,templates:{item:function(e){var n=e.item;return en(fa,{templates:t,templateKey:"item",data:n,rootTagName:"fragment"})}},sendEvent:function(){}})}}}}function Kf(e){var t=e.cssClasses,n=e.chatOpen,r=e.setChatOpen,a=e.chatMessages,o=e.setChatMessages,i=e.indexUiState,s=e.setIndexUiState,c=e.chatStatus,u=e.chatInput,l=e.setChatInput,d=e.sendMessage,p=e.regenerate,f=e.stop,h=e.toolsForUi,m=e.toggleButtonProps,v=e.headerProps,g=e.messagesProps,y=e.promptProps,_=e.state,b=gf({initial:"smooth",resize:"smooth"}),w=b.scrollRef,k=b.contentRef,x=b.scrollToBottom,O=b.isAtBottom;_.init();var S=Zf(_.use(!1),2),E=S[0],T=S[1],C=Zf(_.use(!1),2),j=C[0],I=C[1];return en(Ff,{classNames:t,open:n,maximized:j,toggleButtonComponent:m.layoutComponent,toggleButtonProps:{open:n,onClick:function(){return r(!n)},toggleIconComponent:m.iconComponent},headerComponent:v.layoutComponent,promptComponent:y.layoutComponent,headerProps:{onClose:function(){return r(!1)},maximized:j,onToggleMaximize:function(){return I(!j)},onClear:function(){return T(!0)},canClear:Boolean(null==a?void 0:a.length)&&!E,closeIconComponent:v.closeIconComponent,minimizeIconComponent:v.minimizeIconComponent,maximizeIconComponent:v.maximizeIconComponent,titleIconComponent:v.titleIconComponent,translations:v.translations},messagesProps:{status:c,onReload:function(e){return p({messageId:e})},onClose:function(){return r(!1)},messages:a,indexUiState:i,isClearing:E,onClearTransitionEnd:function(){o([]),T(!1)},isScrollAtBottom:O,scrollRef:w,contentRef:k,onScrollToBottom:x,setIndexUiState:s,tools:h,loaderComponent:g.loaderComponent,errorComponent:g.errorComponent,actionsComponent:g.actionsComponent,translations:g.translations},promptProps:{promptRef:y.promptRef,status:c,value:u,onInput:function(e){l(e.currentTarget.value)},onSubmit:function(){d({text:u}),l("")},onStop:function(){f()},headerComponent:y.headerComponent,footerComponent:y.footerComponent,translations:y.translations}})}var qf={item:function(e){return JSON.stringify(e,null,2)}};const Jf=function(e){var t=e||{},n=t.container,r=t.templates,a=void 0===r?{}:r,o=t.cssClasses,i=void 0===o?{}:o,s=t.resume,c=void 0!==s&&s,u=t.tools,l=t.getSearchPageURL,d=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,Af);if(!n)throw new Error(Df("The `container` option is required."));var p=function(e){var t="string"==typeof e,n=t?document.querySelector(e):e;if(!function(e){return e instanceof HTMLElement||Boolean(e)&&e.nodeType>0}(n)){var r="Container must be `string` or `HTMLElement`.";throw t&&(r+=" Unable to find ".concat(e)),new Error(r)}return n}(n),f=Rf(Rf({},qf),a),h=function(e,t){var n;return Mf(n={},"algolia_search_index",Wf(!0,e,t)),Mf(n,"algolia_recommend",Wf(!1,e,t)),n}(f,l),m=Rf(Rf({},h),u),v=function(e){var t=e.renderState,n=e.cssClasses,r=e.containerNode,a=e.templates,o=e.tools,i=function(){var e=[],t=new Set,n=0;return{init:function(){n=0},subscribe:function(e){return t.add(e),function(){return t.delete(e)}},use:function(r){var a=n++;return void 0===e[a]&&(e[a]=r),[e[a],function(n){var r=e[a];return r===n?r:(e[a]=n,t.forEach(function(e){return e()}),n)}]}}}(),s={current:null};return function(e,c){var u,l,d,p,f,h,m,v,g,y,_,b,w,k,x,O,S,E,T,C,j,I,P,N,A,z,R,M=e.indexUiState,$=e.input,Z=e.instantSearchInstance,L=e.messages,D=e.open,F=e.sendMessage,U=e.setIndexUiState,B=e.setInput,H=e.setMessages,V=e.setOpen,W=e.status,K=(e.error,e.addToolResult),q=e.regenerate,J=e.stop;if(c)t.templateProps=Qp({defaultTemplates:{},templatesConfig:Z.templatesConfig,templates:a});else{var Y={};Object.entries(o).forEach(function(e){var t=Zf(e,2),n=t[0],r=t[1];Y[n]=Rf(Rf({},r),{},{addToolResult:K,layoutComponent:function(e){return en(fa,{templates:r.templates,rootTagName:"fragment",templateKey:"layout",data:e})}})});var G=Qp({defaultTemplates:{},templatesConfig:Z.templatesConfig,templates:a.header}),X=null!==(u=a.header)&&void 0!==u&&u.layout?function(e){return en(fa,$f({},G,{templateKey:"layout",rootTagName:"div",data:e}))}:void 0,Q=null!==(l=a.header)&&void 0!==l&&l.closeIcon?function(){return en(fa,$f({},G,{templateKey:"closeIcon",rootTagName:"span"}))}:void 0,ee=null!==(d=a.header)&&void 0!==d&&d.minimizeIcon?function(){return en(fa,$f({},G,{templateKey:"minimizeIcon",rootTagName:"span"}))}:void 0,te=null!==(p=a.header)&&void 0!==p&&p.maximizeIcon?function(e){var t=e.maximized;return en(fa,$f({},G,{templateKey:"maximizeIcon",rootTagName:"span",data:{maximized:t}}))}:void 0,ne=null!==(f=a.header)&&void 0!==f&&f.titleIcon?function(){return en(fa,$f({},G,{templateKey:"titleIcon",rootTagName:"span"}))}:void 0,re=Uf({title:null===(h=a.header)||void 0===h?void 0:h.titleText,minimizeLabel:null===(m=a.header)||void 0===m?void 0:m.minimizeLabelText,maximizeLabel:null===(v=a.header)||void 0===v?void 0:v.maximizeLabelText,closeLabel:null===(g=a.header)||void 0===g?void 0:g.closeLabelText,clearLabel:null===(y=a.header)||void 0===y?void 0:y.clearLabelText}),ae=Qp({defaultTemplates:{},templatesConfig:Z.templatesConfig,templates:a.messages}),oe=null!==(_=a.messages)&&void 0!==_&&_.loader?function(e){return en(fa,$f({},ae,{templateKey:"loader",rootTagName:"div",data:e}))}:void 0,ie=null!==(b=a.messages)&&void 0!==b&&b.error?function(e){return en(fa,$f({},ae,{templateKey:"error",rootTagName:"div",data:e}))}:void 0,se=Uf({scrollToBottomLabel:null===(w=a.messages)||void 0===w?void 0:w.scrollToBottomLabelText,loaderText:null===(k=a.messages)||void 0===k?void 0:k.loaderText,copyToClipboardLabel:null===(x=a.messages)||void 0===x?void 0:x.copyToClipboardLabelText,regenerateLabel:null===(O=a.messages)||void 0===O?void 0:O.regenerateLabelText}),ce=Qp({defaultTemplates:{},templatesConfig:Z.templatesConfig,templates:a.prompt}),ue=null!==(S=a.prompt)&&void 0!==S&&S.layout?function(e){return en(fa,$f({},ce,{templateKey:"layout",rootTagName:"div",data:e}))}:void 0,le=null!==(E=a.prompt)&&void 0!==E&&E.header?function(){return en(fa,$f({},ce,{templateKey:"header",rootTagName:"fragment"}))}:void 0,de=null!==(T=a.prompt)&&void 0!==T&&T.footer?function(){return en(fa,$f({},ce,{templateKey:"footer",rootTagName:"fragment"}))}:void 0,pe=Uf({textareaLabel:null===(C=a.prompt)||void 0===C?void 0:C.textareaLabelText,textareaPlaceholder:null===(j=a.prompt)||void 0===j?void 0:j.textareaPlaceholderText,emptyMessageTooltip:null===(I=a.prompt)||void 0===I?void 0:I.emptyMessageTooltipText,stopResponseTooltip:null===(P=a.prompt)||void 0===P?void 0:P.stopResponseTooltipText,sendMessageTooltip:null===(N=a.prompt)||void 0===N?void 0:N.sendMessageTooltipText,disclaimer:null===(A=a.prompt)||void 0===A?void 0:A.disclaimerText}),fe=a.actions?function(e){return en(fa,$f({},t.templateProps,{templateKey:"actions",rootTagName:"div",data:e}))}:void 0,he=Qp({defaultTemplates:{},templatesConfig:Z.templatesConfig,templates:a.toggleButton}),me=null!==(z=a.toggleButton)&&void 0!==z&&z.layout?function(e){return en(fa,$f({},he,{templateKey:"layout",rootTagName:"button",data:e}))}:void 0,ve=null!==(R=a.toggleButton)&&void 0!==R&&R.icon?function(e){var t=e.isOpen;return en(fa,$f({},he,{templateKey:"icon",rootTagName:"span",data:{isOpen:t}}))}:void 0;i.subscribe(ge),ge()}function ge(){kn(en(Kf,{cssClasses:n,chatOpen:D,setChatOpen:V,chatMessages:L,setChatMessages:H,indexUiState:M,setIndexUiState:U,chatStatus:W,chatInput:$,setChatInput:B,sendMessage:F,regenerate:q,stop:J,toolsForUi:Y,toggleButtonProps:{layoutComponent:me,iconComponent:ve},headerProps:{layoutComponent:X,closeIconComponent:Q,minimizeIconComponent:ee,maximizeIconComponent:te,titleIconComponent:ne,translations:re},messagesProps:{loaderComponent:oe,errorComponent:ie,actionsComponent:fe,translations:se},promptProps:{layoutComponent:ue,headerComponent:le,footerComponent:de,translations:pe,promptRef:s},state:i}),r)}}}({containerNode:p,cssClasses:i,renderState:{},templates:f,tools:m});return Rf(Rf({},Kp(v,function(){return kn(null,p)})(Rf({resume:c,tools:m},d))),{},{$$widgetType:"ais.chat"})}})(),r.default})());